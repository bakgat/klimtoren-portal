!function(){"use strict";angular.module("notosportal",["notosportal.core","notosportal.layout","notosportal.widgets","notosportal.dashboard","notosportal.info","notosportal.media"])}(),angular.module("notosportal.core",["ngAnimate","ngSanitize","ngResource","ui.bootstrap","ncy-angular-breadcrumb","restangular","blocks.exception","blocks.logger","blocks.router"]),function(){"use strict";angular.module("notosportal.dashboard",[])}(),function(){"use strict";angular.module("notosportal.layout",[])}(),function(){"use strict";angular.module("notosportal.media",[])}(),function(){"use strict";angular.module("notosportal.info",[])}(),function(){"use strict";angular.module("notosportal.widgets",[])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router"])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";function t(){function t(t){var n,e,r,i,a,c="",s="",l="",u=0;do n=t.charCodeAt(u++),e=t.charCodeAt(u++),s=t.charCodeAt(u++),r=n>>2,i=(3&n)<<4|e>>4,a=(15&e)<<2|s>>6,l=63&s,isNaN(e)?a=l=64:isNaN(s)&&(l=64),c=c+o.charAt(r)+o.charAt(i)+o.charAt(a)+o.charAt(l),n=e=s="",r=i=a=l="";while(u<t.length);return c}function n(t){var n,e,r,i,a,c="",s="",l="",u=0,f=/[^A-Za-z0-9\+\/\=]/g;f.exec(t)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=o.indexOf(t.charAt(u++)),i=o.indexOf(t.charAt(u++)),a=o.indexOf(t.charAt(u++)),l=o.indexOf(t.charAt(u++)),n=r<<2|i>>4,e=(15&i)<<4|a>>2,s=(3&a)<<6|l,c+=String.fromCharCode(n),64!=a&&(c+=String.fromCharCode(e)),64!=l&&(c+=String.fromCharCode(s)),n=e=s="",r=i=a=l="";while(u<t.length);return c}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e={encode:t,decode:n};return e}angular.module("notosportal.core").factory("Base64",t)}(),function(){"use strict";function t(t,n,o,e){function r(){return n.$broadcast.apply(n,arguments)}function i(t){return/^[-]?\d+$/.test(t)}function a(t,n){return t&&-1!==t.toLowerCase().indexOf(n.toLowerCase())}var c={$broadcast:r,$q:t,$timeout:o,isNumber:i,logger:e,textContains:a};return c}angular.module("notosportal.core").factory("common",t),t.$inject=["$q","$rootScope","$timeout","logger"]}(),function(){"use strict";function t(t){t.options.timeOut=4e3,t.options.closeButton=!0,t.options.progressBar=!0,t.options.positionClass="toast-bottom-right"}function n(t,n,o,e,i){function a(){o.config.$urlRouterProvider=t,o.config.$stateProvider=n,o.config.title=r.appTitle}function c(){e.setOptions({prefixStateName:"index",template:"bootstrap3",includeAbstract:!0})}function s(){var t="/api";i.setBaseUrl(t)}a(),c(),s()}function o(t){t.$on("$viewContentLoaded",function(){angular.element("html, body").animate({scrollTop:0},200)})}var e=angular.module("notosportal.core");e.config(t),t.$inject=["toastr"];var r={appErrorPrefix:"[Fout] ",appTitle:"VBS De Klimtoren",version:"1.0.0"};e.value("config",r),e.config(n),e.run(o),n.$inject=["$urlRouterProvider","$stateProvider","routehelperConfigProvider","$breadcrumbProvider","RestangularProvider"],o.$inject=["$rootScope"]}(),function(){"use strict";angular.module("notosportal.core").constant("toastr",toastr).constant("moment",moment).constant("gapi",gapi)}(),function(){"use strict";function t(t,n){function o(){FB.init({appId:"466280350201960",channelUrl:"js/modules/core/fb-channel.html",cookie:!0,xfbml:!0,version:"v2.3"})}t.fbAsyncInit=function(){o(),n.$broadcast("fb.init")},function(t){var n,o="facebook-jssdk",e=t.getElementsByTagName("script")[0];t.getElementById(o)||(n=t.createElement("script"),n.id=o,n.async=!0,n.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(n,e))}(document)}angular.module("notosportal.core").run(t),t.$inject=["$window","common"]}(),function(){"use strict";function t(t,n){function o(){e.collections=t.take(4),n.campaigns(3).then(function(t){e.campaigns=t.data.campaigns})}var e=this;e.facebookurl="https://www.facebook.com/vbsdeklimtoren",e.collections=[],e.campaigns=[],o()}angular.module("notosportal.dashboard").controller("DashboardController",t),t.$inject=["GPCollections","MailChimp"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"index",config:{"abstract":!0,url:"/index",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"start"}},{state:"index.dashboard",config:{url:"/dashboard",views:{"content@index":{templateUrl:"js/modules/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm"},"slider@index":{templateUrl:"js/modules/dashboard/slider.html"}},title:"Dashboard"}}]}angular.module("notosportal.dashboard").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t,n){function o(){console.log(n),t.memberCount().then(function(t){e.campaign_members=t.data.stats.member_count})}var e=this;e.campaign_members=0,o()}angular.module("notosportal.layout").controller("ShellController",t),t.$inject=["MailChimp","$state"]}(),function(){"use strict";function t(){function t(){return e}function n(t){for(var n=[],o=0;t>o&&o<e.length;)n.push(e[o]),o++;return n}var o={get:t,take:n},e=[{name:"2015-2016",href:"https://plus.google.com/b/103406123671942529660/collection/sYLa3"},{name:"2014-2015",href:"https://plus.google.com/b/103406123671942529660/collection/U5aa3",preview:"https://lh3.googleusercontent.com/-WuQRYCenP8w/VelsvrGL-fI/AAAAAAAAAqI/rj6IT0gPJWM/w640-h480-p/DSCN3028.JPG"},{name:"2013-2014",href:"https://plus.google.com/b/103406123671942529660/collection/EoNP2",preview:"https://lh3.googleusercontent.com/-XuNc8zcK6cg/VelygWhfKUI/AAAAAAAAAvQ/8EZzWBFBgdA/w777-h583-no/IMG_2789.JPG"}];return o}angular.module("notosportal.media").factory("GPCollections",t)}(),function(){"use strict";function t(t,n){function o(n){function o(t){return t.data}return t.get("/api/mailchimp/campaigns",{params:{take:n}}).success(o)}function e(){function n(t){return t.data}return t.get("/api/mailchimp/member_count").success(n)}var r={campaigns:o,memberCount:e};return r}angular.module("notosportal.media").factory("MailChimp",t),t.$inject=["$http","$q"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"media",config:{"abstract":!0,url:"/media",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"in beeld"}},{state:"media.photos",config:{url:"/photos",views:{"content@media":{templateUrl:"js/modules/media/photos.html",controller:"PhotoController",controllerAs:"vm"}},title:"foto's"}}]}angular.module("notosportal.info").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t){function n(){o.collections=t.get()}var o=this;o.collections=[],n()}angular.module("notosportal.media").controller("PhotoController",t),t.$inject=["GPCollections"]}(),function(){"use strict";function t(t){function n(){function n(t){o.campaigns=t.data.campaigns}t.campaigns().then(n)}var o=this;o.campaigns=[],n()}angular.module("notosportal.info").controller("CampaignsController",t),t.$inject=["MailChimp"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"info",config:{"abstract":!0,url:"/info",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"Info"}},{state:"info.contact",config:{url:"/contact",views:{"content@info":{templateUrl:"js/modules/info/contact.html"}},title:"Contact"}},{state:"info.about",config:{url:"/about",views:{"content@info":{templateUrl:"js/modules/info/about.html"}},title:"Over onze school"}},{state:"info.care",config:{url:"/care",views:{"content@info":{templateUrl:"js/modules/info/care.html"}},title:"Zorg op onze school"}},,{state:"info.campaigns",config:{url:"/campaigns",views:{"content@info":{templateUrl:"js/modules/info/campaigns.html",controller:"CampaignsController",controllerAs:"vm"}},title:"Nieuwsbrieven"}}]}angular.module("notosportal.info").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(){function t(t,n,o){function e(){var t=o.appearAnimationDelay||1;t>1&&$(n).css("animation-delay",t+"ms"),$(n).addClass("animated").addClass(o.appearAnimation)}angular.element("body").hasClass("no-csstransitions")||$(n).bind("appear",e)}var n={restrict:"A",link:t};return n}angular.module("notosportal.widgets").directive("appearAnimation",t)}(),function(){"use strict";function t(t){function n(n,o,e){o.addClass("fwb-bg fwb-blur"),t(function(){var n=new Image,r='<div class="blur-box"/>';o.find("canvas").length||(e.image?n.src=e.image:"none"!==o.css("background-image")&&(n.src=o.css("background-image").replace("url(","").replace(")",""),o.css("background-image","none")),n.onload=function(){Pixastic.process(n,"blurfast",{amount:e.amount||2})},o.prepend(r).find(".blur-box").prepend(n)),t(function(){var t=o.find("canvas");t.width()==o.width()?t.css({marginLeft:0,marginTop:-((t.height()-o.height())/2)}):t.css({marginTop:0,marginLeft:-((t.width()-o.width())/2)}),$("body").addClass("blur-load")},50)})}var o={restrict:"A",link:n};return o}angular.module("notosportal.widgets").directive("blur",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(){function t(t,n,o){n.find(".gallery-images, .lightbox").fancybox({nextEffect:"fade",prevEffect:"fade",openEffect:"fade",closeEffect:"fade",helpers:{overlay:{locked:!1},title:{type:"over"}},tpl:{closeBtn:'<a title="Sluiten" class="fancybox-item fancybox-close" href="javascript:;">Ã—</a>',next:'<a title="Volgende" class="fancybox-nav fancybox-next" href="javascript:;">\n						<span><svg x="0" y="0" width="9px" height="16px" viewBox="0 0 9 16" enable-background="new 0 0 9 16" xml:space="preserve"><polygon fill-rule="evenodd" clip-rule="evenodd" fill="#fcfcfc" points="1,0.001 0,1.001 7,8 0,14.999 1,15.999 9,8 "/></svg></span>\n					</a>',prev:'<a title="Vorige" class="fancybox-nav fancybox-prev" href="javascript:;">\n						<span><svg x="0" y="0" width="9px" height="16px" viewBox="0 0 9 16" enable-background="new 0 0 9 16" xml:space="preserve"><polygon fill-rule="evenodd" clip-rule="evenodd" fill="#fcfcfc" points="8,15.999 9,14.999 2,8 9,1.001 8,0.001 0,8 "/></svg></span>\n					</a>'}})}var n={restrict:"A",link:t};return n}angular.module("notosportal.widgets").directive("fancybox",t)}(),function(){"use strict";function t(){function t(t,n){n.addClass("livicon"),n.addLivicon()}var n={restrict:"A",replace:!0,scope:!1,link:t};return n}angular.module("notosportal.widgets").directive("livicon",t)}(),function(){"use strict";function t(t,n){function o(o,e,r){t(function(){function t(){var t=e.offset().top,r=n.pageYOffset;t>r?e.css({backgroundPosition:"50% "+(t-r)/o+"px"}):e.css({backgroundPosition:"50% "+-(t-r)/o+"px"})}e.addClass("fwb-bg fwb-blur");var o=r.speed||3;t(),angular.element(n).bind("scroll",t)})}var e={restrict:"A",link:o};return e}angular.module("notosportal.widgets").directive("paralax",t),t.$inject=["$timeout","$window"]}(),function(){"use strict";function t(t){function n(n,o,e){t(function(){var t=o;if(t.closest(".rs-slider").hasClass("full-width")){var n,e=angular.element("body"),r=(e.width(),0),i=104;angular.element("#top-box").length&&e.hasClass("hidden-top")&&(r=angular.element("#top-box").outerHeight()-32),n=e.width()>=1200?e.height()-(r+i):800,t.revolution({delay:6e3,startwidth:1200,startheight:n,hideThumbs:10,navigationType:"bullet",navigationArrows:"solo",navigationHAlign:"center",navigationVAlign:"top",navigationHOffset:-545,navigationVOffset:30,hideTimerBar:"on"}).parent().parent().removeClass("load")}else t.revolution({delay:6e3,startwidth:1200,startheight:500,hideThumbs:10,navigationType:"none",onHoverStop:"off"}).parent().parent().removeClass("load")})}var o={restrict:"A",link:n};return o}angular.module("notosportal.widgets").directive("rsSlider",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(t,n){function o(o,e,r){n.error(o,r),t.error("Fout: "+o,e)}function e(o,e,r){n.info(o,r),t.info("Info: "+o,e)}function r(o,e,r){n.success(o,r),t.info("Succes: "+o,e)}function i(o,e,r){n.warning(o,r),t.warn("Let op: "+o,e)}function a(o,e,r){n.warning(o,r),t.warn("Verwijderd: "+o,e)}function c(o,e,r){n.success(o,r),t.info("Bewaard: "+o,e)}var s={showToasts:!0,error:o,info:e,success:r,warning:i,removed:a,saved:c,log:t.log};return s}angular.module("blocks.logger").factory("logger",t),t.$inject=["$log","toastr"]}(),function(){"use strict";function t(){this.config={},this.$get=function(){return{config:this.config}}}function n(t,n,o){function e(t){t.forEach(function(t){t.config.title&&(t.config.ncyBreadcrumb={label:t.config.title.toLowerCase()}),l.state(t.state,t.config)})}function r(){return o.get()}function i(t){var n=null;return r().forEach(function(o){o.name===t&&(n=o)}),n}function a(){c(),s.otherwise("/index/dashboard")}function c(){n.$on("$stateChangeSuccess",function(o,e,r){var i=t.config.title+(e.title?" | "+e.title:"");n.title=i,n.$state=e})}var s=t.config.$urlRouterProvider,l=t.config.$stateProvider,u={configureStates:e,states:r,get:i};return a(),u}angular.module("blocks.router").provider("routehelperConfig",t).factory("routehelper",n),n.$inject=["routehelperConfig","$rootScope","$state"]}(),function(){"use strict";function t(){this.config={appErrorPrefix:void 0},this.configure=function(t){this.config.appErrorPrefix=t},this.$get=function(){return{config:this.config}}}function n(t){t.decorator("$exceptionHandler",o)}function o(t,n,o){return function(e,r){var i=n.config.appErrorPrefix||"",a={exception:e,cause:r};e.message=i+e.message,t(e,r),o.error(e.message,a)}}angular.module("blocks.exception").provider("exceptionHandler",t).config(n),n.$inject=["$provide"],o.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function t(t){function n(n){return function(o){t.error(n,o)}}var o={catcher:n};return o}angular.module("blocks.exception").factory("exception",t),t.$inject=["logger"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdG9zcG9ydGFsLm1vZHVsZS5qcyIsImNvcmUvY29yZS5tb2R1bGUuanMiLCJkYXNoYm9hcmQvZGFzaGJvYXJkLm1vZHVsZS5qcyIsImxheW91dC9sYXlvdXQubW9kdWxlLmpzIiwibWVkaWEvbWVkaWEubW9kdWxlLmpzIiwiaW5mby9pbmZvLm1vZHVsZS5qcyIsIndpZGdldHMvd2lkZ2V0cy5tb2R1bGUuanMiLCJibG9ja3MvbG9nZ2VyL2xvZ2dlci5tb2R1bGUuanMiLCJibG9ja3Mvcm91dGVyL3JvdXRlci5tb2R1bGUuanMiLCJibG9ja3MvZXhjZXB0aW9uL2V4Y2VwdGlvbi5tb2R1bGUuanMiLCJjb3JlL2Jhc2U2NC5qcyIsImNvcmUvY29tbW9uLmpzIiwiYXBwLm1pbi5qcyIsImNvcmUvY29uZmlnLmpzIiwiY29yZS9jb25zdGFudHMuanMiLCJjb3JlL3NvY2lhbC5qcyIsImRhc2hib2FyZC9kYXNoYm9hcmQuY29udHJvbGxlci5qcyIsImRhc2hib2FyZC9kYXNoYm9hcmQucm91dGVzLmpzIiwibGF5b3V0L3NoZWxsLmNvbnRyb2xsZXIuanMiLCJtZWRpYS9nb29nbGUucGx1cy5jb2xsZWN0aW9ucy5qcyIsIm1lZGlhL21haWxjaGltcC5qcyIsIm1lZGlhL21lZGlhLnJvdXRlcy5qcyIsIm1lZGlhL3Bob3RvLmNvbnRyb2xsZXIuanMiLCJpbmZvL2NhbXBhaWducy5jb250cm9sbGVyLmpzIiwiaW5mby9pbmZvLnJvdXRlcy5qcyIsIndpZGdldHMvYXBwZWFyLmRpcmVjdGl2ZS5qcyIsIndpZGdldHMvYmx1ci5kaXJlY3RpdmUuanMiLCJ3aWRnZXRzL2ZhbmN5Ym94LmRpcmVjdGl2ZS5qcyIsIndpZGdldHMvbGl2aWNvbi5kaXJlY3RpdmUuanMiLCJ3aWRnZXRzL3BhcmFsYXguZGlyZWN0aXZlLmpzIiwid2lkZ2V0cy9yc3NsaWRlci5kaXJlY3RpdmUuanMiLCJibG9ja3MvbG9nZ2VyL2xvZ2dlci5qcyIsImJsb2Nrcy9yb3V0ZXIvcm91dGVoZWxwZXIuanMiLCJibG9ja3MvZXhjZXB0aW9uL2V4Y2VwdGlvbi1oYW5kbGVyLnByb3ZpZGVyLmpzIiwiYmxvY2tzL2V4Y2VwdGlvbi9leGNlcHRpb24uanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsIkJhc2U2NCIsImVuY29kZSIsImlucHV0IiwiY2hyMSIsImNocjIiLCJlbmMxIiwiZW5jMiIsImVuYzMiLCJvdXRwdXQiLCJjaHIzIiwiZW5jNCIsImkiLCJjaGFyQ29kZUF0IiwiaXNOYU4iLCJrZXlTdHIiLCJjaGFyQXQiLCJsZW5ndGgiLCJkZWNvZGUiLCJiYXNlNjR0ZXN0IiwiZXhlYyIsIndpbmRvdyIsImFsZXJ0IiwicmVwbGFjZSIsImluZGV4T2YiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJzZXJ2aWNlIiwiZmFjdG9yeSIsImNvbW1vbiIsIiRxIiwiJHJvb3RTY29wZSIsIiR0aW1lb3V0IiwibG9nZ2VyIiwiJGJyb2FkY2FzdCIsImFwcGx5IiwiYXJndW1lbnRzIiwiaXNOdW1iZXIiLCJ2YWwiLCJ0ZXN0IiwidGV4dENvbnRhaW5zIiwidGV4dCIsInNlYXJjaFRleHQiLCJ0b0xvd2VyQ2FzZSIsIiRpbmplY3QiLCJ0b2FzdHJDb25maWciLCJ0b2FzdHIiLCJvcHRpb25zIiwidGltZU91dCIsImNsb3NlQnV0dG9uIiwicHJvZ3Jlc3NCYXIiLCJwb3NpdGlvbkNsYXNzIiwiY29uZmlndXJlIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJHN0YXRlUHJvdmlkZXIiLCJyb3V0ZWhlbHBlckNvbmZpZ1Byb3ZpZGVyIiwiJGJyZWFkY3J1bWJQcm92aWRlciIsIlJlc3Rhbmd1bGFyUHJvdmlkZXIiLCJjb25maWd1cmVSb3V0aW5nIiwiY29uZmlnIiwidGl0bGUiLCJhcHBUaXRsZSIsImNvbmZpZ3VyZUJyZWFkY3J1bWIiLCJzZXRPcHRpb25zIiwicHJlZml4U3RhdGVOYW1lIiwidGVtcGxhdGUiLCJpbmNsdWRlQWJzdHJhY3QiLCJjb25maWd1cmVSZXN0YW5ndWxhciIsImJhc2VVcmwiLCJzZXRCYXNlVXJsIiwiYWZ0ZXJWaWV3Q29udGVudExvYWRlZCIsIiRvbiIsImVsZW1lbnQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiY29yZSIsImFwcEVycm9yUHJlZml4IiwidmVyc2lvbiIsInZhbHVlIiwicnVuIiwiY29uc3RhbnQiLCJtb21lbnQiLCJnYXBpIiwiZmFjZWJvb2tJbml0IiwiJHdpbmRvdyIsImluaXRGYWNlYm9vayIsIkZCIiwiaW5pdCIsImFwcElkIiwiY2hhbm5lbFVybCIsImNvb2tpZSIsInhmYm1sIiwiZmJBc3luY0luaXQiLCJkIiwianMiLCJpZCIsInJlZiIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVFbGVtZW50IiwiYXN5bmMiLCJzcmMiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiZG9jdW1lbnQiLCJEYXNoYm9hcmRDb250cm9sbGVyIiwiR1BDb2xsZWN0aW9ucyIsIk1haWxDaGltcCIsImFjdGl2YXRlIiwidm0iLCJjb2xsZWN0aW9ucyIsInRha2UiLCJjYW1wYWlnbnMiLCJ0aGVuIiwicmVzcG9uc2UiLCJkYXRhIiwidGhpcyIsImZhY2Vib29rdXJsIiwiY29udHJvbGxlciIsImNvbmZpZ1JvdXRlcyIsInJvdXRlaGVscGVyIiwiY29uZmlndXJlU3RhdGVzIiwiZ2V0U3RhdGVzIiwic3RhdGUiLCJhYnN0cmFjdCIsInVybCIsInZpZXdzIiwibWFpbkAiLCJ0ZW1wbGF0ZVVybCIsImNvbnRlbnRAaW5kZXgiLCJjb250cm9sbGVyQXMiLCJzbGlkZXJAaW5kZXgiLCJTaGVsbENvbnRyb2xsZXIiLCIkc3RhdGUiLCJjb25zb2xlIiwibG9nIiwibWVtYmVyQ291bnQiLCJjYW1wYWlnbl9tZW1iZXJzIiwic3RhdHMiLCJtZW1iZXJfY291bnQiLCJnZXQiLCJudW1iZXIiLCJyZXN1bHQiLCJwdXNoIiwibmFtZSIsImhyZWYiLCJwcmV2aWV3IiwiJGh0dHAiLCJjYW1wYWlnbnNTdWNjZXNzIiwicGFyYW1zIiwic3VjY2VzcyIsIm1lbWJlckNvdW50U3VjY2VzcyIsImNvbnRlbnRAbWVkaWEiLCJQaG90b0NvbnRyb2xsZXIiLCJDYW1wYWlnbnNDb250cm9sbGVyIiwiY29udGVudEBpbmZvIiwiYXBwZWFyQW5pbWF0aW9uIiwibGlua0Z1bmMiLCJzY29wZSIsImF0dHJzIiwiYXBwZWFyIiwiZGVsYXkiLCJhcHBlYXJBbmltYXRpb25EZWxheSIsIiQiLCJjc3MiLCJhZGRDbGFzcyIsImhhc0NsYXNzIiwiYmluZCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwibGluayIsImJsdXIiLCJpbWciLCJJbWFnZSIsInByZXBlbmRCb3giLCJmaW5kIiwiaW1hZ2UiLCJvbmxvYWQiLCJQaXhhc3RpYyIsInByb2Nlc3MiLCJhbW91bnQiLCJwcmVwZW5kIiwiY2FudmFzIiwid2lkdGgiLCJtYXJnaW5MZWZ0IiwibWFyZ2luVG9wIiwiaGVpZ2h0IiwiZmFuY3lib3giLCJuZXh0RWZmZWN0IiwicHJldkVmZmVjdCIsIm9wZW5FZmZlY3QiLCJjbG9zZUVmZmVjdCIsImhlbHBlcnMiLCJvdmVybGF5IiwibG9ja2VkIiwidHlwZSIsInRwbCIsImNsb3NlQnRuIiwibmV4dCIsInByZXYiLCJsaXZpY29uIiwiYWRkTGl2aWNvbiIsInBhcmFsYXgiLCJiZ1Bvc2l0aW9uIiwiJHRoaXNZIiwib2Zmc2V0IiwidG9wIiwiJHdpbmRvd1kiLCJwYWdlWU9mZnNldCIsImJhY2tncm91bmRQb3NpdGlvbiIsInNwZWVkIiwicnNTbGlkZXIiLCJyZXZvbHV0aW9uU2xpZGVyIiwiY2xvc2VzdCIsImJvZHkiLCJ0b3BIZWlnaHQiLCJoZWFkZXJIZWlnaHQiLCJvdXRlckhlaWdodCIsInJldm9sdXRpb24iLCJzdGFydHdpZHRoIiwic3RhcnRoZWlnaHQiLCJoaWRlVGh1bWJzIiwibmF2aWdhdGlvblR5cGUiLCJuYXZpZ2F0aW9uQXJyb3dzIiwibmF2aWdhdGlvbkhBbGlnbiIsIm5hdmlnYXRpb25WQWxpZ24iLCJuYXZpZ2F0aW9uSE9mZnNldCIsIm5hdmlnYXRpb25WT2Zmc2V0IiwiaGlkZVRpbWVyQmFyIiwicGFyZW50IiwicmVtb3ZlQ2xhc3MiLCJvbkhvdmVyU3RvcCIsIiRsb2ciLCJlcnJvciIsIm1lc3NhZ2UiLCJpbmZvIiwid2FybmluZyIsIndhcm4iLCJyZW1vdmVkIiwic2F2ZWQiLCJzaG93VG9hc3RzIiwicm91dGVoZWxwZXJDb25maWciLCIkZ2V0Iiwic3RhdGVzIiwiZm9yRWFjaCIsIm5jeUJyZWFkY3J1bWIiLCJsYWJlbCIsInBhdHRlcm4iLCJ1cGRhdGVEb2NUaXRsZSIsIm90aGVyd2lzZSIsImV2ZW50IiwiY3VycmVudCIsInByZXZpb3VzIiwicHJvdmlkZXIiLCJleGNlcHRpb25IYW5kbGVyUHJvdmlkZXIiLCJ1bmRlZmluZWQiLCIkcHJvdmlkZSIsImRlY29yYXRvciIsImV4dGVuZEV4Y2VwdGlvbkhhbmRsZXIiLCIkZGVsZWdhdGUiLCJleGNlcHRpb25IYW5kbGVyIiwiZXhjZXB0aW9uIiwiY2F1c2UiLCJlcnJvckRhdGEiLCJjYXRjaGVyIiwicmVhc29uIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBRUFBLFNBQ0FDLE9BQUEsZUFFQSxtQkFDQSxxQkFDQSxzQkFHQSx3QkFDQSxtQkFDQSx5QkNiQUQsUUFDQUMsT0FBQSxvQkFFQSxZQUFBLGFBQUEsYUFHQSxlQUNBLHlCQUNBLGNBSUEsbUJBQ0EsZ0JBQ0Esa0JDZEEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLCtCQ0pBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSw0QkNKQSxXQUNBLFlBRUFELFNBQ0FDLE9BQUEsMkJDSkEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLDBCQ0pBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSw2QkNKQSxXQUNBLFlBRUFELFNBQ0FDLE9BQUEsdUJDSkEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLGlCQUNBLGlCQ0xBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSxvQkFBQSxxQkNDQSxXQUNBLFlBT0EsU0FBQUMsS0FVQSxRQUFBQyxHQUFBQyxHQUNBLEdBQ0FDLEdBQUFDLEVBQ0FDLEVBQUFD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T0FBQXZMLE9BQUF5RCxLQUFBekQsU0FXQSxRQUFBQSxHQUFBcU0sR0FDQUEsRUFBQUMsVUFBQSxvQkFBQUMsR0FVQSxRQUFBQSxHQUFBQyxFQUFBQyxFQUFBbk8sR0FDQSxNQUFBLFVBQUFvTyxFQUFBQyxHQUNBLEdBQUExTCxHQUFBd0wsRUFBQXpNLE9BQUFpQixnQkFBQSxHQUNBMkwsR0FBQUYsVUFBQUEsRUFBQUMsTUFBQUEsRUFDQUQsR0FBQTNCLFFBQUE5SixFQUFBeUwsRUFBQTNCLFFBQ0F5QixFQUFBRSxFQUFBQyxHQVVBck8sRUFBQXdNLE1BQUE0QixFQUFBM0IsUUFBQTZCLElBekRBeFEsUUFDQUMsT0FBQSxvQkFDQTZQLFNBQUEsbUJBQUFDLEdBQ0FuTSxPQUFBQSxHckJvdkNJQSxFQUFPZixTQUFXLFlBMkJsQnNOLEVBQXVCdE4sU0FBVyxZQUFhLG1CQUFvQixhc0JseEN2RSxXQUNBLFlBT0EsU0FBQXlOLEdBQUFwTyxHQU1BLFFBQUF1TyxHQUFBOUIsR0FDQSxNQUFBLFVBQUErQixHQUNBeE8sRUFBQXdNLE1BQUFDLEVBQUErQixJQVBBLEdBQUE5TyxJQUNBNk8sUUFBQUEsRUFFQSxPQUFBN08sR0FUQTVCLFFBQ0FDLE9BQUEsb0JBQ0E0QixRQUFBLFlBQUF5TyxHdEJ3eUNJQSxFQUFVek4sU0FBVyIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsJywgW1xuICAgICAgICAgICAgLy9zaGFyZWQgbW9kdWxlc1xuICAgICAgICAgICAgJ25vdG9zcG9ydGFsLmNvcmUnLFxuICAgICAgICAgICAgJ25vdG9zcG9ydGFsLmxheW91dCcsXG4gICAgICAgICAgICAnbm90b3Nwb3J0YWwud2lkZ2V0cycsXG5cbiAgICAgICAgICAgIC8vYXBwIG1vZHVsZXNcbiAgICAgICAgICAgICdub3Rvc3BvcnRhbC5kYXNoYm9hcmQnLFxuICAgICAgICAgICAgJ25vdG9zcG9ydGFsLmluZm8nLFxuICAgICAgICAgICAgJ25vdG9zcG9ydGFsLm1lZGlhJ1xuICAgICAgICBdKTtcbn0pKCk7IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmNvcmUnLCBbXG4gICAgICAgIC8vQW5ndWxhclxuICAgICAgICAnbmdBbmltYXRlJywgJ25nU2FuaXRpemUnLCAnbmdSZXNvdXJjZScsXG5cbiAgICAgICAgLy8zcmQgcGFydHlcbiAgICAgICAgJ3VpLmJvb3RzdHJhcCcsXG4gICAgICAgICduY3ktYW5ndWxhci1icmVhZGNydW1iJyxcbiAgICAgICAgJ3Jlc3Rhbmd1bGFyJyxcblxuXG4gICAgICAgIC8vY3Jvc3MgYXBwIG1vZHVsZXNcbiAgICAgICAgJ2Jsb2Nrcy5leGNlcHRpb24nLFxuICAgICAgICAnYmxvY2tzLmxvZ2dlcicsXG4gICAgICAgICdibG9ja3Mucm91dGVyJ1xuICAgIF0pOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5kYXNoYm9hcmQnLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5sYXlvdXQnLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5tZWRpYScsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmluZm8nLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC53aWRnZXRzJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYmxvY2tzLmxvZ2dlcicsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5yb3V0ZXInLCBbXG4gICAgICAgICAgICAndWkucm91dGVyJ1xuICAgICAgICBdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5leGNlcHRpb24nLCBbJ2Jsb2Nrcy5sb2dnZXInXSk7XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwuY29yZVxuICogRkFDVE9SWTogQmFzZTY0XG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmNvcmUnKVxuICAgICAgICAuZmFjdG9yeSgnQmFzZTY0JywgQmFzZTY0KTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEJhc2U2NCgpIHtcbiAgICAgICAgdmFyIGtleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgICAgICAgICBkZWNvZGU6IGRlY29kZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGNocjEsIGNocjIsIGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGVuYzEsIGVuYzIsIGVuYzMsIGVuYzQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgY2hyMSA9IGlucHV0LmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgICAgICAgICBjaHIyID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuICAgICAgICAgICAgICAgIGNocjMgPSBpbnB1dC5jaGFyQ29kZUF0KGkrKyk7XG5cbiAgICAgICAgICAgICAgICBlbmMxID0gY2hyMSA+PiAyO1xuICAgICAgICAgICAgICAgIGVuYzIgPSAoKGNocjEgJiAzKSA8PCA0KSB8IChjaHIyID4+IDQpO1xuICAgICAgICAgICAgICAgIGVuYzMgPSAoKGNocjIgJiAxNSkgPDwgMikgfCAoY2hyMyA+PiA2KTtcbiAgICAgICAgICAgICAgICBlbmM0ID0gY2hyMyAmIDYzO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGNocjIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuYzMgPSBlbmM0ID0gNjQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc05hTihjaHIzKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmM0ID0gNjQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICtcbiAgICAgICAgICAgICAgICAgICAga2V5U3RyLmNoYXJBdChlbmMxKSArXG4gICAgICAgICAgICAgICAgICAgIGtleVN0ci5jaGFyQXQoZW5jMikgK1xuICAgICAgICAgICAgICAgICAgICBrZXlTdHIuY2hhckF0KGVuYzMpICtcbiAgICAgICAgICAgICAgICAgICAga2V5U3RyLmNoYXJBdChlbmM0KTtcbiAgICAgICAgICAgICAgICBjaHIxID0gY2hyMiA9IGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGVuYzEgPSBlbmMyID0gZW5jMyA9IGVuYzQgPSBcIlwiO1xuICAgICAgICAgICAgfSB3aGlsZSAoaSA8IGlucHV0Lmxlbmd0aCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGNocjEsIGNocjIsIGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGVuYzEsIGVuYzIsIGVuYzMsIGVuYzQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgYWxsIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IEEtWiwgYS16LCAwLTksICssIC8sIG9yID1cbiAgICAgICAgICAgIHZhciBiYXNlNjR0ZXN0ID0gL1teQS1aYS16MC05XFwrXFwvXFw9XS9nO1xuICAgICAgICAgICAgaWYgKGJhc2U2NHRlc3QuZXhlYyhpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoXCJUaGVyZSB3ZXJlIGludmFsaWQgYmFzZTY0IGNoYXJhY3RlcnMgaW4gdGhlIGlucHV0IHRleHQuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlZhbGlkIGJhc2U2NCBjaGFyYWN0ZXJzIGFyZSBBLVosIGEteiwgMC05LCAnKycsICcvJyxhbmQgJz0nXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdCBlcnJvcnMgaW4gZGVjb2RpbmcuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL1xcPV0vZywgXCJcIik7XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBlbmMxID0ga2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpO1xuICAgICAgICAgICAgICAgIGVuYzIgPSBrZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG4gICAgICAgICAgICAgICAgZW5jMyA9IGtleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcbiAgICAgICAgICAgICAgICBlbmM0ID0ga2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpO1xuXG4gICAgICAgICAgICAgICAgY2hyMSA9IChlbmMxIDw8IDIpIHwgKGVuYzIgPj4gNCk7XG4gICAgICAgICAgICAgICAgY2hyMiA9ICgoZW5jMiAmIDE1KSA8PCA0KSB8IChlbmMzID4+IDIpO1xuICAgICAgICAgICAgICAgIGNocjMgPSAoKGVuYzMgJiAzKSA8PCA2KSB8IGVuYzQ7XG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGNocjEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVuYzMgIT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaHIyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVuYzQgIT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaHIzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjaHIxID0gY2hyMiA9IGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGVuYzEgPSBlbmMyID0gZW5jMyA9IGVuYzQgPSBcIlwiO1xuXG4gICAgICAgICAgICB9IHdoaWxlIChpIDwgaW5wdXQubGVuZ3RoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH07XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwuY29yZVxuICogRkFDVE9SWTogY29tbW9uXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmNvcmUnKVxuICAgICAgICAuZmFjdG9yeSgnY29tbW9uJywgY29tbW9uKTtcblxuICAgIGZ1bmN0aW9uIGNvbW1vbigkcSwgJHJvb3RTY29wZSwgJHRpbWVvdXQsIGxvZ2dlcikge1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgLy8gY29tbW9uIGFuZ3VsYXIgZGVwZW5kZW5jaWVzXG4gICAgICAgICAgICAkYnJvYWRjYXN0OiAkYnJvYWRjYXN0LFxuICAgICAgICAgICAgJHE6ICRxLFxuICAgICAgICAgICAgJHRpbWVvdXQ6ICR0aW1lb3V0LFxuICAgICAgICAgICAgLy8gZ2VuZXJpY1xuICAgICAgICAgICAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICAgICAgICAgICAgbG9nZ2VyOiBsb2dnZXIsXG4gICAgICAgICAgICB0ZXh0Q29udGFpbnM6IHRleHRDb250YWluc1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uICRicm9hZGNhc3QoKSB7XG4gICAgICAgICAgICByZXR1cm4gJHJvb3RTY29wZS4kYnJvYWRjYXN0LmFwcGx5KCRyb290U2NvcGUsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICAgICAgICAgICAgLy8gbmVnYXRpdmUgb3IgcG9zaXRpdmVcbiAgICAgICAgICAgIHJldHVybiAoL15bLV0/XFxkKyQvKS50ZXN0KHZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0ZXh0Q29udGFpbnModGV4dCwgc2VhcmNoVGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRleHQgJiYgLTEgIT09IHRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsbnVsbCwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY29yZSA9IGFuZ3VsYXIubW9kdWxlKCdub3Rvc3BvcnRhbC5jb3JlJyk7XG5cbiAgICBjb3JlLmNvbmZpZyh0b2FzdHJDb25maWcpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gdG9hc3RyQ29uZmlnKHRvYXN0cikge1xuICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gNDAwMDtcbiAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xuICAgICAgICB0b2FzdHIub3B0aW9ucy5wcm9ncmVzc0JhciA9IHRydWU7XG4gICAgICAgIHRvYXN0ci5vcHRpb25zLnBvc2l0aW9uQ2xhc3MgPSAndG9hc3QtYm90dG9tLXJpZ2h0JztcbiAgICB9XG5cbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICBhcHBFcnJvclByZWZpeDogJ1tGb3V0XSAnLFxuICAgICAgICBhcHBUaXRsZTogJ1ZCUyBEZSBLbGltdG9yZW4nLFxuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnXG4gICAgfTtcblxuICAgIGNvcmUudmFsdWUoJ2NvbmZpZycsIGNvbmZpZyk7XG5cbiAgICBjb3JlLmNvbmZpZyhjb25maWd1cmUpO1xuXG4gICAgY29yZS5ydW4oYWZ0ZXJWaWV3Q29udGVudExvYWRlZCk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb25maWd1cmUoJHVybFJvdXRlclByb3ZpZGVyLCAkc3RhdGVQcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgcm91dGVoZWxwZXJDb25maWdQcm92aWRlciwgJGJyZWFkY3J1bWJQcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgUmVzdGFuZ3VsYXJQcm92aWRlcikge1xuXG4gICAgICAgIGNvbmZpZ3VyZVJvdXRpbmcoKTtcbiAgICAgICAgY29uZmlndXJlQnJlYWRjcnVtYigpO1xuXG4gICAgICAgIGNvbmZpZ3VyZVJlc3Rhbmd1bGFyKCk7XG5cblxuICAgICAgICBmdW5jdGlvbiBjb25maWd1cmVSb3V0aW5nKCkge1xuICAgICAgICAgICAgcm91dGVoZWxwZXJDb25maWdQcm92aWRlci5jb25maWcuJHVybFJvdXRlclByb3ZpZGVyID0gJHVybFJvdXRlclByb3ZpZGVyO1xuICAgICAgICAgICAgcm91dGVoZWxwZXJDb25maWdQcm92aWRlci5jb25maWcuJHN0YXRlUHJvdmlkZXIgPSAkc3RhdGVQcm92aWRlcjtcblxuICAgICAgICAgICAgcm91dGVoZWxwZXJDb25maWdQcm92aWRlci5jb25maWcudGl0bGUgPSBjb25maWcuYXBwVGl0bGU7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb25maWd1cmVCcmVhZGNydW1iKCkge1xuICAgICAgICAgICAgJGJyZWFkY3J1bWJQcm92aWRlci5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgICAgICBwcmVmaXhTdGF0ZU5hbWU6ICdpbmRleCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdib290c3RyYXAzJyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlQWJzdHJhY3Q6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29uZmlndXJlUmVzdGFuZ3VsYXIoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVVybCA9ICcvYXBpJztcblxuICAgICAgICAgICAgUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRCYXNlVXJsKGJhc2VVcmwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gYWZ0ZXJWaWV3Q29udGVudExvYWRlZCgkcm9vdFNjb3BlKSB7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckdmlld0NvbnRlbnRMb2FkZWQnLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sIDIwMCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG59KSgpOyIsIi8qIGdsb2JhbCB0b2FzdHI6ZmFsc2UsIG1vbWVudDpmYWxzZSAqL1xuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuY29yZScpXG4gICAgICAgIC5jb25zdGFudCgndG9hc3RyJywgdG9hc3RyKVxuICAgICAgICAuY29uc3RhbnQoJ21vbWVudCcsIG1vbWVudClcbiAgICAgICAgLmNvbnN0YW50KCdnYXBpJywgZ2FwaSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ25vdG9zcG9ydGFsLmNvcmUnKVxuICAgICAgICAucnVuKGZhY2Vib29rSW5pdCk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBmYWNlYm9va0luaXQoJHdpbmRvdywgY29tbW9uKSB7XG4gICAgICAgIC8vd2hlbiBmYWNlYm9vayBpcyBpbml0aWFsaXplZFxuICAgICAgICAvL3dlIGNhbiByZW5kZXIgR29vZ2xlKyB0b29cbiAgICAgICAgJHdpbmRvdy5mYkFzeW5jSW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGluaXRGYWNlYm9vaygpO1xuICAgICAgICAgICAgY29tbW9uLiRicm9hZGNhc3QoJ2ZiLmluaXQnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBpbml0RmFjZWJvb2soKSB7XG4gICAgICAgICAgICBGQi5pbml0KHtcbiAgICAgICAgICAgICAgICBhcHBJZDogJzQ2NjI4MDM1MDIwMTk2MCcsXG4gICAgICAgICAgICAgICAgY2hhbm5lbFVybDogJ2pzL21vZHVsZXMvY29yZS9mYi1jaGFubmVsLmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvb2tpZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB4ZmJtbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiAndjIuMydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAvLyBsb2FkIHRoZSBGYWNlYm9vayBqYXZhc2NyaXB0IFNES1xuXG4gICAgICAgICAgICB2YXIganMsXG4gICAgICAgICAgICAgICAgaWQgPSAnZmFjZWJvb2stanNzZGsnLFxuICAgICAgICAgICAgICAgIHJlZiA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO1xuXG4gICAgICAgICAgICBpZiAoZC5nZXRFbGVtZW50QnlJZChpZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGpzID0gZC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgICAgIGpzLmlkID0gaWQ7XG4gICAgICAgICAgICBqcy5hc3luYyA9IHRydWU7XG4gICAgICAgICAgICBqcy5zcmMgPSBcIi8vY29ubmVjdC5mYWNlYm9vay5uZXQvZW5fVVMvc2RrLmpzXCI7XG5cbiAgICAgICAgICAgIHJlZi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqcywgcmVmKTtcblxuICAgICAgICB9KGRvY3VtZW50KSk7XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLmRhc2hib2FyZFxuICogQ09OVFJPTExFUjogRGFzaGJvYXJkQ29udHJvbGxlclxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuZGFzaGJvYXJkJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0Rhc2hib2FyZENvbnRyb2xsZXInLCBEYXNoYm9hcmRDb250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIERhc2hib2FyZENvbnRyb2xsZXIoR1BDb2xsZWN0aW9ucywgTWFpbENoaW1wKSB7XG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICB2bS5mYWNlYm9va3VybCA9ICdodHRwczovL3d3dy5mYWNlYm9vay5jb20vdmJzZGVrbGltdG9yZW4nO1xuICAgICAgICB2bS5jb2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB2bS5jYW1wYWlnbnMgPSBbXTtcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuICAgICAgICAvLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgdm0uY29sbGVjdGlvbnMgPSBHUENvbGxlY3Rpb25zLnRha2UoNCk7XG5cbiAgICAgICAgICAgIE1haWxDaGltcC5jYW1wYWlnbnMoMykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZtLmNhbXBhaWducyA9IHJlc3BvbnNlLmRhdGEuY2FtcGFpZ25zO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsIi8qKlxuICogUk9VVEVTOiBub3Rvc3BvcnRhbC5kYXNoYm9hcmRcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmRhc2hib2FyZCcpXG4gICAgICAgIC5ydW4oY29uZmlnUm91dGVzKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNvbmZpZ1JvdXRlcyhyb3V0ZWhlbHBlcikge1xuICAgICAgICByb3V0ZWhlbHBlci5jb25maWd1cmVTdGF0ZXMoZ2V0U3RhdGVzKCkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdpbmRleCcsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ21haW5AJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9sYXlvdXQvbWFpbi5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ3N0YXJ0J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdpbmRleC5kYXNoYm9hcmQnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvZGFzaGJvYXJkJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50QGluZGV4Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9kYXNoYm9hcmQvZGFzaGJvYXJkLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdEYXNoYm9hcmRDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2xpZGVyQGluZGV4Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9kYXNoYm9hcmQvc2xpZGVyLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRGFzaGJvYXJkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLmxheW91dFxuICogQ09OVFJPTExFUjogU2hlbGxDb250cm9sbGVyXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5sYXlvdXQnKVxuICAgICAgICAuY29udHJvbGxlcignU2hlbGxDb250cm9sbGVyJywgU2hlbGxDb250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFNoZWxsQ29udHJvbGxlcihNYWlsQ2hpbXAsICRzdGF0ZSkge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICB2bS5jYW1wYWlnbl9tZW1iZXJzID0gMDtcbiAgICAgICAvLyB2bS5oaWRlQnJlYWRjcnVtYiA9ICRzdGF0ZS5jO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG4gICAgICAgIC8vLy8vLy8vLy8vLy9cblxuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJHN0YXRlKTtcbiAgICAgICAgICAgIE1haWxDaGltcC5tZW1iZXJDb3VudCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2bS5jYW1wYWlnbl9tZW1iZXJzID0gcmVzcG9uc2UuZGF0YS5zdGF0cy5tZW1iZXJfY291bnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG5cblxufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLm1lZGlhXG4gKiBGQUNUT1JZOiBHUENvbGxlY3Rpb25zXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLm1lZGlhJylcbiAgICAgICAgLmZhY3RvcnkoJ0dQQ29sbGVjdGlvbnMnLCBHUENvbGxlY3Rpb25zKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEdQQ29sbGVjdGlvbnMoKSB7XG5cbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBnZXQ6IGdldCxcbiAgICAgICAgICAgIHRha2U6IHRha2VcbiAgICAgICAgfVxuXG4gICAgICAgIC8qdmFyIGNvbGxlY3Rpb25zID0gW1xuICAgICAgICAgJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tLytWQlNERUtsaW10b3JlbkphYmJla2UvcG9zdHMvMk5WWmlQd1F3dWsnLFxuICAgICAgICAgJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tLytWQlNERUtsaW10b3JlbkphYmJla2UvcG9zdHMvUllDTGlqUlY2b1knLFxuICAgICAgICAgJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tLytWQlNERUtsaW10b3JlbkphYmJla2UvcG9zdHMvOUsxblVEVGZRUkwnXG4gICAgICAgICBdOyovXG4gICAgICAgIHZhciBjb2xsZWN0aW9ucyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnMjAxNS0yMDE2JyxcbiAgICAgICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9wbHVzLmdvb2dsZS5jb20vYi8xMDM0MDYxMjM2NzE5NDI1Mjk2NjAvY29sbGVjdGlvbi9zWUxhMydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJzIwMTQtMjAxNScsXG4gICAgICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tL2IvMTAzNDA2MTIzNjcxOTQyNTI5NjYwL2NvbGxlY3Rpb24vVTVhYTMnLFxuICAgICAgICAgICAgICAgIHByZXZpZXc6ICdodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vLVd1UVJZQ2VuUDh3L1ZlbHN2ckdMLWZJL0FBQUFBQUFBQXFJL3JqNklUMGdQSldNL3c2NDAtaDQ4MC1wL0RTQ04zMDI4LkpQRydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJzIwMTMtMjAxNCcsXG4gICAgICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tL2IvMTAzNDA2MTIzNjcxOTQyNTI5NjYwL2NvbGxlY3Rpb24vRW9OUDInLFxuICAgICAgICAgICAgICAgIHByZXZpZXc6ICdodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vLVh1TmM4emNLNmNnL1ZlbHlnV2hmS1VJL0FBQUFBQUFBQXZRLzhFWnpXQkZCZ2RBL3c3NzctaDU4My1uby9JTUdfMjc4OS5KUEcnXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHRha2UobnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IG51bWJlciAmJiBpIDwgY29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY29sbGVjdGlvbnNbaV0pO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwubWVkaWFcbiAqIEZBQ1RPUlk6IE1haWxDaGltcFxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5tZWRpYScpXG4gICAgICAgIC5mYWN0b3J5KCdNYWlsQ2hpbXAnLCBNYWlsQ2hpbXApO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gTWFpbENoaW1wKCRodHRwLCAkcSkge1xuICAgICAgICB2YXIgY2FtcGFpZ25zX2NhY2hlID0gbnVsbDtcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBjYW1wYWlnbnM6IGNhbXBhaWducyxcbiAgICAgICAgICAgIG1lbWJlckNvdW50OiBtZW1iZXJDb3VudFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBjYW1wYWlnbnModGFrZSkge1xuXG5cbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWFpbGNoaW1wL2NhbXBhaWducycsIHtwYXJhbXM6IHt0YWtlOiB0YWtlfX0pXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoY2FtcGFpZ25zU3VjY2Vzcyk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbXBhaWduc1N1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1lbWJlckNvdW50KCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9tYWlsY2hpbXAvbWVtYmVyX2NvdW50JylcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhtZW1iZXJDb3VudFN1Y2Nlc3MpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBtZW1iZXJDb3VudFN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBST1VURVM6IG5vdG9zcG9ydGFsLmluZm9cbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmluZm8nKVxuICAgICAgICAucnVuKGNvbmZpZ1JvdXRlcyk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb25maWdSb3V0ZXMocm91dGVoZWxwZXIpIHtcbiAgICAgICAgcm91dGVoZWxwZXIuY29uZmlndXJlU3RhdGVzKGdldFN0YXRlcygpKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0U3RhdGVzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnbWVkaWEnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL21lZGlhJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYWluQCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvbGF5b3V0L21haW4uaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdpbiBiZWVsZCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnbWVkaWEucGhvdG9zJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3Bob3RvcycsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudEBtZWRpYSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvbWVkaWEvcGhvdG9zLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQaG90b0NvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2ZvdG9cXCdzJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLm1lZGlhXG4gKiBDT05UUk9MTEVSOiBQaG90b0NvbnRyb2xsZXJcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLm1lZGlhJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1Bob3RvQ29udHJvbGxlcicsIFBob3RvQ29udHJvbGxlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBQaG90b0NvbnRyb2xsZXIoR1BDb2xsZWN0aW9ucykge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0uY29sbGVjdGlvbnMgPSBbXTtcblxuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgdm0uY29sbGVjdGlvbnMgPSBHUENvbGxlY3Rpb25zLmdldCgpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLmluZm9cbiAqIENPTlRST0xMRVI6IENhbXBhaWduc0NvbnRyb2xsZXJcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmluZm8nKVxuICAgICAgICAuY29udHJvbGxlcignQ2FtcGFpZ25zQ29udHJvbGxlcicsIENhbXBhaWduc0NvbnRyb2xsZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gQ2FtcGFpZ25zQ29udHJvbGxlcihNYWlsQ2hpbXApIHtcbiAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLmNhbXBhaWducyA9IFtdO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG4gICAgICAgIC8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgTWFpbENoaW1wLmNhbXBhaWducygpLnRoZW4oY2FtcGFpZ25zU3VjY2Vzcyk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbXBhaWduc1N1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2bS5jYW1wYWlnbnMgPSByZXNwb25zZS5kYXRhLmNhbXBhaWducztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICB9XG59KSgpOyIsIi8qKlxuICogUk9VVEVTOiBub3Rvc3BvcnRhbC5pbmZvXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5pbmZvJylcbiAgICAgICAgLnJ1bihjb25maWdSb3V0ZXMpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29uZmlnUm91dGVzKHJvdXRlaGVscGVyKSB7XG4gICAgICAgIHJvdXRlaGVscGVyLmNvbmZpZ3VyZVN0YXRlcyhnZXRTdGF0ZXMoKSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldFN0YXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2luZm8nLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2luZm8nLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ21haW5AJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9sYXlvdXQvbWFpbi5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0luZm8nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2luZm8uY29udGFjdCcsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9jb250YWN0JyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50QGluZm8nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2luZm8vY29udGFjdC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0NvbnRhY3QnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2luZm8uYWJvdXQnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYWJvdXQnLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAaW5mbyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvaW5mby9hYm91dC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ092ZXIgb256ZSBzY2hvb2wnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2luZm8uY2FyZScsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9jYXJlJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50QGluZm8nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2luZm8vY2FyZS5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1pvcmcgb3Agb256ZSBzY2hvb2wnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2luZm8uY2FtcGFpZ25zJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2NhbXBhaWducycsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudEBpbmZvJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9pbmZvL2NhbXBhaWducy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ2FtcGFpZ25zQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTmlldXdzYnJpZXZlbidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfTtcbn0pKCk7IiwiLyoqXG4gKiBub3Rvc3BvcnRhbC53aWRnZXRzXG4gKiBESVJFQ1RJVkU6IGFwcGVhckFuaW1hdGlvblxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwud2lkZ2V0cycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2FwcGVhckFuaW1hdGlvbicsIGFwcGVhckFuaW1hdGlvbik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBhcHBlYXJBbmltYXRpb24oKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogbGlua0Z1bmNcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmhhc0NsYXNzKCduby1jc3N0cmFuc2l0aW9ucycpKSB7XG4gICAgICAgICAgICAgICAgJChlbGVtZW50KS5iaW5kKCdhcHBlYXInLCBhcHBlYXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gYXBwZWFyKCkge1xuICAgICAgICAgICAgICAgIHZhciBkZWxheSA9IGF0dHJzLmFwcGVhckFuaW1hdGlvbkRlbGF5IHx8IDE7XG4gICAgICAgICAgICAgICAgaWYgKGRlbGF5ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmNzcygnYW5pbWF0aW9uLWRlbGF5JywgZGVsYXkgKyAnbXMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJChlbGVtZW50KS5hZGRDbGFzcygnYW5pbWF0ZWQnKS5hZGRDbGFzcyhhdHRycy5hcHBlYXJBbmltYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSkoKTtcblxuIiwiLyoqXG4gKiBub3Rvc3BvcnRhbC53aWRnZXRzXG4gKiBESVJFQ1RJVkU6IGJsdXJcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLndpZGdldHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdibHVyJywgYmx1cik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBibHVyKCR0aW1lb3V0KSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogbGlua0Z1bmNcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdmd2ItYmcgZndiLWJsdXInKTtcblxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpLFxuICAgICAgICAgICAgICAgICAgICBwcmVwZW5kQm94ID0gJzxkaXYgY2xhc3M9XCJibHVyLWJveFwiLz4nO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50LmZpbmQoJ2NhbnZhcycpLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRycy5pbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGF0dHJzLmltYWdlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJykgIT09ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGVsZW1lbnQuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgndXJsKCcsICcnKS5yZXBsYWNlKCcpJywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBpeGFzdGljLnByb2Nlc3MoaW1nLCAnYmx1cmZhc3QnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhdHRycy5hbW91bnQgfHwgMlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAucHJlcGVuZChwcmVwZW5kQm94KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5ibHVyLWJveCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAucHJlcGVuZChpbWcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGVsZW1lbnQuZmluZCgnY2FudmFzJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbnZhcy53aWR0aCgpID09IGVsZW1lbnQud2lkdGgoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IC0oKGNhbnZhcy5oZWlnaHQoKSAtIGVsZW1lbnQuaGVpZ2h0KCkpIC8gMilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IC0oKGNhbnZhcy53aWR0aCgpIC0gZWxlbWVudC53aWR0aCgpKSAvIDIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnYmx1ci1sb2FkJyk7XG4gICAgICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH1cbn0pKCk7XG5cbiIsIi8qKlxuICogbm90b3Nwb3J0YWwud2lkZ2V0c1xuICogRElSRUNUSVZFOiBmYW5jeWJveFxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwud2lkZ2V0cycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2ZhbmN5Ym94JywgZmFuY3lib3gpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZmFuY3lib3goKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogbGlua0Z1bmNcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBlbGVtZW50LmZpbmQoJy5nYWxsZXJ5LWltYWdlcywgLmxpZ2h0Ym94JykuZmFuY3lib3goe1xuICAgICAgICAgICAgICAgIG5leHRFZmZlY3Q6ICdmYWRlJyxcbiAgICAgICAgICAgICAgICBwcmV2RWZmZWN0OiAnZmFkZScsXG4gICAgICAgICAgICAgICAgb3BlbkVmZmVjdDogJ2ZhZGUnLFxuICAgICAgICAgICAgICAgIGNsb3NlRWZmZWN0OiAnZmFkZScsXG4gICAgICAgICAgICAgICAgaGVscGVyczoge1xuICAgICAgICAgICAgICAgICAgICBvdmVybGF5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NrZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb3ZlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHBsOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlQnRuOiAnPGEgdGl0bGU9XCJTbHVpdGVuXCIgY2xhc3M9XCJmYW5jeWJveC1pdGVtIGZhbmN5Ym94LWNsb3NlXCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiPsOXPC9hPicsXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6ICc8YSB0aXRsZT1cIlZvbGdlbmRlXCIgY2xhc3M9XCJmYW5jeWJveC1uYXYgZmFuY3lib3gtbmV4dFwiIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj5cXG5cXFxuXHRcdFx0XHRcdFx0PHNwYW4+PHN2ZyB4PVwiMFwiIHk9XCIwXCIgd2lkdGg9XCI5cHhcIiBoZWlnaHQ9XCIxNnB4XCIgdmlld0JveD1cIjAgMCA5IDE2XCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDkgMTZcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPjxwb2x5Z29uIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZmlsbD1cIiNmY2ZjZmNcIiBwb2ludHM9XCIxLDAuMDAxIDAsMS4wMDEgNyw4IDAsMTQuOTk5IDEsMTUuOTk5IDksOCBcIi8+PC9zdmc+PC9zcGFuPlxcblxcXG5cdFx0XHRcdFx0PC9hPicsXG4gICAgICAgICAgICAgICAgICAgIHByZXY6ICc8YSB0aXRsZT1cIlZvcmlnZVwiIGNsYXNzPVwiZmFuY3lib3gtbmF2IGZhbmN5Ym94LXByZXZcIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+XFxuXFxcblx0XHRcdFx0XHRcdDxzcGFuPjxzdmcgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiOXB4XCIgaGVpZ2h0PVwiMTZweFwiIHZpZXdCb3g9XCIwIDAgOSAxNlwiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCA5IDE2XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj48cG9seWdvbiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGZpbGw9XCIjZmNmY2ZjXCIgcG9pbnRzPVwiOCwxNS45OTkgOSwxNC45OTkgMiw4IDksMS4wMDEgOCwwLjAwMSAwLDggXCIvPjwvc3ZnPjwvc3Bhbj5cXG5cXFxuXHRcdFx0XHRcdDwvYT4nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH1cbn0pKCk7XG5cbiIsIi8qKlxuICogbm90b3Nwb3J0YWwud2lkZ2V0c1xuICogRElSRUNUSVZFOiBsaXZpY29uXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC53aWRnZXRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbGl2aWNvbicsIGxpdmljb24pO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbGl2aWNvbigpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgICAgICAgbGluazogbGlua0Z1bmNcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2xpdmljb24nKTtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkTGl2aWNvbigpO1xuICAgICAgICB9XG5cbiAgICB9XG59KSgpO1xuXG4iLCIvKipcbiAqIG5vdG9zcG9ydGFsLndpZGdldHNcbiAqIERJUkVDVElWRTogcGFyYWxheFxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwud2lkZ2V0cycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BhcmFsYXgnLCBwYXJhbGF4KTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHBhcmFsYXgoJHRpbWVvdXQsICR3aW5kb3cpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBsaW5rOiBsaW5rRnVuY1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdmd2ItYmcgZndiLWJsdXInKTtcbiAgICAgICAgICAgICAgICB2YXIgc3BlZWQgPSBhdHRycy5zcGVlZCB8fCAzO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gYmdQb3NpdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR0aGlzWSA9IGVsZW1lbnQub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvd1kgPSAkd2luZG93LnBhZ2VZT2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkdGhpc1kgPiAkd2luZG93WSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKHtiYWNrZ3JvdW5kUG9zaXRpb246ICc1MCUgJyArICgoJHRoaXNZIC0gJHdpbmRvd1kpIC8gc3BlZWQpICsgJ3B4J30pO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7YmFja2dyb3VuZFBvc2l0aW9uOiAnNTAlICcgKyAoLSgkdGhpc1kgLSAkd2luZG93WSkgLyBzcGVlZCkgKyAncHgnfSk7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBiZ1Bvc2l0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZCgnc2Nyb2xsJywgYmdQb3NpdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTtcblxuIiwiLyoqXG4gKiBub3Rvc3BvcnRhbC53aWRnZXRzXG4gKiBESVJFQ1RJVkU6IHJzU2xpZHJcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLndpZGdldHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdyc1NsaWRlcicsIHJzU2xpZGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHJzU2xpZGVyKCR0aW1lb3V0KSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogbGlua0Z1bmNcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy9SZXZvbHV0aW9uIFNsaWRlciBTdGFydFxuICAgICAgICAgICAgICAgIHZhciByZXZvbHV0aW9uU2xpZGVyID0gZWxlbWVudDtcblxuICAgICAgICAgICAgICAgIGlmIChyZXZvbHV0aW9uU2xpZGVyLmNsb3Nlc3QoJy5ycy1zbGlkZXInKS5oYXNDbGFzcygnZnVsbC13aWR0aCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBib2R5ID0gYW5ndWxhci5lbGVtZW50KCdib2R5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGJvZHkud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcEhlaWdodCA9IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJIZWlnaHQgPSAxMDQsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuZWxlbWVudCgnI3RvcC1ib3gnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib2R5Lmhhc0NsYXNzKCdoaWRkZW4tdG9wJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wSGVpZ2h0ID0gYW5ndWxhci5lbGVtZW50KCcjdG9wLWJveCcpLm91dGVySGVpZ2h0KCkgLSAzMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoYm9keS53aWR0aCgpKSA+PSAxMjAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gYm9keS5oZWlnaHQoKSAtICh0b3BIZWlnaHQgKyBoZWFkZXJIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSA4MDA7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV2b2x1dGlvblNsaWRlci5yZXZvbHV0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5OiA2MDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnR3aWR0aDogMTIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0aGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlVGh1bWJzOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25UeXBlOiAnYnVsbGV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25BcnJvd3M6ICdzb2xvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IQWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvblZBbGlnbjogJ3RvcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSE9mZnNldDogLTU0NSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25WT2Zmc2V0OiAzMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVUaW1lckJhcjogJ29uJ1xuICAgICAgICAgICAgICAgICAgICB9KS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnbG9hZCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldm9sdXRpb25TbGlkZXIucmV2b2x1dGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogNjAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0d2lkdGg6IDEyMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydGhlaWdodDogNTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVRodW1iczogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uVHlwZTogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25Ib3ZlclN0b3A6ICdvZmYnXG4gICAgICAgICAgICAgICAgICAgIH0pLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdsb2FkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL1Jldm9sdXRpb24gU2xpZGVyIEVuZFxuICAgICAgICB9XG4gICAgfVxufSkoKTtcblxuIiwiLyoqXG4gKiBibG9ja3MubG9nZ2VyXG4gKiBGQUNUT1JZOiBsb2dnZXJcbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYmxvY2tzLmxvZ2dlcicpXG4gICAgICAgIC5mYWN0b3J5KCdsb2dnZXInLCBsb2dnZXIpO1xuXG4gICAgbG9nZ2VyLiRpbmplY3QgPSBbJyRsb2cnLCAndG9hc3RyJ107XG5cbiAgICBmdW5jdGlvbiBsb2dnZXIoJGxvZywgdG9hc3RyKSB7XG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgc2hvd1RvYXN0czogdHJ1ZSxcblxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgaW5mbzogaW5mbyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXG4gICAgICAgICAgICB3YXJuaW5nOiB3YXJuaW5nLFxuXG4gICAgICAgICAgICByZW1vdmVkOiByZW1vdmVkLFxuICAgICAgICAgICAgc2F2ZWQ6IHNhdmVkLFxuXG4gICAgICAgICAgICAvLyBzdHJhaWdodCB0byBjb25zb2xlOyBieXBhc3MgdG9hc3RyXG4gICAgICAgICAgICBsb2c6ICRsb2cubG9nXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UsIGRhdGEsIHRpdGxlKSB7XG4gICAgICAgICAgICB0b2FzdHIuZXJyb3IobWVzc2FnZSwgdGl0bGUpO1xuICAgICAgICAgICAgJGxvZy5lcnJvcignRm91dDogJyArIG1lc3NhZ2UsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5mbyhtZXNzYWdlLCBkYXRhLCB0aXRsZSkge1xuICAgICAgICAgICAgdG9hc3RyLmluZm8obWVzc2FnZSwgdGl0bGUpO1xuICAgICAgICAgICAgJGxvZy5pbmZvKCdJbmZvOiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKG1lc3NhZ2UsIGRhdGEsIHRpdGxlKSB7XG4gICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhtZXNzYWdlLCB0aXRsZSk7XG4gICAgICAgICAgICAkbG9nLmluZm8oJ1N1Y2NlczogJyArIG1lc3NhZ2UsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlLCBkYXRhLCB0aXRsZSkge1xuICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcobWVzc2FnZSwgdGl0bGUpO1xuICAgICAgICAgICAgJGxvZy53YXJuKCdMZXQgb3A6ICcgKyBtZXNzYWdlLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZWQobWVzc2FnZSwgZGF0YSwgdGl0bGUpIHtcbiAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKG1lc3NhZ2UsIHRpdGxlKTtcbiAgICAgICAgICAgICRsb2cud2FybignVmVyd2lqZGVyZDogJyArIG1lc3NhZ2UsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2F2ZWQobWVzc2FnZSwgZGF0YSwgdGl0bGUpIHtcbiAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UsIHRpdGxlKTtcbiAgICAgICAgICAgICRsb2cuaW5mbygnQmV3YWFyZDogJyArIG1lc3NhZ2UsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIG5vdG9zcGx1cy5yb3V0ZXJcbiAqIEZBQ1RPUlk6IHJvdXRlaGVscGVyXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5yb3V0ZXInKVxuICAgICAgICAucHJvdmlkZXIoJ3JvdXRlaGVscGVyQ29uZmlnJywgcm91dGVoZWxwZXJDb25maWcpXG4gICAgICAgIC5mYWN0b3J5KCdyb3V0ZWhlbHBlcicsIHJvdXRlaGVscGVyKTtcblxuICAgIHJvdXRlaGVscGVyLiRpbmplY3QgPSBbJ3JvdXRlaGVscGVyQ29uZmlnJywgJyRyb290U2NvcGUnLCAnJHN0YXRlJ107XG5cbiAgICBmdW5jdGlvbiByb3V0ZWhlbHBlckNvbmZpZygpIHtcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgIHRoaXMuY29uZmlnID0ge307XG5cbiAgICAgICAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb25maWc6IHRoaXMuY29uZmlnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdXRlaGVscGVyKHJvdXRlaGVscGVyQ29uZmlnLCAkcm9vdFNjb3BlLCAkc3RhdGUpIHtcbiAgICAgICAgdmFyICR1cmxSb3V0ZXJQcm92aWRlciA9IHJvdXRlaGVscGVyQ29uZmlnLmNvbmZpZy4kdXJsUm91dGVyUHJvdmlkZXI7XG4gICAgICAgIHZhciAkc3RhdGVQcm92aWRlciA9IHJvdXRlaGVscGVyQ29uZmlnLmNvbmZpZy4kc3RhdGVQcm92aWRlcjtcblxuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIGNvbmZpZ3VyZVN0YXRlczogY29uZmlndXJlU3RhdGVzLFxuICAgICAgICAgICAgc3RhdGVzOiBzdGF0ZXMsXG4gICAgICAgICAgICBnZXQ6IGdldFxuICAgICAgICB9O1xuXG4gICAgICAgIGluaXQoKTtcblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gY29uZmlndXJlU3RhdGVzKHN0YXRlcykge1xuICAgICAgICAgICAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmNvbmZpZy50aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5jb25maWcubmN5QnJlYWRjcnVtYiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdGF0ZS5jb25maWcudGl0bGUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoc3RhdGUuc3RhdGUsIHN0YXRlLmNvbmZpZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHN0YXRlcygpIHtcbiAgICAgICAgICAgIHJldHVybiAkc3RhdGUuZ2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXQocGF0dGVybikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICBzdGF0ZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5uYW1lID09PSBwYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgIHVwZGF0ZURvY1RpdGxlKCk7XG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvaW5kZXgvZGFzaGJvYXJkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVEb2NUaXRsZSgpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJyxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXZlbnQsIGN1cnJlbnQsIHByZXZpb3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IHJvdXRlaGVscGVyQ29uZmlnLmNvbmZpZy50aXRsZSArIChjdXJyZW50LnRpdGxlID8gJyB8ICcgKyBjdXJyZW50LnRpdGxlIDogJycpO1xuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRpdGxlID0gdGl0bGU7IC8vIGRhdGEgYmluZCB0byA8dGl0bGU+XG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJHN0YXRlID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICB9XG59KSgpOyIsIi8vIEluY2x1ZGUgaW4gaW5kZXguaHRtbCBzbyB0aGF0IGFwcCBsZXZlbCBleGNlcHRpb25zIGFyZSBoYW5kbGVkLlxuLy8gRXhjbHVkZSBmcm9tIHRlc3RSdW5uZXIuaHRtbCB3aGljaCBzaG91bGQgcnVuIGV4YWN0bHkgd2hhdCBpdCB3YW50cyB0byBydW5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5leGNlcHRpb24nKVxuICAgICAgICAucHJvdmlkZXIoJ2V4Y2VwdGlvbkhhbmRsZXInLCBleGNlcHRpb25IYW5kbGVyUHJvdmlkZXIpXG4gICAgICAgIC5jb25maWcoY29uZmlnKTtcblxuICAgIC8qKlxuICAgICAqIE11c3QgY29uZmlndXJlIHRoZSBleGNlcHRpb24gaGFuZGxpbmdcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19XG4gICAgICovXG4gICAgZnVuY3Rpb24gZXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyKCkge1xuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICBhcHBFcnJvclByZWZpeDogdW5kZWZpbmVkXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jb25maWd1cmUgPSBmdW5jdGlvbiAoYXBwRXJyb3JQcmVmaXgpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmFwcEVycm9yUHJlZml4ID0gYXBwRXJyb3JQcmVmaXg7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge2NvbmZpZzogdGhpcy5jb25maWd9O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZSBieSBzZXR0aW5nIGFuIG9wdGlvbmFsIHN0cmluZyB2YWx1ZSBmb3IgYXBwRXJyb3JQcmVmaXguXG4gICAgICogQWNjZXNzaWJsZSB2aWEgY29uZmlnLmFwcEVycm9yUHJlZml4ICh2aWEgY29uZmlnIHZhbHVlKS5cbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19ICRwcm92aWRlXG4gICAgICogQHJldHVybiB7W3R5cGVdfVxuICAgICAqIEBuZ0luamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZpZygkcHJvdmlkZSkge1xuICAgICAgICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRleGNlcHRpb25IYW5kbGVyJywgZXh0ZW5kRXhjZXB0aW9uSGFuZGxlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0ZW5kIHRoZSAkZXhjZXB0aW9uSGFuZGxlciBzZXJ2aWNlIHRvIGFsc28gZGlzcGxheSBhIHRvYXN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gJGRlbGVnYXRlXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBleGNlcHRpb25IYW5kbGVyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBsb2dnZXJcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhlIGRlY29yYXRlZCAkZXhjZXB0aW9uSGFuZGxlciBzZXJ2aWNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXh0ZW5kRXhjZXB0aW9uSGFuZGxlcigkZGVsZWdhdGUsIGV4Y2VwdGlvbkhhbmRsZXIsIGxvZ2dlcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXhjZXB0aW9uLCBjYXVzZSkge1xuICAgICAgICAgICAgdmFyIGFwcEVycm9yUHJlZml4ID0gZXhjZXB0aW9uSGFuZGxlci5jb25maWcuYXBwRXJyb3JQcmVmaXggfHwgJyc7XG4gICAgICAgICAgICB2YXIgZXJyb3JEYXRhID0ge2V4Y2VwdGlvbjogZXhjZXB0aW9uLCBjYXVzZTogY2F1c2V9O1xuICAgICAgICAgICAgZXhjZXB0aW9uLm1lc3NhZ2UgPSBhcHBFcnJvclByZWZpeCArIGV4Y2VwdGlvbi5tZXNzYWdlO1xuICAgICAgICAgICAgJGRlbGVnYXRlKGV4Y2VwdGlvbiwgY2F1c2UpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb3VsZCBhZGQgdGhlIGVycm9yIHRvIGEgc2VydmljZSdzIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgKiBhZGQgZXJyb3JzIHRvICRyb290U2NvcGUsIGxvZyBlcnJvcnMgdG8gcmVtb3RlIHdlYiBzZXJ2ZXIsXG4gICAgICAgICAgICAgKiBvciBsb2cgbG9jYWxseS4gT3IgdGhyb3cgaGFyZC4gSXQgaXMgZW50aXJlbHkgdXAgdG8geW91LlxuICAgICAgICAgICAgICogdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAgICAgKiAgICAgdGhyb3cgeyBtZXNzYWdlOiAnZXJyb3IgbWVzc2FnZSB3ZSBhZGRlZCcgfTtcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGV4Y2VwdGlvbi5tZXNzYWdlLCBlcnJvckRhdGEpO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBibG9ja3MuZXhjZXB0aW9uXG4gKiBGQUNUT1JZOiBleGNlcHRpb25cbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYmxvY2tzLmV4Y2VwdGlvbicpXG4gICAgICAgIC5mYWN0b3J5KCdleGNlcHRpb24nLCBleGNlcHRpb24pO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZXhjZXB0aW9uKGxvZ2dlcikge1xuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIGNhdGNoZXI6IGNhdGNoZXJcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICAgICAgZnVuY3Rpb24gY2F0Y2hlcihtZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKG1lc3NhZ2UsIHJlYXNvbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=