!function(){"use strict";angular.module("notosportal",["notosportal.core","notosportal.layout","notosportal.widgets","notosportal.dashboard","notosportal.info","notosportal.media"])}(),angular.module("notosportal.core",["ngAnimate","ngSanitize","ngResource","ui.bootstrap","ncy-angular-breadcrumb","restangular","blocks.exception","blocks.logger","blocks.router"]),function(){"use strict";angular.module("notosportal.dashboard",[])}(),function(){"use strict";angular.module("notosportal.info",[])}(),function(){"use strict";angular.module("notosportal.layout",[])}(),function(){"use strict";angular.module("notosportal.media",[])}(),function(){"use strict";angular.module("notosportal.widgets",[])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.router",["ui.router"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";function t(){function t(t){var n,e,r,i,a,c="",s="",l="",u=0;do n=t.charCodeAt(u++),e=t.charCodeAt(u++),s=t.charCodeAt(u++),r=n>>2,i=(3&n)<<4|e>>4,a=(15&e)<<2|s>>6,l=63&s,isNaN(e)?a=l=64:isNaN(s)&&(l=64),c=c+o.charAt(r)+o.charAt(i)+o.charAt(a)+o.charAt(l),n=e=s="",r=i=a=l="";while(u<t.length);return c}function n(t){var n,e,r,i,a,c="",s="",l="",u=0,f=/[^A-Za-z0-9\+\/\=]/g;f.exec(t)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=o.indexOf(t.charAt(u++)),i=o.indexOf(t.charAt(u++)),a=o.indexOf(t.charAt(u++)),l=o.indexOf(t.charAt(u++)),n=r<<2|i>>4,e=(15&i)<<4|a>>2,s=(3&a)<<6|l,c+=String.fromCharCode(n),64!=a&&(c+=String.fromCharCode(e)),64!=l&&(c+=String.fromCharCode(s)),n=e=s="",r=i=a=l="";while(u<t.length);return c}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e={encode:t,decode:n};return e}angular.module("notosportal.core").factory("Base64",t)}(),function(){"use strict";function t(t,n,o,e){function r(){return n.$broadcast.apply(n,arguments)}function i(t){return/^[-]?\d+$/.test(t)}function a(t,n){return t&&-1!==t.toLowerCase().indexOf(n.toLowerCase())}var c={$broadcast:r,$q:t,$timeout:o,isNumber:i,logger:e,textContains:a};return c}angular.module("notosportal.core").factory("common",t),t.$inject=["$q","$rootScope","$timeout","logger"]}(),function(){"use strict";function t(t){t.options.timeOut=4e3,t.options.closeButton=!0,t.options.progressBar=!0,t.options.positionClass="toast-bottom-right"}function n(t,n,o,e,i){function a(){o.config.$urlRouterProvider=t,o.config.$stateProvider=n,o.config.title=r.appTitle}function c(){e.setOptions({prefixStateName:"index",template:"bootstrap3",includeAbstract:!0})}function s(){var t="/api";i.setBaseUrl(t)}a(),c(),s()}function o(t){t.$on("$viewContentLoaded",function(){$("html, body").animate({scrollTop:0},200)})}var e=angular.module("notosportal.core");e.config(t),t.$inject=["toastr"];var r={appErrorPrefix:"[Fout] ",appTitle:"VBS De Klimtoren",version:"1.0.0"};e.value("config",r),e.config(n),e.run(o),n.$inject=["$urlRouterProvider","$stateProvider","routehelperConfigProvider","$breadcrumbProvider","RestangularProvider"],o.$inject=["$rootScope"]}(),function(){"use strict";angular.module("notosportal.core").constant("toastr",toastr).constant("moment",moment).constant("gapi",gapi)}(),function(){"use strict";function t(t,n){function o(){FB.init({appId:"466280350201960",channelUrl:"js/modules/core/fb-channel.html",cookie:!0,xfbml:!0,version:"v2.3"})}t.fbAsyncInit=function(){o(),n.$broadcast("fb.init")},function(t){var n,o="facebook-jssdk",e=t.getElementsByTagName("script")[0];t.getElementById(o)||(n=t.createElement("script"),n.id=o,n.async=!0,n.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(n,e))}(document)}angular.module("notosportal.core").run(t),t.$inject=["$window","common"]}(),function(){"use strict";function t(t,n){function o(){e.collections=t.take(4),n.campaigns(3).then(function(t){e.campaigns=t.data.campaigns})}var e=this;e.facebookurl="https://www.facebook.com/vbsdeklimtoren",e.collections=[],e.campaigns=[],o()}angular.module("notosportal.dashboard").controller("DashboardController",t),t.$inject=["GPCollections","MailChimp"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"index",config:{"abstract":!0,url:"/index",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"start"}},{state:"index.dashboard",config:{url:"/dashboard",views:{"content@index":{templateUrl:"js/modules/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm"},"slider@index":{templateUrl:"js/modules/dashboard/slider.html"}},title:"Dashboard"}}]}angular.module("notosportal.dashboard").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t){function n(){function n(t){o.campaigns=t.data.campaigns}t.campaigns().then(n)}var o=this;o.campaigns=[],n()}angular.module("notosportal.info").controller("CampaignsController",t),t.$inject=["MailChimp"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"info",config:{"abstract":!0,url:"/info",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"Info"}},{state:"info.contact",config:{url:"/contact",views:{"content@info":{templateUrl:"js/modules/info/contact.html"}},title:"Contact"}},{state:"info.about",config:{url:"/about",views:{"content@info":{templateUrl:"js/modules/info/about.html"}},title:"Over onze school"}},{state:"info.care",config:{url:"/care",views:{"content@info":{templateUrl:"js/modules/info/care.html"}},title:"Zorg op onze school"}},,{state:"info.campaigns",config:{url:"/campaigns",views:{"content@info":{templateUrl:"js/modules/info/campaigns.html",controller:"CampaignsController",controllerAs:"vm"}},title:"Nieuwsbrieven"}}]}angular.module("notosportal.info").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t,n){function o(){console.log(n),t.memberCount().then(function(t){e.campaign_members=t.data.stats.member_count})}var e=this;e.campaign_members=0,o()}angular.module("notosportal.layout").controller("ShellController",t),t.$inject=["MailChimp","$state"]}(),function(){"use strict";function t(){function t(){return e}function n(t){for(var n=[],o=0;t>o&&o<e.length;)n.push(e[o]),o++;return n}var o={get:t,take:n},e=[{name:"2015-2016",href:"https://plus.google.com/b/103406123671942529660/collection/sYLa3"},{name:"2014-2015",href:"https://plus.google.com/b/103406123671942529660/collection/U5aa3",preview:"https://lh3.googleusercontent.com/-WuQRYCenP8w/VelsvrGL-fI/AAAAAAAAAqI/rj6IT0gPJWM/w640-h480-p/DSCN3028.JPG"},{name:"2013-2014",href:"https://plus.google.com/b/103406123671942529660/collection/EoNP2",preview:"https://lh3.googleusercontent.com/-XuNc8zcK6cg/VelygWhfKUI/AAAAAAAAAvQ/8EZzWBFBgdA/w777-h583-no/IMG_2789.JPG"}];return o}angular.module("notosportal.media").factory("GPCollections",t)}(),function(){"use strict";function t(t,n){function o(n){function o(t){return t.data}return t.get("/api/mailchimp/campaigns",{params:{take:n}}).success(o)}function e(){function n(t){return t.data}return t.get("/api/mailchimp/member_count").success(n)}var r={campaigns:o,memberCount:e};return r}angular.module("notosportal.media").factory("MailChimp",t),t.$inject=["$http","$q"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"media",config:{"abstract":!0,url:"/media",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"in beeld"}},{state:"media.photos",config:{url:"/photos",views:{"content@media":{templateUrl:"js/modules/media/photos.html",controller:"PhotoController",controllerAs:"vm"}},title:"foto's"}}]}angular.module("notosportal.info").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t){function n(){o.collections=t.get()}var o=this;o.collections=[],n()}angular.module("notosportal.media").controller("PhotoController",t),t.$inject=["GPCollections"]}(),function(){"use strict";function t(){function t(t,n,o){function e(){var t=o.appearAnimationDelay||1;t>1&&$(n).css("animation-delay",t+"ms"),$(n).addClass("animated").addClass(o.appearAnimation)}angular.element("body").hasClass("no-csstransitions")||$(n).bind("appear",e)}var n={restrict:"A",link:t};return n}angular.module("notosportal.widgets").directive("appearAnimation",t)}(),function(){"use strict";function t(t){function n(n,o,e){o.addClass("fwb-bg fwb-blur"),t(function(){var n=new Image,r='<div class="blur-box"/>';o.find("canvas").length||(e.image?n.src=e.image:"none"!==o.css("background-image")&&(n.src=o.css("background-image").replace("url(","").replace(")",""),o.css("background-image","none")),n.onload=function(){Pixastic.process(n,"blurfast",{amount:e.amount||2})},o.prepend(r).find(".blur-box").prepend(n)),t(function(){var t=o.find("canvas");t.width()==o.width()?t.css({marginLeft:0,marginTop:-((t.height()-o.height())/2)}):t.css({marginTop:0,marginLeft:-((t.width()-o.width())/2)}),$("body").addClass("blur-load")},50)})}var o={restrict:"A",link:n};return o}angular.module("notosportal.widgets").directive("blur",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(){function t(t,n,o){n.find(".gallery-images, .lightbox").fancybox({nextEffect:"fade",prevEffect:"fade",openEffect:"fade",closeEffect:"fade",helpers:{overlay:{locked:!1},title:{type:"over"}},tpl:{closeBtn:'<a title="Sluiten" class="fancybox-item fancybox-close" href="javascript:;">Ã—</a>',next:'<a title="Volgende" class="fancybox-nav fancybox-next" href="javascript:;">\n						<span><svg x="0" y="0" width="9px" height="16px" viewBox="0 0 9 16" enable-background="new 0 0 9 16" xml:space="preserve"><polygon fill-rule="evenodd" clip-rule="evenodd" fill="#fcfcfc" points="1,0.001 0,1.001 7,8 0,14.999 1,15.999 9,8 "/></svg></span>\n					</a>',prev:'<a title="Vorige" class="fancybox-nav fancybox-prev" href="javascript:;">\n						<span><svg x="0" y="0" width="9px" height="16px" viewBox="0 0 9 16" enable-background="new 0 0 9 16" xml:space="preserve"><polygon fill-rule="evenodd" clip-rule="evenodd" fill="#fcfcfc" points="8,15.999 9,14.999 2,8 9,1.001 8,0.001 0,8 "/></svg></span>\n					</a>'}})}var n={restrict:"A",link:t};return n}angular.module("notosportal.widgets").directive("fancybox",t)}(),function(){"use strict";function t(){function t(t,n){n.addClass("livicon"),n.addLivicon()}var n={restrict:"A",replace:!0,scope:!1,link:t};return n}angular.module("notosportal.widgets").directive("livicon",t)}(),function(){"use strict";function t(t,n){function o(o,e,r){t(function(){function t(){var t=e.offset().top,r=n.pageYOffset;t>r?e.css({backgroundPosition:"50% "+(t-r)/o+"px"}):e.css({backgroundPosition:"50% "+-(t-r)/o+"px"})}e.addClass("fwb-bg fwb-blur");var o=r.speed||3;t(),angular.element(n).bind("scroll",t)})}var e={restrict:"A",link:o};return e}angular.module("notosportal.widgets").directive("paralax",t),t.$inject=["$timeout","$window"]}(),function(){"use strict";function t(t){function n(n,o,e){t(function(){var t=o;if(t.closest(".rs-slider").hasClass("full-width")){var n,e=angular.element("body"),r=(e.width(),0),i=104;angular.element("#top-box").length&&e.hasClass("hidden-top")&&(r=angular.element("#top-box").outerHeight()-32),n=e.width()>=1200?e.height()-(r+i):800,t.revolution({delay:6e3,startwidth:1200,startheight:n,hideThumbs:10,navigationType:"bullet",navigationArrows:"solo",navigationHAlign:"center",navigationVAlign:"top",navigationHOffset:-545,navigationVOffset:30,hideTimerBar:"on"}).parent().parent().removeClass("load")}else t.revolution({delay:6e3,startwidth:1200,startheight:500,hideThumbs:10,navigationType:"none",onHoverStop:"off"}).parent().parent().removeClass("load")})}var o={restrict:"A",link:n};return o}angular.module("notosportal.widgets").directive("rsSlider",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(){this.config={appErrorPrefix:void 0},this.configure=function(t){this.config.appErrorPrefix=t},this.$get=function(){return{config:this.config}}}function n(t){t.decorator("$exceptionHandler",o)}function o(t,n,o){return function(e,r){var i=n.config.appErrorPrefix||"",a={exception:e,cause:r};e.message=i+e.message,t(e,r),o.error(e.message,a)}}angular.module("blocks.exception").provider("exceptionHandler",t).config(n),n.$inject=["$provide"],o.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function t(t){function n(n){return function(o){t.error(n,o)}}var o={catcher:n};return o}angular.module("blocks.exception").factory("exception",t),t.$inject=["logger"]}(),function(){"use strict";function t(){this.config={},this.$get=function(){return{config:this.config}}}function n(t,n,o){function e(t){t.forEach(function(t){t.config.title&&(t.config.ncyBreadcrumb={label:t.config.title.toLowerCase()}),l.state(t.state,t.config)})}function r(){return o.get()}function i(t){var n=null;return r().forEach(function(o){o.name===t&&(n=o)}),n}function a(){c(),s.otherwise("/index/dashboard")}function c(){n.$on("$stateChangeSuccess",function(o,e,r){var i=t.config.title+(e.title?" | "+e.title:"");n.title=i,n.$state=e})}var s=t.config.$urlRouterProvider,l=t.config.$stateProvider,u={configureStates:e,states:r,get:i};return a(),u}angular.module("blocks.router").provider("routehelperConfig",t).factory("routehelper",n),n.$inject=["routehelperConfig","$rootScope","$state"]}(),function(){"use strict";function t(t,n){function o(o,e,r){n.error(o,r),t.error("Fout: "+o,e)}function e(o,e,r){n.info(o,r),t.info("Info: "+o,e)}function r(o,e,r){n.success(o,r),t.info("Succes: "+o,e)}function i(o,e,r){n.warning(o,r),t.warn("Let op: "+o,e)}function a(o,e,r){n.warning(o,r),t.warn("Verwijderd: "+o,e)}function c(o,e,r){n.success(o,r),t.info("Bewaard: "+o,e)}var s={showToasts:!0,error:o,info:e,success:r,warning:i,removed:a,saved:c,log:t.log};return s}angular.module("blocks.logger").factory("logger",t),t.$inject=["$log","toastr"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdG9zcG9ydGFsLm1vZHVsZS5qcyIsImNvcmUvY29yZS5tb2R1bGUuanMiLCJkYXNoYm9hcmQvZGFzaGJvYXJkLm1vZHVsZS5qcyIsImluZm8vaW5mby5tb2R1bGUuanMiLCJsYXlvdXQvbGF5b3V0Lm1vZHVsZS5qcyIsIm1lZGlhL21lZGlhLm1vZHVsZS5qcyIsIndpZGdldHMvd2lkZ2V0cy5tb2R1bGUuanMiLCJibG9ja3MvZXhjZXB0aW9uL2V4Y2VwdGlvbi5tb2R1bGUuanMiLCJibG9ja3Mvcm91dGVyL3JvdXRlci5tb2R1bGUuanMiLCJibG9ja3MvbG9nZ2VyL2xvZ2dlci5tb2R1bGUuanMiLCJjb3JlL2Jhc2U2NC5qcyIsImNvcmUvY29tbW9uLmpzIiwiYXBwLm1pbi5qcyIsImNvcmUvY29uZmlnLmpzIiwiY29yZS9jb25zdGFudHMuanMiLCJjb3JlL3NvY2lhbC5qcyIsImRhc2hib2FyZC9kYXNoYm9hcmQuY29udHJvbGxlci5qcyIsImRhc2hib2FyZC9kYXNoYm9hcmQucm91dGVzLmpzIiwiaW5mby9jYW1wYWlnbnMuY29udHJvbGxlci5qcyIsImluZm8vaW5mby5yb3V0ZXMuanMiLCJsYXlvdXQvc2hlbGwuY29udHJvbGxlci5qcyIsIm1lZGlhL2dvb2dsZS5wbHVzLmNvbGxlY3Rpb25zLmpzIiwibWVkaWEvbWFpbGNoaW1wLmpzIiwibWVkaWEvbWVkaWEucm91dGVzLmpzIiwibWVkaWEvcGhvdG8uY29udHJvbGxlci5qcyIsIndpZGdldHMvYXBwZWFyLmRpcmVjdGl2ZS5qcyIsIndpZGdldHMvYmx1ci5kaXJlY3RpdmUuanMiLCJ3aWRnZXRzL2ZhbmN5Ym94LmRpcmVjdGl2ZS5qcyIsIndpZGdldHMvbGl2aWNvbi5kaXJlY3RpdmUuanMiLCJ3aWRnZXRzL3BhcmFsYXguZGlyZWN0aXZlLmpzIiwid2lkZ2V0cy9yc3NsaWRlci5kaXJlY3RpdmUuanMiLCJibG9ja3MvZXhjZXB0aW9uL2V4Y2VwdGlvbi1oYW5kbGVyLnByb3ZpZGVyLmpzIiwiYmxvY2tzL2V4Y2VwdGlvbi9leGNlcHRpb24uanMiLCJibG9ja3Mvcm91dGVyL3JvdXRlaGVscGVyLmpzIiwiYmxvY2tzL2xvZ2dlci9sb2dnZXIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsIkJhc2U2NCIsImVuY29kZSIsImlucHV0IiwiY2hyMSIsImNocjIiLCJlbmMxIiwiZW5jMiIsImVuYzMiLCJvdXRwdXQiLCJjaHIzIiwiZW5jNCIsImkiLCJjaGFyQ29kZUF0IiwiaXNOYU4iLCJrZXlTdHIiLCJjaGFyQXQiLCJsZW5ndGgiLCJkZWNvZGUiLCJiYXNlNjR0ZXN0IiwiZXhlYyIsIndpbmRvdyIsImFsZXJ0IiwicmVwbGFjZSIsImluZGV4T2YiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJzZXJ2aWNlIiwiZmFjdG9yeSIsImNvbW1vbiIsIiRxIiwiJHJvb3RTY29wZSIsIiR0aW1lb3V0IiwibG9nZ2VyIiwiJGJyb2FkY2FzdCIsImFwcGx5IiwiYXJndW1lbnRzIiwiaXNOdW1iZXIiLCJ2YWwiLCJ0ZXN0IiwidGV4dENvbnRhaW5zIiwidGV4dCIsInNlYXJjaFRleHQiLCJ0b0xvd2VyQ2FzZSIsIiRpbmplY3QiLCJ0b2FzdHJDb25maWciLCJ0b2FzdHIiLCJvcHRpb25zIiwidGltZU91dCIsImNsb3NlQnV0dG9uIiwicHJvZ3Jlc3NCYXIiLCJwb3NpdGlvbkNsYXNzIiwiY29uZmlndXJlIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJHN0YXRlUHJvdmlkZXIiLCJyb3V0ZWhlbHBlckNvbmZpZ1Byb3ZpZGVyIiwiJGJyZWFkY3J1bWJQcm92aWRlciIsIlJlc3Rhbmd1bGFyUHJvdmlkZXIiLCJjb25maWd1cmVSb3V0aW5nIiwiY29uZmlnIiwidGl0bGUiLCJhcHBUaXRsZSIsImNvbmZpZ3VyZUJyZWFkY3J1bWIiLCJzZXRPcHRpb25zIiwicHJlZml4U3RhdGVOYW1lIiwidGVtcGxhdGUiLCJpbmNsdWRlQWJzdHJhY3QiLCJjb25maWd1cmVSZXN0YW5ndWxhciIsImJhc2VVcmwiLCJzZXRCYXNlVXJsIiwiYWZ0ZXJWaWV3Q29udGVudExvYWRlZCIsIiRvbiIsIiQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiY29yZSIsImFwcEVycm9yUHJlZml4IiwidmVyc2lvbiIsInZhbHVlIiwicnVuIiwiY29uc3RhbnQiLCJtb21lbnQiLCJnYXBpIiwiZmFjZWJvb2tJbml0IiwiJHdpbmRvdyIsImluaXRGYWNlYm9vayIsIkZCIiwiaW5pdCIsImFwcElkIiwiY2hhbm5lbFVybCIsImNvb2tpZSIsInhmYm1sIiwiZmJBc3luY0luaXQiLCJkIiwianMiLCJpZCIsInJlZiIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVFbGVtZW50IiwiYXN5bmMiLCJzcmMiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiZG9jdW1lbnQiLCJEYXNoYm9hcmRDb250cm9sbGVyIiwiR1BDb2xsZWN0aW9ucyIsIk1haWxDaGltcCIsImFjdGl2YXRlIiwidm0iLCJjb2xsZWN0aW9ucyIsInRha2UiLCJjYW1wYWlnbnMiLCJ0aGVuIiwicmVzcG9uc2UiLCJkYXRhIiwidGhpcyIsImZhY2Vib29rdXJsIiwiY29udHJvbGxlciIsImNvbmZpZ1JvdXRlcyIsInJvdXRlaGVscGVyIiwiY29uZmlndXJlU3RhdGVzIiwiZ2V0U3RhdGVzIiwic3RhdGUiLCJhYnN0cmFjdCIsInVybCIsInZpZXdzIiwibWFpbkAiLCJ0ZW1wbGF0ZVVybCIsImNvbnRlbnRAaW5kZXgiLCJjb250cm9sbGVyQXMiLCJzbGlkZXJAaW5kZXgiLCJDYW1wYWlnbnNDb250cm9sbGVyIiwiY2FtcGFpZ25zU3VjY2VzcyIsImNvbnRlbnRAaW5mbyIsIlNoZWxsQ29udHJvbGxlciIsIiRzdGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJtZW1iZXJDb3VudCIsImNhbXBhaWduX21lbWJlcnMiLCJzdGF0cyIsIm1lbWJlcl9jb3VudCIsImdldCIsIm51bWJlciIsInJlc3VsdCIsInB1c2giLCJuYW1lIiwiaHJlZiIsInByZXZpZXciLCIkaHR0cCIsInBhcmFtcyIsInN1Y2Nlc3MiLCJtZW1iZXJDb3VudFN1Y2Nlc3MiLCJjb250ZW50QG1lZGlhIiwiUGhvdG9Db250cm9sbGVyIiwiYXBwZWFyQW5pbWF0aW9uIiwibGlua0Z1bmMiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsImFwcGVhciIsImRlbGF5IiwiYXBwZWFyQW5pbWF0aW9uRGVsYXkiLCJjc3MiLCJhZGRDbGFzcyIsImhhc0NsYXNzIiwiYmluZCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwibGluayIsImJsdXIiLCJpbWciLCJJbWFnZSIsInByZXBlbmRCb3giLCJmaW5kIiwiaW1hZ2UiLCJvbmxvYWQiLCJQaXhhc3RpYyIsInByb2Nlc3MiLCJhbW91bnQiLCJwcmVwZW5kIiwiY2FudmFzIiwid2lkdGgiLCJtYXJnaW5MZWZ0IiwibWFyZ2luVG9wIiwiaGVpZ2h0IiwiZmFuY3lib3giLCJuZXh0RWZmZWN0IiwicHJldkVmZmVjdCIsIm9wZW5FZmZlY3QiLCJjbG9zZUVmZmVjdCIsImhlbHBlcnMiLCJvdmVybGF5IiwibG9ja2VkIiwidHlwZSIsInRwbCIsImNsb3NlQnRuIiwibmV4dCIsInByZXYiLCJsaXZpY29uIiwiYWRkTGl2aWNvbiIsInBhcmFsYXgiLCJiZ1Bvc2l0aW9uIiwiJHRoaXNZIiwib2Zmc2V0IiwidG9wIiwiJHdpbmRvd1kiLCJwYWdlWU9mZnNldCIsImJhY2tncm91bmRQb3NpdGlvbiIsInNwZWVkIiwicnNTbGlkZXIiLCJyZXZvbHV0aW9uU2xpZGVyIiwiY2xvc2VzdCIsImJvZHkiLCJ0b3BIZWlnaHQiLCJoZWFkZXJIZWlnaHQiLCJvdXRlckhlaWdodCIsInJldm9sdXRpb24iLCJzdGFydHdpZHRoIiwic3RhcnRoZWlnaHQiLCJoaWRlVGh1bWJzIiwibmF2aWdhdGlvblR5cGUiLCJuYXZpZ2F0aW9uQXJyb3dzIiwibmF2aWdhdGlvbkhBbGlnbiIsIm5hdmlnYXRpb25WQWxpZ24iLCJuYXZpZ2F0aW9uSE9mZnNldCIsIm5hdmlnYXRpb25WT2Zmc2V0IiwiaGlkZVRpbWVyQmFyIiwicGFyZW50IiwicmVtb3ZlQ2xhc3MiLCJvbkhvdmVyU3RvcCIsImV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlciIsInVuZGVmaW5lZCIsIiRnZXQiLCIkcHJvdmlkZSIsImRlY29yYXRvciIsImV4dGVuZEV4Y2VwdGlvbkhhbmRsZXIiLCIkZGVsZWdhdGUiLCJleGNlcHRpb25IYW5kbGVyIiwiZXhjZXB0aW9uIiwiY2F1c2UiLCJlcnJvckRhdGEiLCJtZXNzYWdlIiwiZXJyb3IiLCJwcm92aWRlciIsImNhdGNoZXIiLCJyZWFzb24iLCJyb3V0ZWhlbHBlckNvbmZpZyIsInN0YXRlcyIsImZvckVhY2giLCJuY3lCcmVhZGNydW1iIiwibGFiZWwiLCJwYXR0ZXJuIiwidXBkYXRlRG9jVGl0bGUiLCJvdGhlcndpc2UiLCJldmVudCIsImN1cnJlbnQiLCJwcmV2aW91cyIsIiRsb2ciLCJpbmZvIiwid2FybmluZyIsIndhcm4iLCJyZW1vdmVkIiwic2F2ZWQiLCJzaG93VG9hc3RzIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBRUFBLFNBQ0FDLE9BQUEsZUFFQSxtQkFDQSxxQkFDQSxzQkFHQSx3QkFDQSxtQkFDQSx5QkNiQUQsUUFDQUMsT0FBQSxvQkFFQSxZQUFBLGFBQUEsYUFHQSxlQUNBLHlCQUNBLGNBSUEsbUJBQ0EsZ0JBQ0Esa0JDZEEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLCtCQ0pBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSwwQkNKQSxXQUNBLFlBRUFELFNBQ0FDLE9BQUEsNEJDSkEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLDJCQ0pBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSw2QkNKQSxXQUNBLFlBRUFELFNBQ0FDLE9BQUEsb0JBQUEscUJDSkEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLGlCQUNBLGlCQ0xBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSx1QkNDQSxXQUNBLFlBT0EsU0FBQUMsS0FVQSxRQUFBQyxHQUFBQyxHQUNBLEdBQ0FDLEdBQUFDLEVBQ0FDLEVBQUFDLEVBQUFDLEVBRkFDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsQ0FFQSxHQUNBUixHQUFBRCxFQUFBVSxXQUFBRCxLQUNBUCxFQUFBRixFQUFBVSxXQUFBRCxLQUNBRixFQUFBUCxFQUFBVSxXQUFBRCxLQUVBTixFQUFBRixHQUFBLEVBQ0FHLEdBQUEsRUFBQUgsSUFBQSxFQUFBQyxHQUFBLEVBQ0FHLEdBQUEsR0FBQUgsSUFBQSxFQUFBSyxHQUFBLEVBQ0FDLEVBQUEsR0FBQUQsRUFFQUksTUFBQVQsR0FDQUcsRUFBQUcsRUFBQSxHQUNBRyxNQUFBSixLQUNBQyxFQUFBLElBR0FGLEVBQUFBLEVBQ0FNLEVBQUFDLE9BQUFWLEdBQ0FTLEVBQUFDLE9BQUFULEdBQ0FRLEVBQUFDLE9BQUFSLEdBQ0FPLEVBQUFDLE9BQUFMLEdBQ0FQLEVBQUFDLEVBQUFLLEVBQUEsR0FDQUosRUFBQUMsRUFBQUMsRUFBQUcsRUFBQSxTQUNBQyxFQUFBVCxFQUFBYyxPQUVBLE9BQUFSLEdBR0EsUUFBQVMsR0FBQWYsR0FDQSxHQUNBQyxHQUFBQyxFQUNBQyxFQUFBQyxFQUFBQyxFQUZBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEVBR0FPLEVBQUEscUJBQ0FBLEdBQUFDLEtBQUFqQixJQUNBa0IsT0FBQUMsTUFBQSxvSkFJQW5CLEVBQUFBLEVBQUFvQixRQUFBLHNCQUFBLEdBRUEsR0FDQWpCLEdBQUFTLEVBQUFTLFFBQUFyQixFQUFBYSxPQUFBSixNQUNBTCxFQUFBUSxFQUFBUyxRQUFBckIsRUFBQWEsT0FBQUosTUFDQUosRUFBQU8sRUFBQVMsUUFBQXJCLEVBQUFhLE9BQUFKLE1BQ0FELEVBQUFJLEVBQUFTLFFBQUFyQixFQUFBYSxPQUFBSixNQUVBUixFQUFBRSxHQUFBLEVBQUFDLEdBQUEsRUFDQUYsR0FBQSxHQUFBRSxJQUFBLEVBQUFDLEdBQUEsRUFDQUUsR0FBQSxFQUFBRixJQUFBLEVBQUFHLEVBRUFGLEdBQUFnQixPQUFBQyxhQUFBdEIsR0FFQSxJQUFBSSxJQUNBQyxHQUFBZ0IsT0FBQUMsYUFBQXJCLElBRUEsSUFBQU0sSUFDQUYsR0FBQWdCLE9BQUFDLGFBQUFoQixJQUdBTixFQUFBQyxFQUFBSyxFQUFBLEdBQ0FKLEVBQUFDLEVBQUFDLEVBQUFHLEVBQUEsU0FFQUMsRUFBQVQsRUFBQWMsT0FFQSxPQUFBUixHQWxGQSxHQUFBTSxHQUFBLG9FQUNBWSxHQUNBekIsT0FBQUEsRUFDQWdCLE9BQUFBLEVBR0EsT0FBQVMsR0FaQTVCLFFBQ0FDLE9BQUEsb0JBQ0E0QixRQUFBLFNBQUEzQixNQ0xBLFdBQ0EsWUFNQSxTQUFBNEIsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FnQkEsUUFBQUMsS0FDQSxNQUFBSCxHQUFBRyxXQUFBQyxNQUFBSixFQUFBSyxXQUlBLFFBQUFDLEdBQUFDLEdBRUEsTUFBQSxZQUFBQyxLQUFBRCxHQUdBLFFBQUFFLEdBQUFDLEVBQUFDLEdBQ0EsTUFBQUQsSUFBQSxLQUFBQSxFQUFBRSxjQUFBbkIsUUFBQWtCLEVBQUFDLGVBekJBLEdBQUFoQixJQUVBTyxXQUFBQSxFQUNBSixHQUFBQSxFQUNBRSxTQUFBQSxFQUVBSyxTQUFBQSxFQUNBSixPQUFBQSxFQUNBTyxhQUFBQSxFQUdBLE9BQUFiLEdBakJBNUIsUUFDQUMsT0FBQSxvQkFDQTRCLFFBQUEsU0FBQUMsR0NzTklBLEVBQU9lLFNBQVcsS0FBTSxhQUFjLFdBQVksYUNoT3RELFdBQ0EsWUFPQSxTQUFBQyxHQUFBQyxHQUNBQSxFQUFBQyxRQUFBQyxRQUFBLElBQ0FGLEVBQUFDLFFBQUFFLGFBQUEsRUFDQUgsRUFBQUMsUUFBQUcsYUFBQSxFQUNBSixFQUFBQyxRQUFBSSxjQUFBLHFCQW1CQSxRQUFBQyxHQUFBQyxFQUFBQyxFQUNBQyxFQUFBQyxFQUNBQyxHQVFBLFFBQUFDLEtBQ0FILEVBQUFJLE9BQUFOLG1CQUFBQSxFQUNBRSxFQUFBSSxPQUFBTCxlQUFBQSxFQUVBQyxFQUFBSSxPQUFBQyxNQUFBRCxFQUFBRSxTQUdBLFFBQUFDLEtBQ0FOLEVBQUFPLFlBQ0FDLGdCQUFBLFFBQ0FDLFNBQUEsYUFDQUMsaUJBQUEsSUFJQSxRQUFBQyxLQUNBLEdBQUFDLEdBQUEsTUFFQVgsR0FBQVksV0FBQUQsR0F4QkFWLElBQ0FJLElBRUFLLElBMEJBLFFBQUFHLEdBQUF2QyxHQUNBQSxFQUFBd0MsSUFBQSxxQkFBQSxXQUNBQyxFQUFBLGNBQUFDLFNBQUFDLFVBQUEsR0FBQSxPQS9EQSxHQUFBQyxHQUFBNUUsUUFBQUMsT0FBQSxtQkFFQTJFLEdBQUFoQixPQUFBZCxHRDJPSUEsRUFBYUQsU0FBVyxTQzlONUIsSUFBQWUsSUFDQWlCLGVBQUEsVUFDQWYsU0FBQSxtQkFDQWdCLFFBQUEsUUFHQUYsR0FBQUcsTUFBQSxTQUFBbkIsR0FFQWdCLEVBQUFoQixPQUFBUCxHQUVBdUIsRUFBQUksSUFBQVQsR0RxUUlsQixFQUFVUixTQUFXLHFCQUFzQixpQkFBa0IsNEJBQTZCLHNCQUF1Qix1QkFRakgwQixFQUF1QjFCLFNBQVcsaUJFeFN0QyxXQUNBLFlBRUE3QyxTQUNBQyxPQUFBLG9CQUNBZ0YsU0FBQSxTQUFBbEMsUUFDQWtDLFNBQUEsU0FBQUMsUUFDQUQsU0FBQSxPQUFBRSxTQ1JBLFdBQ0EsWUFNQSxTQUFBQyxHQUFBQyxFQUFBdkQsR0FRQSxRQUFBd0QsS0FDQUMsR0FBQUMsTUFDQUMsTUFBQSxrQkFDQUMsV0FBQSxrQ0FDQUMsUUFBQSxFQUNBQyxPQUFBLEVBQ0FkLFFBQUEsU0FYQU8sRUFBQVEsWUFBQSxXQUNBUCxJQUNBeEQsRUFBQUssV0FBQSxZQWFBLFNBQUEyRCxHQUdBLEdBQUFDLEdBQ0FDLEVBQUEsaUJBQ0FDLEVBQUFILEVBQUFJLHFCQUFBLFVBQUEsRUFFQUosR0FBQUssZUFBQUgsS0FJQUQsRUFBQUQsRUFBQU0sY0FBQSxVQUNBTCxFQUFBQyxHQUFBQSxFQUNBRCxFQUFBTSxPQUFBLEVBQ0FOLEVBQUFPLElBQUEsc0NBRUFMLEVBQUFNLFdBQUFDLGFBQUFULEVBQUFFLEtBRUFRLFVBeENBekcsUUFBQUMsT0FBQSxvQkFDQStFLElBQUFJLEdIK1ZJQSxFQUFhdkMsU0FBVyxVQUFXLGFJL1Z2QyxXQUNBLFlBT0EsU0FBQTZELEdBQUFDLEVBQUFDLEdBVUEsUUFBQUMsS0FDQUMsRUFBQUMsWUFBQUosRUFBQUssS0FBQSxHQUVBSixFQUFBSyxVQUFBLEdBQUFDLEtBQUEsU0FBQUMsR0FDQUwsRUFBQUcsVUFBQUUsRUFBQUMsS0FBQUgsWUFaQSxHQUFBSCxHQUFBTyxJQUNBUCxHQUFBUSxZQUFBLDBDQUNBUixFQUFBQyxlQUNBRCxFQUFBRyxhQUVBSixJQVpBN0csUUFDQUMsT0FBQSx5QkFDQXNILFdBQUEsc0JBQUFiLEdKMFhJQSxFQUFvQjdELFNBQVcsZ0JBQWlCLGdCS2hZcEQsV0FDQSxZQU9BLFNBQUEyRSxHQUFBQyxHQUNBQSxFQUFBQyxnQkFBQUMsS0FHQSxRQUFBQSxLQUNBLFFBRUFDLE1BQUEsUUFDQWhFLFFBQ0FpRSxZQUFBLEVBQ0FDLElBQUEsU0FDQUMsT0FDQUMsU0FDQUMsWUFBQSxnQ0FHQXBFLE1BQUEsV0FJQStELE1BQUEsa0JBQ0FoRSxRQUNBa0UsSUFBQSxhQUNBQyxPQUNBRyxpQkFDQUQsWUFBQSxzQ0FDQVYsV0FBQSxzQkFDQVksYUFBQSxNQUVBQyxnQkFDQUgsWUFBQSxxQ0FHQXBFLE1BQUEsZUF0Q0E3RCxRQUNBQyxPQUFBLHlCQUNBK0UsSUFBQXdDLEdMMllJQSxFQUFhM0UsU0FBVyxrQk0vWTVCLFdBQ0EsWUFPQSxTQUFBd0YsR0FBQXpCLEdBUUEsUUFBQUMsS0FHQSxRQUFBeUIsR0FBQW5CLEdBQ0FMLEVBQUFHLFVBQUFFLEVBQUFDLEtBQUFILFVBSEFMLEVBQUFLLFlBQUFDLEtBQUFvQixHQVBBLEdBQUF4QixHQUFBTyxJQUNBUCxHQUFBRyxhQUVBSixJQVZBN0csUUFDQUMsT0FBQSxvQkFDQXNILFdBQUEsc0JBQUFjLEdONmNJQSxFQUFvQnhGLFNBQVcsZ0JPbmRuQyxXQUNBLFlBT0EsU0FBQTJFLEdBQUFDLEdBQ0FBLEVBQUFDLGdCQUFBQyxLQUdBLFFBQUFBLEtBQ0EsUUFFQUMsTUFBQSxPQUNBaEUsUUFDQWlFLFlBQUEsRUFDQUMsSUFBQSxRQUNBQyxPQUNBQyxTQUNBQyxZQUFBLGdDQUdBcEUsTUFBQSxVQUlBK0QsTUFBQSxlQUNBaEUsUUFDQWtFLElBQUEsV0FDQUMsT0FDQVEsZ0JBQ0FOLFlBQUEsaUNBR0FwRSxNQUFBLGFBSUErRCxNQUFBLGFBQ0FoRSxRQUNBa0UsSUFBQSxTQUNBQyxPQUNBUSxnQkFDQU4sWUFBQSwrQkFHQXBFLE1BQUEsc0JBSUErRCxNQUFBLFlBQ0FoRSxRQUNBa0UsSUFBQSxRQUNBQyxPQUNBUSxnQkFDQU4sWUFBQSw4QkFHQXBFLE1BQUEsd0JQNGRZLEVPdmRaK0QsTUFBQSxpQkFDQWhFLFFBQ0FrRSxJQUFBLGFBQ0FDLE9BQ0FRLGdCQUNBTixZQUFBLGlDQUNBVixXQUFBLHNCQUNBWSxhQUFBLE9BR0F0RSxNQUFBLG1CQXhFQTdELFFBQ0FDLE9BQUEsb0JBQ0ErRSxJQUFBd0MsR1A4ZElBLEVBQWEzRSxTQUFXLGtCUWxlNUIsV0FDQSxZQU9BLFNBQUEyRixHQUFBNUIsRUFBQTZCLEdBV0EsUUFBQTVCLEtBQ0E2QixRQUFBQyxJQUFBRixHQUNBN0IsRUFBQWdDLGNBQUExQixLQUFBLFNBQUFDLEdBQ0FMLEVBQUErQixpQkFBQTFCLEVBQUFDLEtBQUEwQixNQUFBQyxlQVpBLEdBQUFqQyxHQUFBTyxJQUVBUCxHQUFBK0IsaUJBQUEsRUFHQWhDLElBWkE3RyxRQUNBQyxPQUFBLHNCQUNBc0gsV0FBQSxrQkFBQWlCLEdSb2tCSUEsRUFBZ0IzRixTQUFXLFlBQWEsYVN4a0I1QyxXQUNBLFlBT0EsU0FBQThELEtBZ0NBLFFBQUFxQyxLQUNBLE1BQUFqQyxHQUdBLFFBQUFDLEdBQUFpQyxHQUdBLElBRkEsR0FBQUMsTUFDQXJJLEVBQUEsRUFDQW9JLEVBQUFwSSxHQUFBQSxFQUFBa0csRUFBQTdGLFFBQ0FnSSxFQUFBQyxLQUFBcEMsRUFBQWxHLElBQ0FBLEdBRUEsT0FBQXFJLEdBekNBLEdBQUF0SCxJQUNBb0gsSUFBQUEsRUFDQWhDLEtBQUFBLEdBUUFELElBRUFxQyxLQUFBLFlBQ0FDLEtBQUEscUVBR0FELEtBQUEsWUFDQUMsS0FBQSxtRUFDQUMsUUFBQSxnSEFHQUYsS0FBQSxZQUNBQyxLQUFBLG1FQUNBQyxRQUFBLGdIQUlBLE9BQUExSCxHQWxDQTVCLFFBQ0FDLE9BQUEscUJBQ0E0QixRQUFBLGdCQUFBOEUsTUNMQSxXQUNBLFlBT0EsU0FBQUMsR0FBQTJDLEVBQUF4SCxHQVNBLFFBQUFrRixHQUFBRCxHQU1BLFFBQUFzQixHQUFBbkIsR0FDQSxNQUFBQSxHQUFBQyxLQUpBLE1BQUFtQyxHQUFBUCxJQUFBLDRCQUFBUSxRQUFBeEMsS0FBQUEsS0FDQXlDLFFBQUFuQixHQU9BLFFBQUFNLEtBSUEsUUFBQWMsR0FBQXZDLEdBQ0EsTUFBQUEsR0FBQUMsS0FKQSxNQUFBbUMsR0FBQVAsSUFBQSwrQkFDQVMsUUFBQUMsR0FyQkEsR0FDQTlILElBQ0FxRixVQUFBQSxFQUNBMkIsWUFBQUEsRUFFQSxPQUFBaEgsR0FYQTVCLFFBQ0FDLE9BQUEscUJBQ0E0QixRQUFBLFlBQUErRSxHVjZxQklBLEVBQVUvRCxTQUFXLFFBQVMsU1dwckJsQyxXQUNBLFlBT0EsU0FBQTJFLEdBQUFDLEdBQ0FBLEVBQUFDLGdCQUFBQyxLQUdBLFFBQUFBLEtBQ0EsUUFFQUMsTUFBQSxRQUNBaEUsUUFDQWlFLFlBQUEsRUFDQUMsSUFBQSxTQUNBQyxPQUNBQyxTQUNBQyxZQUFBLGdDQUdBcEUsTUFBQSxjQUlBK0QsTUFBQSxlQUNBaEUsUUFDQWtFLElBQUEsVUFDQUMsT0FDQTRCLGlCQUNBMUIsWUFBQSwrQkFDQVYsV0FBQSxrQkFDQVksYUFBQSxPQUdBdEUsTUFBQSxZQW5DQTdELFFBQ0FDLE9BQUEsb0JBQ0ErRSxJQUFBd0MsR1grckJJQSxFQUFhM0UsU0FBVyxrQlluc0I1QixXQUNBLFlBT0EsU0FBQStHLEdBQUFqRCxHQVVBLFFBQUFFLEtBQ0FDLEVBQUFDLFlBQUFKLEVBQUFxQyxNQVRBLEdBQUFsQyxHQUFBTyxJQUNBUCxHQUFBQyxlQUdBRixJQVhBN0csUUFDQUMsT0FBQSxxQkFDQXNILFdBQUEsa0JBQUFxQyxHWjB2QklBLEVBQWdCL0csU0FBVyxvQmEvdkIvQixXQUNBLFlBT0EsU0FBQWdILEtBU0EsUUFBQUMsR0FBQUMsRUFBQUMsRUFBQUMsR0FJQSxRQUFBQyxLQUNBLEdBQUFDLEdBQUFGLEVBQUFHLHNCQUFBLENBQ0FELEdBQUEsR0FDQTFGLEVBQUF1RixHQUFBSyxJQUFBLGtCQUFBRixFQUFBLE1BRUExRixFQUFBdUYsR0FBQU0sU0FBQSxZQUFBQSxTQUFBTCxFQUFBSixpQkFSQTdKLFFBQUFnSyxRQUFBLFFBQUFPLFNBQUEsc0JBQ0E5RixFQUFBdUYsR0FBQVEsS0FBQSxTQUFBTixHQVZBLEdBQUFPLElBQ0FDLFNBQUEsSUFDQUMsS0FBQWIsRUFHQSxPQUFBVyxHQVhBekssUUFDQUMsT0FBQSx1QkFDQXdLLFVBQUEsa0JBQUFaLE1DTEEsV0FDQSxZQU9BLFNBQUFlLEdBQUEzSSxHQVNBLFFBQUE2SCxHQUFBQyxFQUFBQyxFQUFBQyxHQUNBRCxFQUFBTSxTQUFBLG1CQUVBckksRUFBQSxXQUVBLEdBQUE0SSxHQUFBLEdBQUFDLE9BQ0FDLEVBQUEseUJBRUFmLEdBQUFnQixLQUFBLFVBQUE5SixTQUVBK0ksRUFBQWdCLE1BQ0FKLEVBQUF2RSxJQUFBMkQsRUFBQWdCLE1BQ0EsU0FBQWpCLEVBQUFLLElBQUEsc0JBQ0FRLEVBQUF2RSxJQUFBMEQsRUFBQUssSUFBQSxvQkFDQTdJLFFBQUEsT0FBQSxJQUFBQSxRQUFBLElBQUEsSUFDQXdJLEVBQUFLLElBQUEsbUJBQUEsU0FHQVEsRUFBQUssT0FBQSxXQUNBQyxTQUFBQyxRQUFBUCxFQUFBLFlBQ0FRLE9BQUFwQixFQUFBb0IsUUFBQSxLQUlBckIsRUFDQXNCLFFBQUFQLEdBQ0FDLEtBQUEsYUFDQU0sUUFBQVQsSUFHQTVJLEVBQUEsV0FDQSxHQUFBc0osR0FBQXZCLEVBQUFnQixLQUFBLFNBRUFPLEdBQUFDLFNBQUF4QixFQUFBd0IsUUFDQUQsRUFBQWxCLEtBQ0FvQixXQUFBLEVBQ0FDLGFBQUFILEVBQUFJLFNBQUEzQixFQUFBMkIsVUFBQSxLQUdBSixFQUFBbEIsS0FDQXFCLFVBQUEsRUFDQUQsY0FBQUYsRUFBQUMsUUFBQXhCLEVBQUF3QixTQUFBLEtBSUEvRyxFQUFBLFFBQUE2RixTQUFBLGNBQ0EsTUF0REEsR0FBQUcsSUFDQUMsU0FBQSxJQUNBQyxLQUFBYixFQUdBLE9BQUFXLEdBWEF6SyxRQUNBQyxPQUFBLHVCQUNBd0ssVUFBQSxPQUFBRyxHZHkyQklBLEVBQUsvSCxTQUFXLGVlOTJCcEIsV0FDQSxZQU9BLFNBQUErSSxLQVNBLFFBQUE5QixHQUFBQyxFQUFBQyxFQUFBQyxHQUNBRCxFQUFBZ0IsS0FBQSw4QkFBQVksVUFDQUMsV0FBQSxPQUNBQyxXQUFBLE9BQ0FDLFdBQUEsT0FDQUMsWUFBQSxPQUNBQyxTQUNBQyxTQUNBQyxRQUFBLEdBRUF0SSxPQUNBdUksS0FBQSxTQUdBQyxLQUNBQyxTQUFBLG9GQUNBQyxLQUFBLDZWQUdBQyxLQUFBLDhWQTNCQSxHQUFBL0IsSUFDQUMsU0FBQSxJQUNBQyxLQUFBYixFQUdBLE9BQUFXLEdBWEF6SyxRQUNBQyxPQUFBLHVCQUNBd0ssVUFBQSxXQUFBbUIsTUNMQSxXQUNBLFlBT0EsU0FBQWEsS0FXQSxRQUFBM0MsR0FBQUMsRUFBQUMsR0FDQUEsRUFBQU0sU0FBQSxXQUNBTixFQUFBMEMsYUFaQSxHQUFBakMsSUFDQUMsU0FBQSxJQUNBbEosU0FBQSxFQUNBdUksT0FBQSxFQUNBWSxLQUFBYixFQUdBLE9BQUFXLEdBYkF6SyxRQUNBQyxPQUFBLHVCQUNBd0ssVUFBQSxVQUFBZ0MsTUNMQSxXQUNBLFlBT0EsU0FBQUUsR0FBQTFLLEVBQUFvRCxHQVNBLFFBQUF5RSxHQUFBQyxFQUFBQyxFQUFBQyxHQUNBaEksRUFBQSxXQUlBLFFBQUEySyxLQUNBLEdBQUFDLEdBQUE3QyxFQUFBOEMsU0FBQUMsSUFDQUMsRUFBQTNILEVBQUE0SCxXQUVBSixHQUFBRyxFQUNBaEQsRUFBQUssS0FBQTZDLG1CQUFBLFFBQUFMLEVBQUFHLEdBQUFHLEVBQUEsT0FFQW5ELEVBQUFLLEtBQUE2QyxtQkFBQSxTQUFBTCxFQUFBRyxHQUFBRyxFQUFBLE9BVkFuRCxFQUFBTSxTQUFBLGtCQUNBLElBQUE2QyxHQUFBbEQsRUFBQWtELE9BQUEsQ0FhQVAsS0FFQTVNLFFBQUFnSyxRQUFBM0UsR0FBQW1GLEtBQUEsU0FBQW9DLEtBMUJBLEdBQUFuQyxJQUNBQyxTQUFBLElBQ0FDLEtBQUFiLEVBR0EsT0FBQVcsR0FYQXpLLFFBQ0FDLE9BQUEsdUJBQ0F3SyxVQUFBLFVBQUFrQyxHakI0K0JJQSxFQUFROUosU0FBVyxXQUFZLGNrQmovQm5DLFdBQ0EsWUFPQSxTQUFBdUssR0FBQW5MLEdBU0EsUUFBQTZILEdBQUFDLEVBQUFDLEVBQUFDLEdBQ0FoSSxFQUFBLFdBRUEsR0FBQW9MLEdBQUFyRCxDQUVBLElBQUFxRCxFQUFBQyxRQUFBLGNBQUEvQyxTQUFBLGNBQUEsQ0FDQSxHQUlBb0IsR0FKQTRCLEVBQUF2TixRQUFBZ0ssUUFBQSxRQUVBd0QsR0FEQUQsRUFBQS9CLFFBQ0EsR0FDQWlDLEVBQUEsR0FHQXpOLFNBQUFnSyxRQUFBLFlBQUE5SSxRQUNBcU0sRUFBQWhELFNBQUEsZ0JBQ0FpRCxFQUFBeE4sUUFBQWdLLFFBQUEsWUFBQTBELGNBQUEsSUFJQS9CLEVBREE0QixFQUFBL0IsU0FBQSxLQUNBK0IsRUFBQTVCLFVBQUE2QixFQUFBQyxHQUVBLElBRUFKLEVBQUFNLFlBQ0F4RCxNQUFBLElBQ0F5RCxXQUFBLEtBQ0FDLFlBQUFsQyxFQUNBbUMsV0FBQSxHQUNBQyxlQUFBLFNBQ0FDLGlCQUFBLE9BQ0FDLGlCQUFBLFNBQ0FDLGlCQUFBLE1BQ0FDLGtCQUFBLEtBQ0FDLGtCQUFBLEdBQ0FDLGFBQUEsT0FDQUMsU0FBQUEsU0FBQUMsWUFBQSxZQUVBbEIsR0FBQU0sWUFDQXhELE1BQUEsSUFDQXlELFdBQUEsS0FDQUMsWUFBQSxJQUNBQyxXQUFBLEdBQ0FDLGVBQUEsT0FDQVMsWUFBQSxRQUNBRixTQUFBQSxTQUFBQyxZQUFBLFVBbkRBLEdBQUE5RCxJQUNBQyxTQUFBLElBQ0FDLEtBQUFiLEVBR0EsT0FBQVcsR0FYQXpLLFFBQ0FDLE9BQUEsdUJBQ0F3SyxVQUFBLFdBQUEyQyxHbEJzakNJQSxFQUFTdkssU0FBVyxlbUI3akN4QixXQUNBLFlBV0EsU0FBQTRMLEtBRUFwSCxLQUFBekQsUUFDQWlCLGVBQUE2SixRQUdBckgsS0FBQWhFLFVBQUEsU0FBQXdCLEdBQ0F3QyxLQUFBekQsT0FBQWlCLGVBQUFBLEdBR0F3QyxLQUFBc0gsS0FBQSxXQUNBLE9BQUEvSyxPQUFBeUQsS0FBQXpELFNBV0EsUUFBQUEsR0FBQWdMLEdBQ0FBLEVBQUFDLFVBQUEsb0JBQUFDLEdBVUEsUUFBQUEsR0FBQUMsRUFBQUMsRUFBQTlNLEdBQ0EsTUFBQSxVQUFBK00sRUFBQUMsR0FDQSxHQUFBckssR0FBQW1LLEVBQUFwTCxPQUFBaUIsZ0JBQUEsR0FDQXNLLEdBQUFGLFVBQUFBLEVBQUFDLE1BQUFBLEVBQ0FELEdBQUFHLFFBQUF2SyxFQUFBb0ssRUFBQUcsUUFDQUwsRUFBQUUsRUFBQUMsR0FVQWhOLEVBQUFtTixNQUFBSixFQUFBRyxRQUFBRCxJQXpEQW5QLFFBQ0FDLE9BQUEsb0JBQ0FxUCxTQUFBLG1CQUFBYixHQUNBN0ssT0FBQUEsR25Ca21DSUEsRUFBT2YsU0FBVyxZQTJCbEJpTSxFQUF1QmpNLFNBQVcsWUFBYSxtQkFBb0IsYW9CaG9DdkUsV0FDQSxZQU9BLFNBQUFvTSxHQUFBL00sR0FNQSxRQUFBcU4sR0FBQUgsR0FDQSxNQUFBLFVBQUFJLEdBQ0F0TixFQUFBbU4sTUFBQUQsRUFBQUksSUFQQSxHQUFBNU4sSUFDQTJOLFFBQUFBLEVBRUEsT0FBQTNOLEdBVEE1QixRQUNBQyxPQUFBLG9CQUNBNEIsUUFBQSxZQUFBb04sR3BCc3BDSUEsRUFBVXBNLFNBQVcsYXFCM3BDekIsV0FDQSxZQVNBLFNBQUE0TSxLQUVBcEksS0FBQXpELFVBRUF5RCxLQUFBc0gsS0FBQSxXQUNBLE9BQ0EvSyxPQUFBeUQsS0FBQXpELFNBS0EsUUFBQTZELEdBQUFnSSxFQUFBek4sRUFBQXlHLEdBZUEsUUFBQWYsR0FBQWdJLEdBQ0FBLEVBQUFDLFFBQUEsU0FBQS9ILEdBQ0FBLEVBQUFoRSxPQUFBQyxRQUNBK0QsRUFBQWhFLE9BQUFnTSxlQUNBQyxNQUFBakksRUFBQWhFLE9BQUFDLE1BQUFqQixnQkFJQVcsRUFBQXFFLE1BQUFBLEVBQUFBLE1BQUFBLEVBQUFoRSxVQUlBLFFBQUE4TCxLQUNBLE1BQUFqSCxHQUFBTyxNQUdBLFFBQUFBLEdBQUE4RyxHQUNBLEdBQUE1RyxHQUFBLElBTUEsT0FMQXdHLEtBQUFDLFFBQUEsU0FBQS9ILEdBQ0FBLEVBQUF3QixPQUFBMEcsSUFDQTVHLEVBQUF0QixLQUdBc0IsRUFJQSxRQUFBMUQsS0FDQXVLLElBQ0F6TSxFQUFBME0sVUFBQSxvQkFHQSxRQUFBRCxLQUNBL04sRUFBQXdDLElBQUEsc0JBQ0EsU0FBQXlMLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQXRNLEdBQUE0TCxFQUFBN0wsT0FBQUMsT0FBQXFNLEVBQUFyTSxNQUFBLE1BQUFxTSxFQUFBck0sTUFBQSxHQUNBN0IsR0FBQTZCLE1BQUFBLEVBQ0E3QixFQUFBeUcsT0FBQXlILElBbkRBLEdBQUE1TSxHQUFBbU0sRUFBQTdMLE9BQUFOLG1CQUNBQyxFQUFBa00sRUFBQTdMLE9BQUFMLGVBRUEzQixHQUNBOEYsZ0JBQUFBLEVBQ0FnSSxPQUFBQSxFQUNBMUcsSUFBQUEsRUFLQSxPQUZBeEQsS0FFQTVELEVBOUJBNUIsUUFDQUMsT0FBQSxpQkFDQXFQLFNBQUEsb0JBQUFHLEdBQ0E1TixRQUFBLGNBQUE0RixHQUVBQSxFQUFBNUUsU0FBQSxvQkFBQSxhQUFBLGFDUkEsV0FDQSxZQVFBLFNBQUFYLEdBQUFrTyxFQUFBck4sR0FtQkEsUUFBQXNNLEdBQUFELEVBQUFoSSxFQUFBdkQsR0FDQWQsRUFBQXNNLE1BQUFELEVBQUF2TCxHQUNBdU0sRUFBQWYsTUFBQSxTQUFBRCxFQUFBaEksR0FHQSxRQUFBaUosR0FBQWpCLEVBQUFoSSxFQUFBdkQsR0FDQWQsRUFBQXNOLEtBQUFqQixFQUFBdkwsR0FDQXVNLEVBQUFDLEtBQUEsU0FBQWpCLEVBQUFoSSxHQUdBLFFBQUFxQyxHQUFBMkYsRUFBQWhJLEVBQUF2RCxHQUNBZCxFQUFBMEcsUUFBQTJGLEVBQUF2TCxHQUNBdU0sRUFBQUMsS0FBQSxXQUFBakIsRUFBQWhJLEdBR0EsUUFBQWtKLEdBQUFsQixFQUFBaEksRUFBQXZELEdBQ0FkLEVBQUF1TixRQUFBbEIsRUFBQXZMLEdBQ0F1TSxFQUFBRyxLQUFBLFdBQUFuQixFQUFBaEksR0FHQSxRQUFBb0osR0FBQXBCLEVBQUFoSSxFQUFBdkQsR0FDQWQsRUFBQXVOLFFBQUFsQixFQUFBdkwsR0FDQXVNLEVBQUFHLEtBQUEsZUFBQW5CLEVBQUFoSSxHQUdBLFFBQUFxSixHQUFBckIsRUFBQWhJLEVBQUF2RCxHQUNBZCxFQUFBMEcsUUFBQTJGLEVBQUF2TCxHQUNBdU0sRUFBQUMsS0FBQSxZQUFBakIsRUFBQWhJLEdBN0NBLEdBQUF4RixJQUNBOE8sWUFBQSxFQUVBckIsTUFBQUEsRUFDQWdCLEtBQUFBLEVBQ0E1RyxRQUFBQSxFQUNBNkcsUUFBQUEsRUFFQUUsUUFBQUEsRUFDQUMsTUFBQUEsRUFHQTlILElBQUF5SCxFQUFBekgsSUFHQSxPQUFBL0csR0F0QkE1QixRQUNBQyxPQUFBLGlCQUNBNEIsUUFBQSxTQUFBSyxHQUVBQSxFQUFBVyxTQUFBLE9BQUEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbCcsIFtcbiAgICAgICAgICAgIC8vc2hhcmVkIG1vZHVsZXNcbiAgICAgICAgICAgICdub3Rvc3BvcnRhbC5jb3JlJyxcbiAgICAgICAgICAgICdub3Rvc3BvcnRhbC5sYXlvdXQnLFxuICAgICAgICAgICAgJ25vdG9zcG9ydGFsLndpZGdldHMnLFxuXG4gICAgICAgICAgICAvL2FwcCBtb2R1bGVzXG4gICAgICAgICAgICAnbm90b3Nwb3J0YWwuZGFzaGJvYXJkJyxcbiAgICAgICAgICAgICdub3Rvc3BvcnRhbC5pbmZvJyxcbiAgICAgICAgICAgICdub3Rvc3BvcnRhbC5tZWRpYSdcbiAgICAgICAgXSk7XG59KSgpOyIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5jb3JlJywgW1xuICAgICAgICAvL0FuZ3VsYXJcbiAgICAgICAgJ25nQW5pbWF0ZScsICduZ1Nhbml0aXplJywgJ25nUmVzb3VyY2UnLFxuXG4gICAgICAgIC8vM3JkIHBhcnR5XG4gICAgICAgICd1aS5ib290c3RyYXAnLFxuICAgICAgICAnbmN5LWFuZ3VsYXItYnJlYWRjcnVtYicsXG4gICAgICAgICdyZXN0YW5ndWxhcicsXG5cblxuICAgICAgICAvL2Nyb3NzIGFwcCBtb2R1bGVzXG4gICAgICAgICdibG9ja3MuZXhjZXB0aW9uJyxcbiAgICAgICAgJ2Jsb2Nrcy5sb2dnZXInLFxuICAgICAgICAnYmxvY2tzLnJvdXRlcidcbiAgICBdKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuZGFzaGJvYXJkJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuaW5mbycsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmxheW91dCcsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLm1lZGlhJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwud2lkZ2V0cycsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5leGNlcHRpb24nLCBbJ2Jsb2Nrcy5sb2dnZXInXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdibG9ja3Mucm91dGVyJywgW1xuICAgICAgICAgICAgJ3VpLnJvdXRlcidcbiAgICAgICAgXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdibG9ja3MubG9nZ2VyJywgW10pO1xufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLmNvcmVcbiAqIEZBQ1RPUlk6IEJhc2U2NFxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5jb3JlJylcbiAgICAgICAgLmZhY3RvcnkoJ0Jhc2U2NCcsIEJhc2U2NCk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBCYXNlNjQoKSB7XG4gICAgICAgIHZhciBrZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIGVuY29kZTogZW5jb2RlLFxuICAgICAgICAgICAgZGVjb2RlOiBkZWNvZGVcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBjaHIxLCBjaHIyLCBjaHIzID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBlbmMxLCBlbmMyLCBlbmMzLCBlbmM0ID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGNocjEgPSBpbnB1dC5jaGFyQ29kZUF0KGkrKyk7XG4gICAgICAgICAgICAgICAgY2hyMiA9IGlucHV0LmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgICAgICAgICBjaHIzID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuXG4gICAgICAgICAgICAgICAgZW5jMSA9IGNocjEgPj4gMjtcbiAgICAgICAgICAgICAgICBlbmMyID0gKChjaHIxICYgMykgPDwgNCkgfCAoY2hyMiA+PiA0KTtcbiAgICAgICAgICAgICAgICBlbmMzID0gKChjaHIyICYgMTUpIDw8IDIpIHwgKGNocjMgPj4gNik7XG4gICAgICAgICAgICAgICAgZW5jNCA9IGNocjMgJiA2MztcblxuICAgICAgICAgICAgICAgIGlmIChpc05hTihjaHIyKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmMzID0gZW5jNCA9IDY0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOYU4oY2hyMykpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5jNCA9IDY0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCArXG4gICAgICAgICAgICAgICAgICAgIGtleVN0ci5jaGFyQXQoZW5jMSkgK1xuICAgICAgICAgICAgICAgICAgICBrZXlTdHIuY2hhckF0KGVuYzIpICtcbiAgICAgICAgICAgICAgICAgICAga2V5U3RyLmNoYXJBdChlbmMzKSArXG4gICAgICAgICAgICAgICAgICAgIGtleVN0ci5jaGFyQXQoZW5jNCk7XG4gICAgICAgICAgICAgICAgY2hyMSA9IGNocjIgPSBjaHIzID0gXCJcIjtcbiAgICAgICAgICAgICAgICBlbmMxID0gZW5jMiA9IGVuYzMgPSBlbmM0ID0gXCJcIjtcbiAgICAgICAgICAgIH0gd2hpbGUgKGkgPCBpbnB1dC5sZW5ndGgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBjaHIxLCBjaHIyLCBjaHIzID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBlbmMxLCBlbmMyLCBlbmMzLCBlbmM0ID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCBjaGFyYWN0ZXJzIHRoYXQgYXJlIG5vdCBBLVosIGEteiwgMC05LCArLCAvLCBvciA9XG4gICAgICAgICAgICB2YXIgYmFzZTY0dGVzdCA9IC9bXkEtWmEtejAtOVxcK1xcL1xcPV0vZztcbiAgICAgICAgICAgIGlmIChiYXNlNjR0ZXN0LmV4ZWMoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KFwiVGhlcmUgd2VyZSBpbnZhbGlkIGJhc2U2NCBjaGFyYWN0ZXJzIGluIHRoZSBpbnB1dCB0ZXh0LlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJWYWxpZCBiYXNlNjQgY2hhcmFjdGVycyBhcmUgQS1aLCBhLXosIDAtOSwgJysnLCAnLycsYW5kICc9J1xcblwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3QgZXJyb3JzIGluIGRlY29kaW5nLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvW15BLVphLXowLTlcXCtcXC9cXD1dL2csIFwiXCIpO1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgZW5jMSA9IGtleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcbiAgICAgICAgICAgICAgICBlbmMyID0ga2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpO1xuICAgICAgICAgICAgICAgIGVuYzMgPSBrZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG4gICAgICAgICAgICAgICAgZW5jNCA9IGtleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcblxuICAgICAgICAgICAgICAgIGNocjEgPSAoZW5jMSA8PCAyKSB8IChlbmMyID4+IDQpO1xuICAgICAgICAgICAgICAgIGNocjIgPSAoKGVuYzIgJiAxNSkgPDwgNCkgfCAoZW5jMyA+PiAyKTtcbiAgICAgICAgICAgICAgICBjaHIzID0gKChlbmMzICYgMykgPDwgNikgfCBlbmM0O1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaHIxKTtcblxuICAgICAgICAgICAgICAgIGlmIChlbmMzICE9IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCArIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hyMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbmM0ICE9IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCArIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hyMyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2hyMSA9IGNocjIgPSBjaHIzID0gXCJcIjtcbiAgICAgICAgICAgICAgICBlbmMxID0gZW5jMiA9IGVuYzMgPSBlbmM0ID0gXCJcIjtcblxuICAgICAgICAgICAgfSB3aGlsZSAoaSA8IGlucHV0Lmxlbmd0aCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH1cbiAgICB9O1xufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLmNvcmVcbiAqIEZBQ1RPUlk6IGNvbW1vblxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5jb3JlJylcbiAgICAgICAgLmZhY3RvcnkoJ2NvbW1vbicsIGNvbW1vbik7XG5cbiAgICBmdW5jdGlvbiBjb21tb24oJHEsICRyb290U2NvcGUsICR0aW1lb3V0LCBsb2dnZXIpIHtcblxuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIC8vIGNvbW1vbiBhbmd1bGFyIGRlcGVuZGVuY2llc1xuICAgICAgICAgICAgJGJyb2FkY2FzdDogJGJyb2FkY2FzdCxcbiAgICAgICAgICAgICRxOiAkcSxcbiAgICAgICAgICAgICR0aW1lb3V0OiAkdGltZW91dCxcbiAgICAgICAgICAgIC8vIGdlbmVyaWNcbiAgICAgICAgICAgIGlzTnVtYmVyOiBpc051bWJlcixcbiAgICAgICAgICAgIGxvZ2dlcjogbG9nZ2VyLFxuICAgICAgICAgICAgdGV4dENvbnRhaW5zOiB0ZXh0Q29udGFpbnNcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiAkYnJvYWRjYXN0KCkge1xuICAgICAgICAgICAgcmV0dXJuICRyb290U2NvcGUuJGJyb2FkY2FzdC5hcHBseSgkcm9vdFNjb3BlLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG5cblxuICAgICAgICBmdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgICAgICAgICAgIC8vIG5lZ2F0aXZlIG9yIHBvc2l0aXZlXG4gICAgICAgICAgICByZXR1cm4gKC9eWy1dP1xcZCskLykudGVzdCh2YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdGV4dENvbnRhaW5zKHRleHQsIHNlYXJjaFRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0ICYmIC0xICE9PSB0ZXh0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTsiLG51bGwsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGNvcmUgPSBhbmd1bGFyLm1vZHVsZSgnbm90b3Nwb3J0YWwuY29yZScpO1xuXG4gICAgY29yZS5jb25maWcodG9hc3RyQ29uZmlnKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHRvYXN0ckNvbmZpZyh0b2FzdHIpIHtcbiAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IDQwMDA7XG4gICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcbiAgICAgICAgdG9hc3RyLm9wdGlvbnMucHJvZ3Jlc3NCYXIgPSB0cnVlO1xuICAgICAgICB0b2FzdHIub3B0aW9ucy5wb3NpdGlvbkNsYXNzID0gJ3RvYXN0LWJvdHRvbS1yaWdodCc7XG4gICAgfVxuXG5cblxuXG4gICAgdmFyIGNvbmZpZyA9IHtcbiAgICAgICAgYXBwRXJyb3JQcmVmaXg6ICdbRm91dF0gJyxcbiAgICAgICAgYXBwVGl0bGU6ICdWQlMgRGUgS2xpbXRvcmVuJyxcbiAgICAgICAgdmVyc2lvbjogJzEuMC4wJ1xuICAgIH07XG5cbiAgICBjb3JlLnZhbHVlKCdjb25maWcnLCBjb25maWcpO1xuXG4gICAgY29yZS5jb25maWcoY29uZmlndXJlKTtcblxuICAgIGNvcmUucnVuKGFmdGVyVmlld0NvbnRlbnRMb2FkZWQpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29uZmlndXJlKCR1cmxSb3V0ZXJQcm92aWRlciwgJHN0YXRlUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgIHJvdXRlaGVscGVyQ29uZmlnUHJvdmlkZXIsICRicmVhZGNydW1iUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgIFJlc3Rhbmd1bGFyUHJvdmlkZXIpIHtcblxuICAgICAgICBjb25maWd1cmVSb3V0aW5nKCk7XG4gICAgICAgIGNvbmZpZ3VyZUJyZWFkY3J1bWIoKTtcblxuICAgICAgICBjb25maWd1cmVSZXN0YW5ndWxhcigpO1xuXG5cbiAgICAgICAgZnVuY3Rpb24gY29uZmlndXJlUm91dGluZygpIHtcbiAgICAgICAgICAgIHJvdXRlaGVscGVyQ29uZmlnUHJvdmlkZXIuY29uZmlnLiR1cmxSb3V0ZXJQcm92aWRlciA9ICR1cmxSb3V0ZXJQcm92aWRlcjtcbiAgICAgICAgICAgIHJvdXRlaGVscGVyQ29uZmlnUHJvdmlkZXIuY29uZmlnLiRzdGF0ZVByb3ZpZGVyID0gJHN0YXRlUHJvdmlkZXI7XG5cbiAgICAgICAgICAgIHJvdXRlaGVscGVyQ29uZmlnUHJvdmlkZXIuY29uZmlnLnRpdGxlID0gY29uZmlnLmFwcFRpdGxlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29uZmlndXJlQnJlYWRjcnVtYigpIHtcbiAgICAgICAgICAgICRicmVhZGNydW1iUHJvdmlkZXIuc2V0T3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgcHJlZml4U3RhdGVOYW1lOiAnaW5kZXgnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnYm9vdHN0cmFwMycsXG4gICAgICAgICAgICAgICAgaW5jbHVkZUFic3RyYWN0OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZVJlc3Rhbmd1bGFyKCkge1xuICAgICAgICAgICAgdmFyIGJhc2VVcmwgPSAnL2FwaSc7XG5cbiAgICAgICAgICAgIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0QmFzZVVybChiYXNlVXJsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyVmlld0NvbnRlbnRMb2FkZWQoJHJvb3RTY29wZSkge1xuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHZpZXdDb250ZW50TG9hZGVkJyxmdW5jdGlvbigpe1xuICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSwgMjAwKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbn0pKCk7IiwiLyogZ2xvYmFsIHRvYXN0cjpmYWxzZSwgbW9tZW50OmZhbHNlICovXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5jb3JlJylcbiAgICAgICAgLmNvbnN0YW50KCd0b2FzdHInLCB0b2FzdHIpXG4gICAgICAgIC5jb25zdGFudCgnbW9tZW50JywgbW9tZW50KVxuICAgICAgICAuY29uc3RhbnQoJ2dhcGknLCBnYXBpKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnbm90b3Nwb3J0YWwuY29yZScpXG4gICAgICAgIC5ydW4oZmFjZWJvb2tJbml0KTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZhY2Vib29rSW5pdCgkd2luZG93LCBjb21tb24pIHtcbiAgICAgICAgLy93aGVuIGZhY2Vib29rIGlzIGluaXRpYWxpemVkXG4gICAgICAgIC8vd2UgY2FuIHJlbmRlciBHb29nbGUrIHRvb1xuICAgICAgICAkd2luZG93LmZiQXN5bmNJbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5pdEZhY2Vib29rKCk7XG4gICAgICAgICAgICBjb21tb24uJGJyb2FkY2FzdCgnZmIuaW5pdCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRGYWNlYm9vaygpIHtcbiAgICAgICAgICAgIEZCLmluaXQoe1xuICAgICAgICAgICAgICAgIGFwcElkOiAnNDY2MjgwMzUwMjAxOTYwJyxcbiAgICAgICAgICAgICAgICBjaGFubmVsVXJsOiAnanMvbW9kdWxlcy9jb3JlL2ZiLWNoYW5uZWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29va2llOiB0cnVlLFxuICAgICAgICAgICAgICAgIHhmYm1sOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZlcnNpb246ICd2Mi4zJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIC8vIGxvYWQgdGhlIEZhY2Vib29rIGphdmFzY3JpcHQgU0RLXG5cbiAgICAgICAgICAgIHZhciBqcyxcbiAgICAgICAgICAgICAgICBpZCA9ICdmYWNlYm9vay1qc3NkaycsXG4gICAgICAgICAgICAgICAgcmVmID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG5cbiAgICAgICAgICAgIGlmIChkLmdldEVsZW1lbnRCeUlkKGlkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAganMgPSBkLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAganMuaWQgPSBpZDtcbiAgICAgICAgICAgIGpzLmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgIGpzLnNyYyA9IFwiLy9jb25uZWN0LmZhY2Vib29rLm5ldC9lbl9VUy9zZGsuanNcIjtcblxuICAgICAgICAgICAgcmVmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGpzLCByZWYpO1xuXG4gICAgICAgIH0oZG9jdW1lbnQpKTtcbiAgICB9XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwuZGFzaGJvYXJkXG4gKiBDT05UUk9MTEVSOiBEYXNoYm9hcmRDb250cm9sbGVyXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5kYXNoYm9hcmQnKVxuICAgICAgICAuY29udHJvbGxlcignRGFzaGJvYXJkQ29udHJvbGxlcicsIERhc2hib2FyZENvbnRyb2xsZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gRGFzaGJvYXJkQ29udHJvbGxlcihHUENvbGxlY3Rpb25zLCBNYWlsQ2hpbXApIHtcbiAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLmZhY2Vib29rdXJsID0gJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS92YnNkZWtsaW10b3Jlbic7XG4gICAgICAgIHZtLmNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHZtLmNhbXBhaWducyA9IFtdO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG4gICAgICAgIC8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICB2bS5jb2xsZWN0aW9ucyA9IEdQQ29sbGVjdGlvbnMudGFrZSg0KTtcblxuICAgICAgICAgICAgTWFpbENoaW1wLmNhbXBhaWducygzKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdm0uY2FtcGFpZ25zID0gcmVzcG9uc2UuZGF0YS5jYW1wYWlnbnM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBST1VURVM6IG5vdG9zcG9ydGFsLmRhc2hib2FyZFxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuZGFzaGJvYXJkJylcbiAgICAgICAgLnJ1bihjb25maWdSb3V0ZXMpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29uZmlnUm91dGVzKHJvdXRlaGVscGVyKSB7XG4gICAgICAgIHJvdXRlaGVscGVyLmNvbmZpZ3VyZVN0YXRlcyhnZXRTdGF0ZXMoKSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldFN0YXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2luZGV4JyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9pbmRleCcsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFpbkAnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2xheW91dC9tYWluLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnc3RhcnQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2luZGV4LmRhc2hib2FyZCcsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9kYXNoYm9hcmQnLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAaW5kZXgnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2Rhc2hib2FyZC9kYXNoYm9hcmQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzbGlkZXJAaW5kZXgnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2Rhc2hib2FyZC9zbGlkZXIuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEYXNoYm9hcmQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH07XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwuaW5mb1xuICogQ09OVFJPTExFUjogQ2FtcGFpZ25zQ29udHJvbGxlclxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuaW5mbycpXG4gICAgICAgIC5jb250cm9sbGVyKCdDYW1wYWlnbnNDb250cm9sbGVyJywgQ2FtcGFpZ25zQ29udHJvbGxlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBDYW1wYWlnbnNDb250cm9sbGVyKE1haWxDaGltcCkge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0uY2FtcGFpZ25zID0gW107XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcbiAgICAgICAgLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICBNYWlsQ2hpbXAuY2FtcGFpZ25zKCkudGhlbihjYW1wYWlnbnNTdWNjZXNzKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gY2FtcGFpZ25zU3VjY2VzcyhyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZtLmNhbXBhaWducyA9IHJlc3BvbnNlLmRhdGEuY2FtcGFpZ25zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBST1VURVM6IG5vdG9zcG9ydGFsLmluZm9cbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmluZm8nKVxuICAgICAgICAucnVuKGNvbmZpZ1JvdXRlcyk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb25maWdSb3V0ZXMocm91dGVoZWxwZXIpIHtcbiAgICAgICAgcm91dGVoZWxwZXIuY29uZmlndXJlU3RhdGVzKGdldFN0YXRlcygpKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0U3RhdGVzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvaW5mbycsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFpbkAnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2xheW91dC9tYWluLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnSW5mbydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5mby5jb250YWN0JyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2NvbnRhY3QnLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAaW5mbyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvaW5mby9jb250YWN0Lmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ29udGFjdCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5mby5hYm91dCcsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hYm91dCcsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudEBpbmZvJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9pbmZvL2Fib3V0Lmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT3ZlciBvbnplIHNjaG9vbCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5mby5jYXJlJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2NhcmUnLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAaW5mbyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvaW5mby9jYXJlLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnWm9yZyBvcCBvbnplIHNjaG9vbCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5mby5jYW1wYWlnbnMnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvY2FtcGFpZ25zJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50QGluZm8nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2luZm8vY2FtcGFpZ25zLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDYW1wYWlnbnNDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdOaWV1d3NicmlldmVuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLmxheW91dFxuICogQ09OVFJPTExFUjogU2hlbGxDb250cm9sbGVyXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5sYXlvdXQnKVxuICAgICAgICAuY29udHJvbGxlcignU2hlbGxDb250cm9sbGVyJywgU2hlbGxDb250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFNoZWxsQ29udHJvbGxlcihNYWlsQ2hpbXAsICRzdGF0ZSkge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICB2bS5jYW1wYWlnbl9tZW1iZXJzID0gMDtcbiAgICAgICAvLyB2bS5oaWRlQnJlYWRjcnVtYiA9ICRzdGF0ZS5jO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG4gICAgICAgIC8vLy8vLy8vLy8vLy9cblxuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJHN0YXRlKTtcbiAgICAgICAgICAgIE1haWxDaGltcC5tZW1iZXJDb3VudCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2bS5jYW1wYWlnbl9tZW1iZXJzID0gcmVzcG9uc2UuZGF0YS5zdGF0cy5tZW1iZXJfY291bnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG5cblxufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLm1lZGlhXG4gKiBGQUNUT1JZOiBHUENvbGxlY3Rpb25zXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLm1lZGlhJylcbiAgICAgICAgLmZhY3RvcnkoJ0dQQ29sbGVjdGlvbnMnLCBHUENvbGxlY3Rpb25zKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEdQQ29sbGVjdGlvbnMoKSB7XG5cbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBnZXQ6IGdldCxcbiAgICAgICAgICAgIHRha2U6IHRha2VcbiAgICAgICAgfVxuXG4gICAgICAgIC8qdmFyIGNvbGxlY3Rpb25zID0gW1xuICAgICAgICAgJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tLytWQlNERUtsaW10b3JlbkphYmJla2UvcG9zdHMvMk5WWmlQd1F3dWsnLFxuICAgICAgICAgJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tLytWQlNERUtsaW10b3JlbkphYmJla2UvcG9zdHMvUllDTGlqUlY2b1knLFxuICAgICAgICAgJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tLytWQlNERUtsaW10b3JlbkphYmJla2UvcG9zdHMvOUsxblVEVGZRUkwnXG4gICAgICAgICBdOyovXG4gICAgICAgIHZhciBjb2xsZWN0aW9ucyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnMjAxNS0yMDE2JyxcbiAgICAgICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9wbHVzLmdvb2dsZS5jb20vYi8xMDM0MDYxMjM2NzE5NDI1Mjk2NjAvY29sbGVjdGlvbi9zWUxhMydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJzIwMTQtMjAxNScsXG4gICAgICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tL2IvMTAzNDA2MTIzNjcxOTQyNTI5NjYwL2NvbGxlY3Rpb24vVTVhYTMnLFxuICAgICAgICAgICAgICAgIHByZXZpZXc6ICdodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vLVd1UVJZQ2VuUDh3L1ZlbHN2ckdMLWZJL0FBQUFBQUFBQXFJL3JqNklUMGdQSldNL3c2NDAtaDQ4MC1wL0RTQ04zMDI4LkpQRydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJzIwMTMtMjAxNCcsXG4gICAgICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tL2IvMTAzNDA2MTIzNjcxOTQyNTI5NjYwL2NvbGxlY3Rpb24vRW9OUDInLFxuICAgICAgICAgICAgICAgIHByZXZpZXc6ICdodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vLVh1TmM4emNLNmNnL1ZlbHlnV2hmS1VJL0FBQUFBQUFBQXZRLzhFWnpXQkZCZ2RBL3c3NzctaDU4My1uby9JTUdfMjc4OS5KUEcnXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHRha2UobnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IG51bWJlciAmJiBpIDwgY29sbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY29sbGVjdGlvbnNbaV0pO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwubWVkaWFcbiAqIEZBQ1RPUlk6IE1haWxDaGltcFxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5tZWRpYScpXG4gICAgICAgIC5mYWN0b3J5KCdNYWlsQ2hpbXAnLCBNYWlsQ2hpbXApO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gTWFpbENoaW1wKCRodHRwLCAkcSkge1xuICAgICAgICB2YXIgY2FtcGFpZ25zX2NhY2hlID0gbnVsbDtcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBjYW1wYWlnbnM6IGNhbXBhaWducyxcbiAgICAgICAgICAgIG1lbWJlckNvdW50OiBtZW1iZXJDb3VudFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBjYW1wYWlnbnModGFrZSkge1xuXG5cbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWFpbGNoaW1wL2NhbXBhaWducycsIHtwYXJhbXM6IHt0YWtlOiB0YWtlfX0pXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoY2FtcGFpZ25zU3VjY2Vzcyk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbXBhaWduc1N1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1lbWJlckNvdW50KCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9tYWlsY2hpbXAvbWVtYmVyX2NvdW50JylcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhtZW1iZXJDb3VudFN1Y2Nlc3MpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBtZW1iZXJDb3VudFN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBST1VURVM6IG5vdG9zcG9ydGFsLmluZm9cbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmluZm8nKVxuICAgICAgICAucnVuKGNvbmZpZ1JvdXRlcyk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb25maWdSb3V0ZXMocm91dGVoZWxwZXIpIHtcbiAgICAgICAgcm91dGVoZWxwZXIuY29uZmlndXJlU3RhdGVzKGdldFN0YXRlcygpKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0U3RhdGVzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnbWVkaWEnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL21lZGlhJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYWluQCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvbGF5b3V0L21haW4uaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdpbiBiZWVsZCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnbWVkaWEucGhvdG9zJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3Bob3RvcycsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudEBtZWRpYSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvbWVkaWEvcGhvdG9zLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQaG90b0NvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2ZvdG9cXCdzJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLm1lZGlhXG4gKiBDT05UUk9MTEVSOiBQaG90b0NvbnRyb2xsZXJcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLm1lZGlhJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1Bob3RvQ29udHJvbGxlcicsIFBob3RvQ29udHJvbGxlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBQaG90b0NvbnRyb2xsZXIoR1BDb2xsZWN0aW9ucykge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0uY29sbGVjdGlvbnMgPSBbXTtcblxuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgdm0uY29sbGVjdGlvbnMgPSBHUENvbGxlY3Rpb25zLmdldCgpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLndpZGdldHNcbiAqIERJUkVDVElWRTogYXBwZWFyQW5pbWF0aW9uXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC53aWRnZXRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnYXBwZWFyQW5pbWF0aW9uJywgYXBwZWFyQW5pbWF0aW9uKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGFwcGVhckFuaW1hdGlvbigpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBsaW5rOiBsaW5rRnVuY1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGlmICghYW5ndWxhci5lbGVtZW50KCdib2R5JykuaGFzQ2xhc3MoJ25vLWNzc3RyYW5zaXRpb25zJykpIHtcbiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2FwcGVhcicsIGFwcGVhcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBhcHBlYXIoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gYXR0cnMuYXBwZWFyQW5pbWF0aW9uRGVsYXkgfHwgMTtcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZWxlbWVudCkuY3NzKCdhbmltYXRpb24tZGVsYXknLCBkZWxheSArICdtcycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmFkZENsYXNzKCdhbmltYXRlZCcpLmFkZENsYXNzKGF0dHJzLmFwcGVhckFuaW1hdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuXG4iLCIvKipcbiAqIG5vdG9zcG9ydGFsLndpZGdldHNcbiAqIERJUkVDVElWRTogYmx1clxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwud2lkZ2V0cycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2JsdXInLCBibHVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGJsdXIoJHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBsaW5rOiBsaW5rRnVuY1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2Z3Yi1iZyBmd2ItYmx1cicpO1xuXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCksXG4gICAgICAgICAgICAgICAgICAgIHByZXBlbmRCb3ggPSAnPGRpdiBjbGFzcz1cImJsdXItYm94XCIvPic7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQuZmluZCgnY2FudmFzJykubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gYXR0cnMuaW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnKSAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gZWxlbWVudC5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCd1cmwoJywgJycpLnJlcGxhY2UoJyknLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcygnYmFja2dyb3VuZC1pbWFnZScsICdub25lJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUGl4YXN0aWMucHJvY2VzcyhpbWcsICdibHVyZmFzdCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGF0dHJzLmFtb3VudCB8fCAyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5wcmVwZW5kKHByZXBlbmRCb3gpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmJsdXItYm94JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5wcmVwZW5kKGltZyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gZWxlbWVudC5maW5kKCdjYW52YXMnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FudmFzLndpZHRoKCkgPT0gZWxlbWVudC53aWR0aCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogLSgoY2FudmFzLmhlaWdodCgpIC0gZWxlbWVudC5oZWlnaHQoKSkgLyAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogLSgoY2FudmFzLndpZHRoKCkgLSBlbGVtZW50LndpZHRoKCkpIC8gMilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdibHVyLWxvYWQnKTtcbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTtcblxuIiwiLyoqXG4gKiBub3Rvc3BvcnRhbC53aWRnZXRzXG4gKiBESVJFQ1RJVkU6IGZhbmN5Ym94XG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC53aWRnZXRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnZmFuY3lib3gnLCBmYW5jeWJveCk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBmYW5jeWJveCgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBsaW5rOiBsaW5rRnVuY1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuZmluZCgnLmdhbGxlcnktaW1hZ2VzLCAubGlnaHRib3gnKS5mYW5jeWJveCh7XG4gICAgICAgICAgICAgICAgbmV4dEVmZmVjdDogJ2ZhZGUnLFxuICAgICAgICAgICAgICAgIHByZXZFZmZlY3Q6ICdmYWRlJyxcbiAgICAgICAgICAgICAgICBvcGVuRWZmZWN0OiAnZmFkZScsXG4gICAgICAgICAgICAgICAgY2xvc2VFZmZlY3Q6ICdmYWRlJyxcbiAgICAgICAgICAgICAgICBoZWxwZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2tlZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdvdmVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cGw6IHtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VCdG46ICc8YSB0aXRsZT1cIlNsdWl0ZW5cIiBjbGFzcz1cImZhbmN5Ym94LWl0ZW0gZmFuY3lib3gtY2xvc2VcIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+w5c8L2E+JyxcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogJzxhIHRpdGxlPVwiVm9sZ2VuZGVcIiBjbGFzcz1cImZhbmN5Ym94LW5hdiBmYW5jeWJveC1uZXh0XCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiPlxcblxcXG5cdFx0XHRcdFx0XHQ8c3Bhbj48c3ZnIHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIjlweFwiIGhlaWdodD1cIjE2cHhcIiB2aWV3Qm94PVwiMCAwIDkgMTZcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgOSAxNlwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+PHBvbHlnb24gZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBmaWxsPVwiI2ZjZmNmY1wiIHBvaW50cz1cIjEsMC4wMDEgMCwxLjAwMSA3LDggMCwxNC45OTkgMSwxNS45OTkgOSw4IFwiLz48L3N2Zz48L3NwYW4+XFxuXFxcblx0XHRcdFx0XHQ8L2E+JyxcbiAgICAgICAgICAgICAgICAgICAgcHJldjogJzxhIHRpdGxlPVwiVm9yaWdlXCIgY2xhc3M9XCJmYW5jeWJveC1uYXYgZmFuY3lib3gtcHJldlwiIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj5cXG5cXFxuXHRcdFx0XHRcdFx0PHNwYW4+PHN2ZyB4PVwiMFwiIHk9XCIwXCIgd2lkdGg9XCI5cHhcIiBoZWlnaHQ9XCIxNnB4XCIgdmlld0JveD1cIjAgMCA5IDE2XCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDkgMTZcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPjxwb2x5Z29uIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZmlsbD1cIiNmY2ZjZmNcIiBwb2ludHM9XCI4LDE1Ljk5OSA5LDE0Ljk5OSAyLDggOSwxLjAwMSA4LDAuMDAxIDAsOCBcIi8+PC9zdmc+PC9zcGFuPlxcblxcXG5cdFx0XHRcdFx0PC9hPidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTtcblxuIiwiLyoqXG4gKiBub3Rvc3BvcnRhbC53aWRnZXRzXG4gKiBESVJFQ1RJVkU6IGxpdmljb25cbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLndpZGdldHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdsaXZpY29uJywgbGl2aWNvbik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsaXZpY29uKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICBzY29wZTogZmFsc2UsXG4gICAgICAgICAgICBsaW5rOiBsaW5rRnVuY1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnbGl2aWNvbicpO1xuICAgICAgICAgICAgZWxlbWVudC5hZGRMaXZpY29uKCk7XG4gICAgICAgIH1cblxuICAgIH1cbn0pKCk7XG5cbiIsIi8qKlxuICogbm90b3Nwb3J0YWwud2lkZ2V0c1xuICogRElSRUNUSVZFOiBwYXJhbGF4XG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC53aWRnZXRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgncGFyYWxheCcsIHBhcmFsYXgpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcGFyYWxheCgkdGltZW91dCwgJHdpbmRvdykge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2Z3Yi1iZyBmd2ItYmx1cicpO1xuICAgICAgICAgICAgICAgIHZhciBzcGVlZCA9IGF0dHJzLnNwZWVkIHx8IDM7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBiZ1Bvc2l0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHRoaXNZID0gZWxlbWVudC5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93WSA9ICR3aW5kb3cucGFnZVlPZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCR0aGlzWSA+ICR3aW5kb3dZKVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3Moe2JhY2tncm91bmRQb3NpdGlvbjogJzUwJSAnICsgKCgkdGhpc1kgLSAkd2luZG93WSkgLyBzcGVlZCkgKyAncHgnfSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKHtiYWNrZ3JvdW5kUG9zaXRpb246ICc1MCUgJyArICgtKCR0aGlzWSAtICR3aW5kb3dZKSAvIHNwZWVkKSArICdweCd9KTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIGJnUG9zaXRpb24oKTtcblxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKCdzY3JvbGwnLCBiZ1Bvc2l0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9XG59KSgpO1xuXG4iLCIvKipcbiAqIG5vdG9zcG9ydGFsLndpZGdldHNcbiAqIERJUkVDVElWRTogcnNTbGlkclxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwud2lkZ2V0cycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3JzU2xpZGVyJywgcnNTbGlkZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcnNTbGlkZXIoJHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBsaW5rOiBsaW5rRnVuY1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvL1Jldm9sdXRpb24gU2xpZGVyIFN0YXJ0XG4gICAgICAgICAgICAgICAgdmFyIHJldm9sdXRpb25TbGlkZXIgPSBlbGVtZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKHJldm9sdXRpb25TbGlkZXIuY2xvc2VzdCgnLnJzLXNsaWRlcicpLmhhc0NsYXNzKCdmdWxsLXdpZHRoJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gYm9keS53aWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wSGVpZ2h0ID0gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlckhlaWdodCA9IDEwNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5lbGVtZW50KCcjdG9wLWJveCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkuaGFzQ2xhc3MoJ2hpZGRlbi10b3AnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BIZWlnaHQgPSBhbmd1bGFyLmVsZW1lbnQoJyN0b3AtYm94Jykub3V0ZXJIZWlnaHQoKSAtIDMyO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKChib2R5LndpZHRoKCkpID49IDEyMDApXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBib2R5LmhlaWdodCgpIC0gKHRvcEhlaWdodCArIGhlYWRlckhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IDgwMDtcblxuICAgICAgICAgICAgICAgICAgICByZXZvbHV0aW9uU2xpZGVyLnJldm9sdXRpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXk6IDYwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydHdpZHRoOiAxMjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVUaHVtYnM6IDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvblR5cGU6ICdidWxsZXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbkFycm93czogJ3NvbG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uVkFsaWduOiAndG9wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IT2Zmc2V0OiAtNTQ1LFxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvblZPZmZzZXQ6IDMwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVRpbWVyQmFyOiAnb24nXG4gICAgICAgICAgICAgICAgICAgIH0pLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdsb2FkJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2b2x1dGlvblNsaWRlci5yZXZvbHV0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5OiA2MDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnR3aWR0aDogMTIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0aGVpZ2h0OiA1MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlVGh1bWJzOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25UeXBlOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkhvdmVyU3RvcDogJ29mZidcbiAgICAgICAgICAgICAgICAgICAgfSkucGFyZW50KCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2xvYWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vUmV2b2x1dGlvbiBTbGlkZXIgRW5kXG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuXG4iLCIvLyBJbmNsdWRlIGluIGluZGV4Lmh0bWwgc28gdGhhdCBhcHAgbGV2ZWwgZXhjZXB0aW9ucyBhcmUgaGFuZGxlZC5cbi8vIEV4Y2x1ZGUgZnJvbSB0ZXN0UnVubmVyLmh0bWwgd2hpY2ggc2hvdWxkIHJ1biBleGFjdGx5IHdoYXQgaXQgd2FudHMgdG8gcnVuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdibG9ja3MuZXhjZXB0aW9uJylcbiAgICAgICAgLnByb3ZpZGVyKCdleGNlcHRpb25IYW5kbGVyJywgZXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyKVxuICAgICAgICAuY29uZmlnKGNvbmZpZyk7XG5cbiAgICAvKipcbiAgICAgKiBNdXN0IGNvbmZpZ3VyZSB0aGUgZXhjZXB0aW9uIGhhbmRsaW5nXG4gICAgICogQHJldHVybiB7W3R5cGVdfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcigpIHtcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgYXBwRXJyb3JQcmVmaXg6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY29uZmlndXJlID0gZnVuY3Rpb24gKGFwcEVycm9yUHJlZml4KSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hcHBFcnJvclByZWZpeCA9IGFwcEVycm9yUHJlZml4O1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtjb25maWc6IHRoaXMuY29uZmlnfTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgYnkgc2V0dGluZyBhbiBvcHRpb25hbCBzdHJpbmcgdmFsdWUgZm9yIGFwcEVycm9yUHJlZml4LlxuICAgICAqIEFjY2Vzc2libGUgdmlhIGNvbmZpZy5hcHBFcnJvclByZWZpeCAodmlhIGNvbmZpZyB2YWx1ZSkuXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSAkcHJvdmlkZVxuICAgICAqIEByZXR1cm4ge1t0eXBlXX1cbiAgICAgKiBAbmdJbmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25maWcoJHByb3ZpZGUpIHtcbiAgICAgICAgJHByb3ZpZGUuZGVjb3JhdG9yKCckZXhjZXB0aW9uSGFuZGxlcicsIGV4dGVuZEV4Y2VwdGlvbkhhbmRsZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dGVuZCB0aGUgJGV4Y2VwdGlvbkhhbmRsZXIgc2VydmljZSB0byBhbHNvIGRpc3BsYXkgYSB0b2FzdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICRkZWxlZ2F0ZVxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZXhjZXB0aW9uSGFuZGxlclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbG9nZ2VyXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IHRoZSBkZWNvcmF0ZWQgJGV4Y2VwdGlvbkhhbmRsZXIgc2VydmljZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV4dGVuZEV4Y2VwdGlvbkhhbmRsZXIoJGRlbGVnYXRlLCBleGNlcHRpb25IYW5kbGVyLCBsb2dnZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV4Y2VwdGlvbiwgY2F1c2UpIHtcbiAgICAgICAgICAgIHZhciBhcHBFcnJvclByZWZpeCA9IGV4Y2VwdGlvbkhhbmRsZXIuY29uZmlnLmFwcEVycm9yUHJlZml4IHx8ICcnO1xuICAgICAgICAgICAgdmFyIGVycm9yRGF0YSA9IHtleGNlcHRpb246IGV4Y2VwdGlvbiwgY2F1c2U6IGNhdXNlfTtcbiAgICAgICAgICAgIGV4Y2VwdGlvbi5tZXNzYWdlID0gYXBwRXJyb3JQcmVmaXggKyBleGNlcHRpb24ubWVzc2FnZTtcbiAgICAgICAgICAgICRkZWxlZ2F0ZShleGNlcHRpb24sIGNhdXNlKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ291bGQgYWRkIHRoZSBlcnJvciB0byBhIHNlcnZpY2UncyBjb2xsZWN0aW9uLFxuICAgICAgICAgICAgICogYWRkIGVycm9ycyB0byAkcm9vdFNjb3BlLCBsb2cgZXJyb3JzIHRvIHJlbW90ZSB3ZWIgc2VydmVyLFxuICAgICAgICAgICAgICogb3IgbG9nIGxvY2FsbHkuIE9yIHRocm93IGhhcmQuIEl0IGlzIGVudGlyZWx5IHVwIHRvIHlvdS5cbiAgICAgICAgICAgICAqIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgICAgICogICAgIHRocm93IHsgbWVzc2FnZTogJ2Vycm9yIG1lc3NhZ2Ugd2UgYWRkZWQnIH07XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihleGNlcHRpb24ubWVzc2FnZSwgZXJyb3JEYXRhKTtcbiAgICAgICAgfTtcbiAgICB9XG59KSgpOyIsIi8qKlxuICogYmxvY2tzLmV4Y2VwdGlvblxuICogRkFDVE9SWTogZXhjZXB0aW9uXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5leGNlcHRpb24nKVxuICAgICAgICAuZmFjdG9yeSgnZXhjZXB0aW9uJywgZXhjZXB0aW9uKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGV4Y2VwdGlvbihsb2dnZXIpIHtcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBjYXRjaGVyOiBjYXRjaGVyXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNhdGNoZXIobWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihtZXNzYWdlLCByZWFzb24pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBub3Rvc3BsdXMucm91dGVyXG4gKiBGQUNUT1JZOiByb3V0ZWhlbHBlclxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdibG9ja3Mucm91dGVyJylcbiAgICAgICAgLnByb3ZpZGVyKCdyb3V0ZWhlbHBlckNvbmZpZycsIHJvdXRlaGVscGVyQ29uZmlnKVxuICAgICAgICAuZmFjdG9yeSgncm91dGVoZWxwZXInLCByb3V0ZWhlbHBlcik7XG5cbiAgICByb3V0ZWhlbHBlci4kaW5qZWN0ID0gWydyb3V0ZWhlbHBlckNvbmZpZycsICckcm9vdFNjb3BlJywgJyRzdGF0ZSddO1xuXG4gICAgZnVuY3Rpb24gcm91dGVoZWxwZXJDb25maWcoKSB7XG4gICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHt9O1xuXG4gICAgICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3V0ZWhlbHBlcihyb3V0ZWhlbHBlckNvbmZpZywgJHJvb3RTY29wZSwgJHN0YXRlKSB7XG4gICAgICAgIHZhciAkdXJsUm91dGVyUHJvdmlkZXIgPSByb3V0ZWhlbHBlckNvbmZpZy5jb25maWcuJHVybFJvdXRlclByb3ZpZGVyO1xuICAgICAgICB2YXIgJHN0YXRlUHJvdmlkZXIgPSByb3V0ZWhlbHBlckNvbmZpZy5jb25maWcuJHN0YXRlUHJvdmlkZXI7XG5cbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBjb25maWd1cmVTdGF0ZXM6IGNvbmZpZ3VyZVN0YXRlcyxcbiAgICAgICAgICAgIHN0YXRlczogc3RhdGVzLFxuICAgICAgICAgICAgZ2V0OiBnZXRcbiAgICAgICAgfTtcblxuICAgICAgICBpbml0KCk7XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZVN0YXRlcyhzdGF0ZXMpIHtcbiAgICAgICAgICAgIHN0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5jb25maWcudGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY29uZmlnLm5jeUJyZWFkY3J1bWIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogc3RhdGUuY29uZmlnLnRpdGxlLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHN0YXRlLnN0YXRlLCBzdGF0ZS5jb25maWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzdGF0ZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gJHN0YXRlLmdldCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0KHBhdHRlcm4pIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgc3RhdGVzKCkuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUubmFtZSA9PT0gcGF0dGVybikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBzdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICB1cGRhdGVEb2NUaXRsZSgpO1xuICAgICAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2luZGV4L2Rhc2hib2FyZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlRG9jVGl0bGUoKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGV2ZW50LCBjdXJyZW50LCBwcmV2aW91cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSByb3V0ZWhlbHBlckNvbmZpZy5jb25maWcudGl0bGUgKyAoY3VycmVudC50aXRsZSA/ICcgfCAnICsgY3VycmVudC50aXRsZSA6ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aXRsZSA9IHRpdGxlOyAvLyBkYXRhIGJpbmQgdG8gPHRpdGxlPlxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRzdGF0ZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTsiLCIvKipcbiAqIGJsb2Nrcy5sb2dnZXJcbiAqIEZBQ1RPUlk6IGxvZ2dlclxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdibG9ja3MubG9nZ2VyJylcbiAgICAgICAgLmZhY3RvcnkoJ2xvZ2dlcicsIGxvZ2dlcik7XG5cbiAgICBsb2dnZXIuJGluamVjdCA9IFsnJGxvZycsICd0b2FzdHInXTtcblxuICAgIGZ1bmN0aW9uIGxvZ2dlcigkbG9nLCB0b2FzdHIpIHtcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBzaG93VG9hc3RzOiB0cnVlLFxuXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICBpbmZvOiBpbmZvLFxuICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICAgIHdhcm5pbmc6IHdhcm5pbmcsXG5cbiAgICAgICAgICAgIHJlbW92ZWQ6IHJlbW92ZWQsXG4gICAgICAgICAgICBzYXZlZDogc2F2ZWQsXG5cbiAgICAgICAgICAgIC8vIHN0cmFpZ2h0IHRvIGNvbnNvbGU7IGJ5cGFzcyB0b2FzdHJcbiAgICAgICAgICAgIGxvZzogJGxvZy5sb2dcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgZGF0YSwgdGl0bGUpIHtcbiAgICAgICAgICAgIHRvYXN0ci5lcnJvcihtZXNzYWdlLCB0aXRsZSk7XG4gICAgICAgICAgICAkbG9nLmVycm9yKCdGb3V0OiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbmZvKG1lc3NhZ2UsIGRhdGEsIHRpdGxlKSB7XG4gICAgICAgICAgICB0b2FzdHIuaW5mbyhtZXNzYWdlLCB0aXRsZSk7XG4gICAgICAgICAgICAkbG9nLmluZm8oJ0luZm86ICcgKyBtZXNzYWdlLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MobWVzc2FnZSwgZGF0YSwgdGl0bGUpIHtcbiAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UsIHRpdGxlKTtcbiAgICAgICAgICAgICRsb2cuaW5mbygnU3VjY2VzOiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UsIGRhdGEsIHRpdGxlKSB7XG4gICAgICAgICAgICB0b2FzdHIud2FybmluZyhtZXNzYWdlLCB0aXRsZSk7XG4gICAgICAgICAgICAkbG9nLndhcm4oJ0xldCBvcDogJyArIG1lc3NhZ2UsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlZChtZXNzYWdlLCBkYXRhLCB0aXRsZSkge1xuICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcobWVzc2FnZSwgdGl0bGUpO1xuICAgICAgICAgICAgJGxvZy53YXJuKCdWZXJ3aWpkZXJkOiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzYXZlZChtZXNzYWdlLCBkYXRhLCB0aXRsZSkge1xuICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MobWVzc2FnZSwgdGl0bGUpO1xuICAgICAgICAgICAgJGxvZy5pbmZvKCdCZXdhYXJkOiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==