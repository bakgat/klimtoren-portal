!function(){"use strict";angular.module("notosportal",["notosportal.core","notosportal.layout","notosportal.widgets","notosportal.dashboard","notosportal.info","notosportal.media"])}(),angular.module("notosportal.core",["ngAnimate","ngSanitize","ngResource","ui.bootstrap","ncy-angular-breadcrumb","restangular","angular-google-analytics","blocks.exception","blocks.logger","blocks.router"]),function(){"use strict";angular.module("notosportal.dashboard",[])}(),function(){"use strict";angular.module("notosportal.info",[])}(),function(){"use strict";angular.module("notosportal.layout",[])}(),function(){"use strict";angular.module("notosportal.media",[])}(),function(){"use strict";angular.module("notosportal.widgets",[])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router"])}(),function(){"use strict";function t(){function t(t){var n,e,r,i,a,c="",s="",l="",u=0;do n=t.charCodeAt(u++),e=t.charCodeAt(u++),s=t.charCodeAt(u++),r=n>>2,i=(3&n)<<4|e>>4,a=(15&e)<<2|s>>6,l=63&s,isNaN(e)?a=l=64:isNaN(s)&&(l=64),c=c+o.charAt(r)+o.charAt(i)+o.charAt(a)+o.charAt(l),n=e=s="",r=i=a=l="";while(u<t.length);return c}function n(t){var n,e,r,i,a,c="",s="",l="",u=0,f=/[^A-Za-z0-9\+\/\=]/g;f.exec(t)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=o.indexOf(t.charAt(u++)),i=o.indexOf(t.charAt(u++)),a=o.indexOf(t.charAt(u++)),l=o.indexOf(t.charAt(u++)),n=r<<2|i>>4,e=(15&i)<<4|a>>2,s=(3&a)<<6|l,c+=String.fromCharCode(n),64!=a&&(c+=String.fromCharCode(e)),64!=l&&(c+=String.fromCharCode(s)),n=e=s="",r=i=a=l="";while(u<t.length);return c}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e={encode:t,decode:n};return e}angular.module("notosportal.core").factory("Base64",t)}(),function(){"use strict";function t(t,n,o,e){function r(){return n.$broadcast.apply(n,arguments)}function i(t){return/^[-]?\d+$/.test(t)}function a(t,n){return t&&-1!==t.toLowerCase().indexOf(n.toLowerCase())}var c={$broadcast:r,$q:t,$timeout:o,isNumber:i,logger:e,textContains:a};return c}angular.module("notosportal.core").factory("common",t),t.$inject=["$q","$rootScope","$timeout","logger"]}(),function(){"use strict";function t(t){t.options.timeOut=4e3,t.options.closeButton=!0,t.options.progressBar=!0,t.options.positionClass="toast-bottom-right"}function n(t,n,o,e,i,a){function c(){o.config.$urlRouterProvider=t,o.config.$stateProvider=n,o.config.title=r.appTitle}function s(){e.setOptions({prefixStateName:"index",template:"bootstrap3",includeAbstract:!0})}function l(){var t="/api";i.setBaseUrl(t)}function u(){a.setAccount("UA-20593426-1"),a.setPageEvent("$stateChangeSuccess")}c(),s(),l(),u()}function o(t){t.$on("$viewContentLoaded",function(){angular.element("html, body").animate({scrollTop:0},200)})}var e=angular.module("notosportal.core");e.config(t),t.$inject=["toastr"];var r={appErrorPrefix:"[Fout] ",appTitle:"VBS De Klimtoren",version:"1.0.0"};e.value("config",r),e.config(n),e.run(o),e.run(["Analytics",function(t){}]),n.$inject=["$urlRouterProvider","$stateProvider","routehelperConfigProvider","$breadcrumbProvider","RestangularProvider","AnalyticsProvider"],o.$inject=["$rootScope"]}(),function(){"use strict";angular.module("notosportal.core").constant("toastr",toastr).constant("moment",moment).constant("gapi",gapi)}(),function(){"use strict";function t(t,n){function o(){FB.init({appId:"466280350201960",channelUrl:"js/modules/core/fb-channel.html",cookie:!0,xfbml:!0,version:"v2.3"})}t.fbAsyncInit=function(){o(),n.$broadcast("fb.init")},function(t){var n,o="facebook-jssdk",e=t.getElementsByTagName("script")[0];t.getElementById(o)||(n=t.createElement("script"),n.id=o,n.async=!0,n.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(n,e))}(document)}angular.module("notosportal.core").run(t),t.$inject=["$window","common"]}(),function(){"use strict";function t(t,n){function o(){e.collections=t.take(4),n.campaigns(3).then(function(t){e.campaigns=t})}var e=this;e.facebookurl="https://www.facebook.com/vbsdeklimtoren",e.collections=[],e.campaigns=[],o()}angular.module("notosportal.dashboard").controller("DashboardController",t),t.$inject=["GPCollections","MailChimp"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"index",config:{"abstract":!0,url:"/index",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"start"}},{state:"index.dashboard",config:{url:"/dashboard",views:{"content@index":{templateUrl:"js/modules/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm"},"slider@index":{templateUrl:"js/modules/dashboard/slider.html"}},title:"Dashboard"}}]}angular.module("notosportal.dashboard").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t){function n(){function n(t){o.campaigns=t}t.campaigns().then(n)}var o=this;o.campaigns=[],n()}angular.module("notosportal.info").controller("CampaignsController",t),t.$inject=["MailChimp"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"info",config:{"abstract":!0,url:"/info",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"Info"}},{state:"info.contact",config:{url:"/contact",views:{"content@info":{templateUrl:"js/modules/info/contact.html"}},title:"Contact"}},{state:"info.about",config:{url:"/about",views:{"content@info":{templateUrl:"js/modules/info/about.html"}},title:"Over onze school"}},{state:"info.care",config:{url:"/care",views:{"content@info":{templateUrl:"js/modules/info/care.html"}},title:"Zorg op onze school"}},,{state:"info.campaigns",config:{url:"/campaigns",views:{"content@info":{templateUrl:"js/modules/info/campaigns.html",controller:"CampaignsController",controllerAs:"vm"}},title:"Nieuwsbrieven"}}]}angular.module("notosportal.info").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t,n){function o(){t.memberCount().then(function(t){e.campaign_members=t.data.stats.member_count})}var e=this;e.campaign_members=0,o()}angular.module("notosportal.layout").controller("ShellController",t),t.$inject=["MailChimp","$state"]}(),function(){"use strict";function t(){function t(){return e}function n(t){for(var n=[],o=0;t>o&&o<e.length;)n.push(e[o]),o++;return n}var o={get:t,take:n},e=[{name:"2015-2016",href:"https://plus.google.com/b/103406123671942529660/collection/sYLa3"},{name:"2014-2015",href:"https://plus.google.com/b/103406123671942529660/collection/U5aa3",preview:"https://lh3.googleusercontent.com/-WuQRYCenP8w/VelsvrGL-fI/AAAAAAAAAqI/rj6IT0gPJWM/w640-h480-p/DSCN3028.JPG"},{name:"2013-2014",href:"https://plus.google.com/b/103406123671942529660/collection/EoNP2",preview:"https://lh3.googleusercontent.com/-XuNc8zcK6cg/VelygWhfKUI/AAAAAAAAAvQ/8EZzWBFBgdA/w777-h583-no/IMG_2789.JPG"}];return o}angular.module("notosportal.media").factory("GPCollections",t)}(),function(){"use strict";function t(t,n){function o(n){function o(t){var o=[],e=0;return angular.forEach(t.data.campaigns,function(t){t.recipients.segment_opts||(!e||n>e)&&(o.push(t),e++)}),o}return t.get("/api/mailchimp/campaigns").then(o)}function e(){function n(t){return t.data}return t.get("/api/mailchimp/member_count").success(n)}var r={campaigns:o,memberCount:e};return r}angular.module("notosportal.media").factory("MailChimp",t),t.$inject=["$http","$q"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"media",config:{"abstract":!0,url:"/media",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"in beeld"}},{state:"media.photos",config:{url:"/photos",views:{"content@media":{templateUrl:"js/modules/media/photos.html",controller:"PhotoController",controllerAs:"vm"}},title:"foto's"}}]}angular.module("notosportal.info").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t){function n(){o.collections=t.get()}var o=this;o.collections=[],n()}angular.module("notosportal.media").controller("PhotoController",t),t.$inject=["GPCollections"]}(),function(){"use strict";function t(){function t(t,n,o){function e(){var t=o.appearAnimationDelay||1;t>1&&$(n).css("animation-delay",t+"ms"),$(n).addClass("animated").addClass(o.appearAnimation)}angular.element("body").hasClass("no-csstransitions")||$(n).bind("appear",e)}var n={restrict:"A",link:t};return n}angular.module("notosportal.widgets").directive("appearAnimation",t)}(),function(){"use strict";function t(t){function n(n,o,e){o.addClass("fwb-bg fwb-blur"),t(function(){var n=new Image,r='<div class="blur-box"/>';o.find("canvas").length||(e.image?n.src=e.image:"none"!==o.css("background-image")&&(n.src=o.css("background-image").replace("url(","").replace(")",""),o.css("background-image","none")),n.onload=function(){Pixastic.process(n,"blurfast",{amount:e.amount||2})},o.prepend(r).find(".blur-box").prepend(n)),t(function(){var t=o.find("canvas");t.width()==o.width()?t.css({marginLeft:0,marginTop:-((t.height()-o.height())/2)}):t.css({marginTop:0,marginLeft:-((t.width()-o.width())/2)}),$("body").addClass("blur-load")},50)})}var o={restrict:"A",link:n};return o}angular.module("notosportal.widgets").directive("blur",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(){function t(t,n,o){n.find(".gallery-images, .lightbox").fancybox({nextEffect:"fade",prevEffect:"fade",openEffect:"fade",closeEffect:"fade",helpers:{overlay:{locked:!1},title:{type:"over"}},tpl:{closeBtn:'<a title="Sluiten" class="fancybox-item fancybox-close" href="javascript:;">Ã—</a>',next:'<a title="Volgende" class="fancybox-nav fancybox-next" href="javascript:;">\n						<span><svg x="0" y="0" width="9px" height="16px" viewBox="0 0 9 16" enable-background="new 0 0 9 16" xml:space="preserve"><polygon fill-rule="evenodd" clip-rule="evenodd" fill="#fcfcfc" points="1,0.001 0,1.001 7,8 0,14.999 1,15.999 9,8 "/></svg></span>\n					</a>',prev:'<a title="Vorige" class="fancybox-nav fancybox-prev" href="javascript:;">\n						<span><svg x="0" y="0" width="9px" height="16px" viewBox="0 0 9 16" enable-background="new 0 0 9 16" xml:space="preserve"><polygon fill-rule="evenodd" clip-rule="evenodd" fill="#fcfcfc" points="8,15.999 9,14.999 2,8 9,1.001 8,0.001 0,8 "/></svg></span>\n					</a>'}})}var n={restrict:"A",link:t};return n}angular.module("notosportal.widgets").directive("fancybox",t)}(),function(){"use strict";function t(){function t(t,n){n.addClass("livicon"),n.addLivicon()}var n={restrict:"A",replace:!0,scope:!1,link:t};return n}angular.module("notosportal.widgets").directive("livicon",t)}(),function(){"use strict";function t(t,n){function o(o,e,r){t(function(){function t(){var t=e.offset().top,r=n.pageYOffset;t>r?e.css({backgroundPosition:"50% "+(t-r)/o+"px"}):e.css({backgroundPosition:"50% "+-(t-r)/o+"px"})}e.addClass("fwb-bg fwb-blur");var o=r.speed||3;t(),angular.element(n).bind("scroll",t)})}var e={restrict:"A",link:o};return e}angular.module("notosportal.widgets").directive("paralax",t),t.$inject=["$timeout","$window"]}(),function(){"use strict";function t(t){function n(n,o,e){t(function(){var t=o;if(t.closest(".rs-slider").hasClass("full-width")){var n,e=angular.element("body"),r=(e.width(),0),i=104;angular.element("#top-box").length&&e.hasClass("hidden-top")&&(r=angular.element("#top-box").outerHeight()-32),n=e.width()>=1200?e.height()-(r+i):800,t.revolution({delay:6e3,startwidth:1200,startheight:n,hideThumbs:10,navigationType:"bullet",navigationArrows:"solo",navigationHAlign:"center",navigationVAlign:"top",navigationHOffset:-545,navigationVOffset:30,hideTimerBar:"on"}).parent().parent().removeClass("load")}else t.revolution({delay:6e3,startwidth:1200,startheight:500,hideThumbs:10,navigationType:"none",onHoverStop:"off"}).parent().parent().removeClass("load")})}var o={restrict:"A",link:n};return o}angular.module("notosportal.widgets").directive("rsSlider",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(){this.config={appErrorPrefix:void 0},this.configure=function(t){this.config.appErrorPrefix=t},this.$get=function(){return{config:this.config}}}function n(t){t.decorator("$exceptionHandler",o)}function o(t,n,o){return function(e,r){var i=n.config.appErrorPrefix||"",a={exception:e,cause:r};e.message=i+e.message,t(e,r),o.error(e.message,a)}}angular.module("blocks.exception").provider("exceptionHandler",t).config(n),n.$inject=["$provide"],o.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function t(t){function n(n){return function(o){t.error(n,o)}}var o={catcher:n};return o}angular.module("blocks.exception").factory("exception",t),t.$inject=["logger"]}(),function(){"use strict";function t(t,n){function o(o,e,r){n.error(o,r),t.error("Fout: "+o,e)}function e(o,e,r){n.info(o,r),t.info("Info: "+o,e)}function r(o,e,r){n.success(o,r),t.info("Succes: "+o,e)}function i(o,e,r){n.warning(o,r),t.warn("Let op: "+o,e)}function a(o,e,r){n.warning(o,r),t.warn("Verwijderd: "+o,e)}function c(o,e,r){n.success(o,r),t.info("Bewaard: "+o,e)}var s={showToasts:!0,error:o,info:e,success:r,warning:i,removed:a,saved:c,log:t.log};return s}angular.module("blocks.logger").factory("logger",t),t.$inject=["$log","toastr"]}(),function(){"use strict";function t(){this.config={},this.$get=function(){return{config:this.config}}}function n(t,n,o){function e(t){t.forEach(function(t){t.config.title&&(t.config.ncyBreadcrumb={label:t.config.title.toLowerCase()}),l.state(t.state,t.config)})}function r(){return o.get()}function i(t){var n=null;return r().forEach(function(o){o.name===t&&(n=o)}),n}function a(){c(),s.otherwise("/index/dashboard")}function c(){n.$on("$stateChangeSuccess",function(o,e,r){var i=t.config.title+(e.title?" | "+e.title:"");n.title=i,n.$state=e})}var s=t.config.$urlRouterProvider,l=t.config.$stateProvider,u={configureStates:e,states:r,get:i};return a(),u}angular.module("blocks.router").provider("routehelperConfig",t).factory("routehelper",n),n.$inject=["routehelperConfig","$rootScope","$state"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdG9zcG9ydGFsLm1vZHVsZS5qcyIsImNvcmUvY29yZS5tb2R1bGUuanMiLCJkYXNoYm9hcmQvZGFzaGJvYXJkLm1vZHVsZS5qcyIsImluZm8vaW5mby5tb2R1bGUuanMiLCJsYXlvdXQvbGF5b3V0Lm1vZHVsZS5qcyIsIm1lZGlhL21lZGlhLm1vZHVsZS5qcyIsIndpZGdldHMvd2lkZ2V0cy5tb2R1bGUuanMiLCJibG9ja3MvZXhjZXB0aW9uL2V4Y2VwdGlvbi5tb2R1bGUuanMiLCJibG9ja3MvbG9nZ2VyL2xvZ2dlci5tb2R1bGUuanMiLCJibG9ja3Mvcm91dGVyL3JvdXRlci5tb2R1bGUuanMiLCJjb3JlL2Jhc2U2NC5qcyIsImNvcmUvY29tbW9uLmpzIiwiYXBwLm1pbi5qcyIsImNvcmUvY29uZmlnLmpzIiwiY29yZS9jb25zdGFudHMuanMiLCJjb3JlL3NvY2lhbC5qcyIsImRhc2hib2FyZC9kYXNoYm9hcmQuY29udHJvbGxlci5qcyIsImRhc2hib2FyZC9kYXNoYm9hcmQucm91dGVzLmpzIiwiaW5mby9jYW1wYWlnbnMuY29udHJvbGxlci5qcyIsImluZm8vaW5mby5yb3V0ZXMuanMiLCJsYXlvdXQvc2hlbGwuY29udHJvbGxlci5qcyIsIm1lZGlhL2dvb2dsZS5wbHVzLmNvbGxlY3Rpb25zLmpzIiwibWVkaWEvbWFpbGNoaW1wLmpzIiwibWVkaWEvbWVkaWEucm91dGVzLmpzIiwibWVkaWEvcGhvdG8uY29udHJvbGxlci5qcyIsIndpZGdldHMvYXBwZWFyLmRpcmVjdGl2ZS5qcyIsIndpZGdldHMvYmx1ci5kaXJlY3RpdmUuanMiLCJ3aWRnZXRzL2ZhbmN5Ym94LmRpcmVjdGl2ZS5qcyIsIndpZGdldHMvbGl2aWNvbi5kaXJlY3RpdmUuanMiLCJ3aWRnZXRzL3BhcmFsYXguZGlyZWN0aXZlLmpzIiwid2lkZ2V0cy9yc3NsaWRlci5kaXJlY3RpdmUuanMiLCJibG9ja3MvZXhjZXB0aW9uL2V4Y2VwdGlvbi1oYW5kbGVyLnByb3ZpZGVyLmpzIiwiYmxvY2tzL2V4Y2VwdGlvbi9leGNlcHRpb24uanMiLCJibG9ja3MvbG9nZ2VyL2xvZ2dlci5qcyIsImJsb2Nrcy9yb3V0ZXIvcm91dGVoZWxwZXIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsIkJhc2U2NCIsImVuY29kZSIsImlucHV0IiwiY2hyMSIsImNocjIiLCJlbmMxIiwiZW5jMiIsImVuYzMiLCJvdXRwdXQiLCJjaHIzIiwiZW5jNCIsImkiLCJjaGFyQ29kZUF0IiwiaXNOYU4iLCJrZXlTdHIiLCJjaGFyQXQiLCJsZW5ndGgiLCJkZWNvZGUiLCJiYXNlNjR0ZXN0IiwiZXhlYyIsIndpbmRvdyIsImFsZXJ0IiwicmVwbGFjZSIsImluZGV4T2YiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJzZXJ2aWNlIiwiZmFjdG9yeSIsImNvbW1vbiIsIiRxIiwiJHJvb3RTY29wZSIsIiR0aW1lb3V0IiwibG9nZ2VyIiwiJGJyb2FkY2FzdCIsImFwcGx5IiwiYXJndW1lbnRzIiwiaXNOdW1iZXIiLCJ2YWwiLCJ0ZXN0IiwidGV4dENvbnRhaW5zIiwidGV4dCIsInNlYXJjaFRleHQiLCJ0b0xvd2VyQ2FzZSIsIiRpbmplY3QiLCJ0b2FzdHJDb25maWciLCJ0b2FzdHIiLCJvcHRpb25zIiwidGltZU91dCIsImNsb3NlQnV0dG9uIiwicHJvZ3Jlc3NCYXIiLCJwb3NpdGlvbkNsYXNzIiwiY29uZmlndXJlIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJHN0YXRlUHJvdmlkZXIiLCJyb3V0ZWhlbHBlckNvbmZpZ1Byb3ZpZGVyIiwiJGJyZWFkY3J1bWJQcm92aWRlciIsIlJlc3Rhbmd1bGFyUHJvdmlkZXIiLCJBbmFseXRpY3NQcm92aWRlciIsImNvbmZpZ3VyZVJvdXRpbmciLCJjb25maWciLCJ0aXRsZSIsImFwcFRpdGxlIiwiY29uZmlndXJlQnJlYWRjcnVtYiIsInNldE9wdGlvbnMiLCJwcmVmaXhTdGF0ZU5hbWUiLCJ0ZW1wbGF0ZSIsImluY2x1ZGVBYnN0cmFjdCIsImNvbmZpZ3VyZVJlc3Rhbmd1bGFyIiwiYmFzZVVybCIsInNldEJhc2VVcmwiLCJjb25maWd1cmVHb29nbGVBbmFseXRpY3MiLCJzZXRBY2NvdW50Iiwic2V0UGFnZUV2ZW50IiwiYWZ0ZXJWaWV3Q29udGVudExvYWRlZCIsIiRvbiIsImVsZW1lbnQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiY29yZSIsImFwcEVycm9yUHJlZml4IiwidmVyc2lvbiIsInZhbHVlIiwicnVuIiwiQW5hbHl0aWNzIiwiY29uc3RhbnQiLCJtb21lbnQiLCJnYXBpIiwiZmFjZWJvb2tJbml0IiwiJHdpbmRvdyIsImluaXRGYWNlYm9vayIsIkZCIiwiaW5pdCIsImFwcElkIiwiY2hhbm5lbFVybCIsImNvb2tpZSIsInhmYm1sIiwiZmJBc3luY0luaXQiLCJkIiwianMiLCJpZCIsInJlZiIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVFbGVtZW50IiwiYXN5bmMiLCJzcmMiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiZG9jdW1lbnQiLCJEYXNoYm9hcmRDb250cm9sbGVyIiwiR1BDb2xsZWN0aW9ucyIsIk1haWxDaGltcCIsImFjdGl2YXRlIiwidm0iLCJjb2xsZWN0aW9ucyIsInRha2UiLCJjYW1wYWlnbnMiLCJ0aGVuIiwicmVzcG9uc2UiLCJ0aGlzIiwiZmFjZWJvb2t1cmwiLCJjb250cm9sbGVyIiwiY29uZmlnUm91dGVzIiwicm91dGVoZWxwZXIiLCJjb25maWd1cmVTdGF0ZXMiLCJnZXRTdGF0ZXMiLCJzdGF0ZSIsImFic3RyYWN0IiwidXJsIiwidmlld3MiLCJtYWluQCIsInRlbXBsYXRlVXJsIiwiY29udGVudEBpbmRleCIsImNvbnRyb2xsZXJBcyIsInNsaWRlckBpbmRleCIsIkNhbXBhaWduc0NvbnRyb2xsZXIiLCJjYW1wYWlnbnNTdWNjZXNzIiwiY29udGVudEBpbmZvIiwiU2hlbGxDb250cm9sbGVyIiwiJHN0YXRlIiwibWVtYmVyQ291bnQiLCJjYW1wYWlnbl9tZW1iZXJzIiwiZGF0YSIsInN0YXRzIiwibWVtYmVyX2NvdW50IiwiZ2V0IiwibnVtYmVyIiwicmVzdWx0IiwicHVzaCIsIm5hbWUiLCJocmVmIiwicHJldmlldyIsIiRodHRwIiwiZm9yRWFjaCIsImNhbXBhaWduIiwicmVjaXBpZW50cyIsInNlZ21lbnRfb3B0cyIsIm1lbWJlckNvdW50U3VjY2VzcyIsInN1Y2Nlc3MiLCJjb250ZW50QG1lZGlhIiwiUGhvdG9Db250cm9sbGVyIiwiYXBwZWFyQW5pbWF0aW9uIiwibGlua0Z1bmMiLCJzY29wZSIsImF0dHJzIiwiYXBwZWFyIiwiZGVsYXkiLCJhcHBlYXJBbmltYXRpb25EZWxheSIsIiQiLCJjc3MiLCJhZGRDbGFzcyIsImhhc0NsYXNzIiwiYmluZCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwibGluayIsImJsdXIiLCJpbWciLCJJbWFnZSIsInByZXBlbmRCb3giLCJmaW5kIiwiaW1hZ2UiLCJvbmxvYWQiLCJQaXhhc3RpYyIsInByb2Nlc3MiLCJhbW91bnQiLCJwcmVwZW5kIiwiY2FudmFzIiwid2lkdGgiLCJtYXJnaW5MZWZ0IiwibWFyZ2luVG9wIiwiaGVpZ2h0IiwiZmFuY3lib3giLCJuZXh0RWZmZWN0IiwicHJldkVmZmVjdCIsIm9wZW5FZmZlY3QiLCJjbG9zZUVmZmVjdCIsImhlbHBlcnMiLCJvdmVybGF5IiwibG9ja2VkIiwidHlwZSIsInRwbCIsImNsb3NlQnRuIiwibmV4dCIsInByZXYiLCJsaXZpY29uIiwiYWRkTGl2aWNvbiIsInBhcmFsYXgiLCJiZ1Bvc2l0aW9uIiwiJHRoaXNZIiwib2Zmc2V0IiwidG9wIiwiJHdpbmRvd1kiLCJwYWdlWU9mZnNldCIsImJhY2tncm91bmRQb3NpdGlvbiIsInNwZWVkIiwicnNTbGlkZXIiLCJyZXZvbHV0aW9uU2xpZGVyIiwiY2xvc2VzdCIsImJvZHkiLCJ0b3BIZWlnaHQiLCJoZWFkZXJIZWlnaHQiLCJvdXRlckhlaWdodCIsInJldm9sdXRpb24iLCJzdGFydHdpZHRoIiwic3RhcnRoZWlnaHQiLCJoaWRlVGh1bWJzIiwibmF2aWdhdGlvblR5cGUiLCJuYXZpZ2F0aW9uQXJyb3dzIiwibmF2aWdhdGlvbkhBbGlnbiIsIm5hdmlnYXRpb25WQWxpZ24iLCJuYXZpZ2F0aW9uSE9mZnNldCIsIm5hdmlnYXRpb25WT2Zmc2V0IiwiaGlkZVRpbWVyQmFyIiwicGFyZW50IiwicmVtb3ZlQ2xhc3MiLCJvbkhvdmVyU3RvcCIsImV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlciIsInVuZGVmaW5lZCIsIiRnZXQiLCIkcHJvdmlkZSIsImRlY29yYXRvciIsImV4dGVuZEV4Y2VwdGlvbkhhbmRsZXIiLCIkZGVsZWdhdGUiLCJleGNlcHRpb25IYW5kbGVyIiwiZXhjZXB0aW9uIiwiY2F1c2UiLCJlcnJvckRhdGEiLCJtZXNzYWdlIiwiZXJyb3IiLCJwcm92aWRlciIsImNhdGNoZXIiLCJyZWFzb24iLCIkbG9nIiwiaW5mbyIsIndhcm5pbmciLCJ3YXJuIiwicmVtb3ZlZCIsInNhdmVkIiwic2hvd1RvYXN0cyIsImxvZyIsInJvdXRlaGVscGVyQ29uZmlnIiwic3RhdGVzIiwibmN5QnJlYWRjcnVtYiIsImxhYmVsIiwicGF0dGVybiIsInVwZGF0ZURvY1RpdGxlIiwib3RoZXJ3aXNlIiwiZXZlbnQiLCJjdXJyZW50IiwicHJldmlvdXMiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsWUFFQUEsU0FDQUMsT0FBQSxlQUVBLG1CQUNBLHFCQUNBLHNCQUdBLHdCQUNBLG1CQUNBLHlCQ2JBRCxRQUNBQyxPQUFBLG9CQUVBLFlBQUEsYUFBQSxhQUdBLGVBQ0EseUJBQ0EsY0FDQSwyQkFHQSxtQkFDQSxnQkFDQSxrQkNkQSxXQUNBLFlBRUFELFNBQ0FDLE9BQUEsK0JDSkEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLDBCQ0pBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSw0QkNKQSxXQUNBLFlBRUFELFNBQ0FDLE9BQUEsMkJDSkEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLDZCQ0pBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSxvQkFBQSxxQkNKQSxXQUNBLFlBRUFE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dHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbCcsIFtcbiAgICAgICAgICAgIC8vc2hhcmVkIG1vZHVsZXNcbiAgICAgICAgICAgICdub3Rvc3BvcnRhbC5jb3JlJyxcbiAgICAgICAgICAgICdub3Rvc3BvcnRhbC5sYXlvdXQnLFxuICAgICAgICAgICAgJ25vdG9zcG9ydGFsLndpZGdldHMnLFxuXG4gICAgICAgICAgICAvL2FwcCBtb2R1bGVzXG4gICAgICAgICAgICAnbm90b3Nwb3J0YWwuZGFzaGJvYXJkJyxcbiAgICAgICAgICAgICdub3Rvc3BvcnRhbC5pbmZvJyxcbiAgICAgICAgICAgICdub3Rvc3BvcnRhbC5tZWRpYSdcbiAgICAgICAgXSk7XG59KSgpOyIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5jb3JlJywgW1xuICAgICAgICAvL0FuZ3VsYXJcbiAgICAgICAgJ25nQW5pbWF0ZScsICduZ1Nhbml0aXplJywgJ25nUmVzb3VyY2UnLFxuXG4gICAgICAgIC8vM3JkIHBhcnR5XG4gICAgICAgICd1aS5ib290c3RyYXAnLFxuICAgICAgICAnbmN5LWFuZ3VsYXItYnJlYWRjcnVtYicsXG4gICAgICAgICdyZXN0YW5ndWxhcicsXG4gICAgICAgICdhbmd1bGFyLWdvb2dsZS1hbmFseXRpY3MnLFxuXG4gICAgICAgIC8vY3Jvc3MgYXBwIG1vZHVsZXNcbiAgICAgICAgJ2Jsb2Nrcy5leGNlcHRpb24nLFxuICAgICAgICAnYmxvY2tzLmxvZ2dlcicsXG4gICAgICAgICdibG9ja3Mucm91dGVyJ1xuICAgIF0pOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5kYXNoYm9hcmQnLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5pbmZvJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwubGF5b3V0JywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwubWVkaWEnLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC53aWRnZXRzJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYmxvY2tzLmV4Y2VwdGlvbicsIFsnYmxvY2tzLmxvZ2dlciddKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5sb2dnZXInLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdibG9ja3Mucm91dGVyJywgW1xuICAgICAgICAgICAgJ3VpLnJvdXRlcidcbiAgICAgICAgXSk7XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwuY29yZVxuICogRkFDVE9SWTogQmFzZTY0XG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmNvcmUnKVxuICAgICAgICAuZmFjdG9yeSgnQmFzZTY0JywgQmFzZTY0KTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEJhc2U2NCgpIHtcbiAgICAgICAgdmFyIGtleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgICAgICAgICBkZWNvZGU6IGRlY29kZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGNocjEsIGNocjIsIGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGVuYzEsIGVuYzIsIGVuYzMsIGVuYzQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgY2hyMSA9IGlucHV0LmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgICAgICAgICBjaHIyID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuICAgICAgICAgICAgICAgIGNocjMgPSBpbnB1dC5jaGFyQ29kZUF0KGkrKyk7XG5cbiAgICAgICAgICAgICAgICBlbmMxID0gY2hyMSA+PiAyO1xuICAgICAgICAgICAgICAgIGVuYzIgPSAoKGNocjEgJiAzKSA8PCA0KSB8IChjaHIyID4+IDQpO1xuICAgICAgICAgICAgICAgIGVuYzMgPSAoKGNocjIgJiAxNSkgPDwgMikgfCAoY2hyMyA+PiA2KTtcbiAgICAgICAgICAgICAgICBlbmM0ID0gY2hyMyAmIDYzO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGNocjIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuYzMgPSBlbmM0ID0gNjQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc05hTihjaHIzKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmM0ID0gNjQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICtcbiAgICAgICAgICAgICAgICAgICAga2V5U3RyLmNoYXJBdChlbmMxKSArXG4gICAgICAgICAgICAgICAgICAgIGtleVN0ci5jaGFyQXQoZW5jMikgK1xuICAgICAgICAgICAgICAgICAgICBrZXlTdHIuY2hhckF0KGVuYzMpICtcbiAgICAgICAgICAgICAgICAgICAga2V5U3RyLmNoYXJBdChlbmM0KTtcbiAgICAgICAgICAgICAgICBjaHIxID0gY2hyMiA9IGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGVuYzEgPSBlbmMyID0gZW5jMyA9IGVuYzQgPSBcIlwiO1xuICAgICAgICAgICAgfSB3aGlsZSAoaSA8IGlucHV0Lmxlbmd0aCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGNocjEsIGNocjIsIGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGVuYzEsIGVuYzIsIGVuYzMsIGVuYzQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgYWxsIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IEEtWiwgYS16LCAwLTksICssIC8sIG9yID1cbiAgICAgICAgICAgIHZhciBiYXNlNjR0ZXN0ID0gL1teQS1aYS16MC05XFwrXFwvXFw9XS9nO1xuICAgICAgICAgICAgaWYgKGJhc2U2NHRlc3QuZXhlYyhpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoXCJUaGVyZSB3ZXJlIGludmFsaWQgYmFzZTY0IGNoYXJhY3RlcnMgaW4gdGhlIGlucHV0IHRleHQuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlZhbGlkIGJhc2U2NCBjaGFyYWN0ZXJzIGFyZSBBLVosIGEteiwgMC05LCAnKycsICcvJyxhbmQgJz0nXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdCBlcnJvcnMgaW4gZGVjb2RpbmcuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL1xcPV0vZywgXCJcIik7XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBlbmMxID0ga2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpO1xuICAgICAgICAgICAgICAgIGVuYzIgPSBrZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG4gICAgICAgICAgICAgICAgZW5jMyA9IGtleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcbiAgICAgICAgICAgICAgICBlbmM0ID0ga2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpO1xuXG4gICAgICAgICAgICAgICAgY2hyMSA9IChlbmMxIDw8IDIpIHwgKGVuYzIgPj4gNCk7XG4gICAgICAgICAgICAgICAgY2hyMiA9ICgoZW5jMiAmIDE1KSA8PCA0KSB8IChlbmMzID4+IDIpO1xuICAgICAgICAgICAgICAgIGNocjMgPSAoKGVuYzMgJiAzKSA8PCA2KSB8IGVuYzQ7XG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGNocjEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVuYzMgIT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaHIyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVuYzQgIT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaHIzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjaHIxID0gY2hyMiA9IGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGVuYzEgPSBlbmMyID0gZW5jMyA9IGVuYzQgPSBcIlwiO1xuXG4gICAgICAgICAgICB9IHdoaWxlIChpIDwgaW5wdXQubGVuZ3RoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH07XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwuY29yZVxuICogRkFDVE9SWTogY29tbW9uXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmNvcmUnKVxuICAgICAgICAuZmFjdG9yeSgnY29tbW9uJywgY29tbW9uKTtcblxuICAgIGZ1bmN0aW9uIGNvbW1vbigkcSwgJHJvb3RTY29wZSwgJHRpbWVvdXQsIGxvZ2dlcikge1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgLy8gY29tbW9uIGFuZ3VsYXIgZGVwZW5kZW5jaWVzXG4gICAgICAgICAgICAkYnJvYWRjYXN0OiAkYnJvYWRjYXN0LFxuICAgICAgICAgICAgJHE6ICRxLFxuICAgICAgICAgICAgJHRpbWVvdXQ6ICR0aW1lb3V0LFxuICAgICAgICAgICAgLy8gZ2VuZXJpY1xuICAgICAgICAgICAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICAgICAgICAgICAgbG9nZ2VyOiBsb2dnZXIsXG4gICAgICAgICAgICB0ZXh0Q29udGFpbnM6IHRleHRDb250YWluc1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uICRicm9hZGNhc3QoKSB7XG4gICAgICAgICAgICByZXR1cm4gJHJvb3RTY29wZS4kYnJvYWRjYXN0LmFwcGx5KCRyb290U2NvcGUsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICAgICAgICAgICAgLy8gbmVnYXRpdmUgb3IgcG9zaXRpdmVcbiAgICAgICAgICAgIHJldHVybiAoL15bLV0/XFxkKyQvKS50ZXN0KHZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0ZXh0Q29udGFpbnModGV4dCwgc2VhcmNoVGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRleHQgJiYgLTEgIT09IHRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsbnVsbCwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY29yZSA9IGFuZ3VsYXIubW9kdWxlKCdub3Rvc3BvcnRhbC5jb3JlJyk7XG5cbiAgICBjb3JlLmNvbmZpZyh0b2FzdHJDb25maWcpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gdG9hc3RyQ29uZmlnKHRvYXN0cikge1xuICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gNDAwMDtcbiAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xuICAgICAgICB0b2FzdHIub3B0aW9ucy5wcm9ncmVzc0JhciA9IHRydWU7XG4gICAgICAgIHRvYXN0ci5vcHRpb25zLnBvc2l0aW9uQ2xhc3MgPSAndG9hc3QtYm90dG9tLXJpZ2h0JztcbiAgICB9XG5cbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICBhcHBFcnJvclByZWZpeDogJ1tGb3V0XSAnLFxuICAgICAgICBhcHBUaXRsZTogJ1ZCUyBEZSBLbGltdG9yZW4nLFxuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnXG4gICAgfTtcblxuICAgIGNvcmUudmFsdWUoJ2NvbmZpZycsIGNvbmZpZyk7XG5cbiAgICBjb3JlLmNvbmZpZyhjb25maWd1cmUpO1xuXG4gICAgY29yZS5ydW4oYWZ0ZXJWaWV3Q29udGVudExvYWRlZCk7XG5cbiAgICBjb3JlLnJ1bihmdW5jdGlvbihBbmFseXRpY3MpIHt9KTsgLy9JbmplY3Qgb25jZSBmb3IgYXV0b21hdGljIHBhZ2UtdHJhY2tpbmdcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZSgkdXJsUm91dGVyUHJvdmlkZXIsICRzdGF0ZVByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICByb3V0ZWhlbHBlckNvbmZpZ1Byb3ZpZGVyLCAkYnJlYWRjcnVtYlByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICBSZXN0YW5ndWxhclByb3ZpZGVyLCBBbmFseXRpY3NQcm92aWRlcikge1xuXG4gICAgICAgIGNvbmZpZ3VyZVJvdXRpbmcoKTtcbiAgICAgICAgY29uZmlndXJlQnJlYWRjcnVtYigpO1xuXG4gICAgICAgIGNvbmZpZ3VyZVJlc3Rhbmd1bGFyKCk7XG4gICAgICAgIGNvbmZpZ3VyZUdvb2dsZUFuYWx5dGljcygpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZVJvdXRpbmcoKSB7XG4gICAgICAgICAgICByb3V0ZWhlbHBlckNvbmZpZ1Byb3ZpZGVyLmNvbmZpZy4kdXJsUm91dGVyUHJvdmlkZXIgPSAkdXJsUm91dGVyUHJvdmlkZXI7XG4gICAgICAgICAgICByb3V0ZWhlbHBlckNvbmZpZ1Byb3ZpZGVyLmNvbmZpZy4kc3RhdGVQcm92aWRlciA9ICRzdGF0ZVByb3ZpZGVyO1xuXG4gICAgICAgICAgICByb3V0ZWhlbHBlckNvbmZpZ1Byb3ZpZGVyLmNvbmZpZy50aXRsZSA9IGNvbmZpZy5hcHBUaXRsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZUJyZWFkY3J1bWIoKSB7XG4gICAgICAgICAgICAkYnJlYWRjcnVtYlByb3ZpZGVyLnNldE9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIHByZWZpeFN0YXRlTmFtZTogJ2luZGV4JyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ2Jvb3RzdHJhcDMnLFxuICAgICAgICAgICAgICAgIGluY2x1ZGVBYnN0cmFjdDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb25maWd1cmVSZXN0YW5ndWxhcigpIHtcbiAgICAgICAgICAgIHZhciBiYXNlVXJsID0gJy9hcGknO1xuXG4gICAgICAgICAgICBSZXN0YW5ndWxhclByb3ZpZGVyLnNldEJhc2VVcmwoYmFzZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb25maWd1cmVHb29nbGVBbmFseXRpY3MoKSB7XG4gICAgICAgICAgICAvLyBTZXQgYSBzaW5nbGUgYWNjb3VudFxuICAgICAgICAgICAgQW5hbHl0aWNzUHJvdmlkZXIuc2V0QWNjb3VudCgnVUEtMjA1OTM0MjYtMScpO1xuICAgICAgICAgICAgQW5hbHl0aWNzUHJvdmlkZXIuc2V0UGFnZUV2ZW50KCckc3RhdGVDaGFuZ2VTdWNjZXNzJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBhZnRlclZpZXdDb250ZW50TG9hZGVkKCRyb290U2NvcGUpIHtcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyR2aWV3Q29udGVudExvYWRlZCcsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSwgMjAwKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbn0pKCk7IiwiLyogZ2xvYmFsIHRvYXN0cjpmYWxzZSwgbW9tZW50OmZhbHNlICovXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5jb3JlJylcbiAgICAgICAgLmNvbnN0YW50KCd0b2FzdHInLCB0b2FzdHIpXG4gICAgICAgIC5jb25zdGFudCgnbW9tZW50JywgbW9tZW50KVxuICAgICAgICAuY29uc3RhbnQoJ2dhcGknLCBnYXBpKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnbm90b3Nwb3J0YWwuY29yZScpXG4gICAgICAgIC5ydW4oZmFjZWJvb2tJbml0KTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZhY2Vib29rSW5pdCgkd2luZG93LCBjb21tb24pIHtcbiAgICAgICAgLy93aGVuIGZhY2Vib29rIGlzIGluaXRpYWxpemVkXG4gICAgICAgIC8vd2UgY2FuIHJlbmRlciBHb29nbGUrIHRvb1xuICAgICAgICAkd2luZG93LmZiQXN5bmNJbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5pdEZhY2Vib29rKCk7XG4gICAgICAgICAgICBjb21tb24uJGJyb2FkY2FzdCgnZmIuaW5pdCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRGYWNlYm9vaygpIHtcbiAgICAgICAgICAgIEZCLmluaXQoe1xuICAgICAgICAgICAgICAgIGFwcElkOiAnNDY2MjgwMzUwMjAxOTYwJyxcbiAgICAgICAgICAgICAgICBjaGFubmVsVXJsOiAnanMvbW9kdWxlcy9jb3JlL2ZiLWNoYW5uZWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29va2llOiB0cnVlLFxuICAgICAgICAgICAgICAgIHhmYm1sOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZlcnNpb246ICd2Mi4zJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIC8vIGxvYWQgdGhlIEZhY2Vib29rIGphdmFzY3JpcHQgU0RLXG5cbiAgICAgICAgICAgIHZhciBqcyxcbiAgICAgICAgICAgICAgICBpZCA9ICdmYWNlYm9vay1qc3NkaycsXG4gICAgICAgICAgICAgICAgcmVmID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG5cbiAgICAgICAgICAgIGlmIChkLmdldEVsZW1lbnRCeUlkKGlkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAganMgPSBkLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAganMuaWQgPSBpZDtcbiAgICAgICAgICAgIGpzLmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgIGpzLnNyYyA9IFwiLy9jb25uZWN0LmZhY2Vib29rLm5ldC9lbl9VUy9zZGsuanNcIjtcblxuICAgICAgICAgICAgcmVmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGpzLCByZWYpO1xuXG4gICAgICAgIH0oZG9jdW1lbnQpKTtcbiAgICB9XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwuZGFzaGJvYXJkXG4gKiBDT05UUk9MTEVSOiBEYXNoYm9hcmRDb250cm9sbGVyXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5kYXNoYm9hcmQnKVxuICAgICAgICAuY29udHJvbGxlcignRGFzaGJvYXJkQ29udHJvbGxlcicsIERhc2hib2FyZENvbnRyb2xsZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gRGFzaGJvYXJkQ29udHJvbGxlcihHUENvbGxlY3Rpb25zLCBNYWlsQ2hpbXApIHtcbiAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLmZhY2Vib29rdXJsID0gJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS92YnNkZWtsaW10b3Jlbic7XG4gICAgICAgIHZtLmNvbGxlY3Rpb25zID0gW107XG4gICAgICAgIHZtLmNhbXBhaWducyA9IFtdO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG4gICAgICAgIC8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICB2bS5jb2xsZWN0aW9ucyA9IEdQQ29sbGVjdGlvbnMudGFrZSg0KTtcblxuICAgICAgICAgICAgTWFpbENoaW1wLmNhbXBhaWducygzKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdm0uY2FtcGFpZ25zID0gcmVzcG9uc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBST1VURVM6IG5vdG9zcG9ydGFsLmRhc2hib2FyZFxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuZGFzaGJvYXJkJylcbiAgICAgICAgLnJ1bihjb25maWdSb3V0ZXMpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29uZmlnUm91dGVzKHJvdXRlaGVscGVyKSB7XG4gICAgICAgIHJvdXRlaGVscGVyLmNvbmZpZ3VyZVN0YXRlcyhnZXRTdGF0ZXMoKSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldFN0YXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2luZGV4JyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9pbmRleCcsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFpbkAnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2xheW91dC9tYWluLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnc3RhcnQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2luZGV4LmRhc2hib2FyZCcsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9kYXNoYm9hcmQnLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAaW5kZXgnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2Rhc2hib2FyZC9kYXNoYm9hcmQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzbGlkZXJAaW5kZXgnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2Rhc2hib2FyZC9zbGlkZXIuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEYXNoYm9hcmQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH07XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwuaW5mb1xuICogQ09OVFJPTExFUjogQ2FtcGFpZ25zQ29udHJvbGxlclxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuaW5mbycpXG4gICAgICAgIC5jb250cm9sbGVyKCdDYW1wYWlnbnNDb250cm9sbGVyJywgQ2FtcGFpZ25zQ29udHJvbGxlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBDYW1wYWlnbnNDb250cm9sbGVyKE1haWxDaGltcCkge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0uY2FtcGFpZ25zID0gW107XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcbiAgICAgICAgLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICBNYWlsQ2hpbXAuY2FtcGFpZ25zKCkudGhlbihjYW1wYWlnbnNTdWNjZXNzKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gY2FtcGFpZ25zU3VjY2VzcyhyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZtLmNhbXBhaWducyA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBST1VURVM6IG5vdG9zcG9ydGFsLmluZm9cbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmluZm8nKVxuICAgICAgICAucnVuKGNvbmZpZ1JvdXRlcyk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb25maWdSb3V0ZXMocm91dGVoZWxwZXIpIHtcbiAgICAgICAgcm91dGVoZWxwZXIuY29uZmlndXJlU3RhdGVzKGdldFN0YXRlcygpKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0U3RhdGVzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvaW5mbycsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFpbkAnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2xheW91dC9tYWluLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnSW5mbydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5mby5jb250YWN0JyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2NvbnRhY3QnLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAaW5mbyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvaW5mby9jb250YWN0Lmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ29udGFjdCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5mby5hYm91dCcsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hYm91dCcsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudEBpbmZvJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9pbmZvL2Fib3V0Lmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT3ZlciBvbnplIHNjaG9vbCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5mby5jYXJlJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2NhcmUnLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAaW5mbyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvaW5mby9jYXJlLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnWm9yZyBvcCBvbnplIHNjaG9vbCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5mby5jYW1wYWlnbnMnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvY2FtcGFpZ25zJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50QGluZm8nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2luZm8vY2FtcGFpZ25zLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDYW1wYWlnbnNDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdOaWV1d3NicmlldmVuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLmxheW91dFxuICogQ09OVFJPTExFUjogU2hlbGxDb250cm9sbGVyXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5sYXlvdXQnKVxuICAgICAgICAuY29udHJvbGxlcignU2hlbGxDb250cm9sbGVyJywgU2hlbGxDb250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFNoZWxsQ29udHJvbGxlcihNYWlsQ2hpbXAsICRzdGF0ZSkge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICB2bS5jYW1wYWlnbl9tZW1iZXJzID0gMDtcbiAgICAgICAvLyB2bS5oaWRlQnJlYWRjcnVtYiA9ICRzdGF0ZS5jO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG4gICAgICAgIC8vLy8vLy8vLy8vLy9cblxuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgTWFpbENoaW1wLm1lbWJlckNvdW50KCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZtLmNhbXBhaWduX21lbWJlcnMgPSByZXNwb25zZS5kYXRhLnN0YXRzLm1lbWJlcl9jb3VudDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cblxuICAgIH1cblxuXG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwubWVkaWFcbiAqIEZBQ1RPUlk6IEdQQ29sbGVjdGlvbnNcbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwubWVkaWEnKVxuICAgICAgICAuZmFjdG9yeSgnR1BDb2xsZWN0aW9ucycsIEdQQ29sbGVjdGlvbnMpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gR1BDb2xsZWN0aW9ucygpIHtcblxuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIGdldDogZ2V0LFxuICAgICAgICAgICAgdGFrZTogdGFrZVxuICAgICAgICB9XG5cbiAgICAgICAgLyp2YXIgY29sbGVjdGlvbnMgPSBbXG4gICAgICAgICAnaHR0cHM6Ly9wbHVzLmdvb2dsZS5jb20vK1ZCU0RFS2xpbXRvcmVuSmFiYmVrZS9wb3N0cy8yTlZaaVB3UXd1aycsXG4gICAgICAgICAnaHR0cHM6Ly9wbHVzLmdvb2dsZS5jb20vK1ZCU0RFS2xpbXRvcmVuSmFiYmVrZS9wb3N0cy9SWUNMaWpSVjZvWScsXG4gICAgICAgICAnaHR0cHM6Ly9wbHVzLmdvb2dsZS5jb20vK1ZCU0RFS2xpbXRvcmVuSmFiYmVrZS9wb3N0cy85SzFuVURUZlFSTCdcbiAgICAgICAgIF07Ki9cbiAgICAgICAgdmFyIGNvbGxlY3Rpb25zID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICcyMDE1LTIwMTYnLFxuICAgICAgICAgICAgICAgIGhyZWY6ICdodHRwczovL3BsdXMuZ29vZ2xlLmNvbS9iLzEwMzQwNjEyMzY3MTk0MjUyOTY2MC9jb2xsZWN0aW9uL3NZTGEzJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnMjAxNC0yMDE1JyxcbiAgICAgICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9wbHVzLmdvb2dsZS5jb20vYi8xMDM0MDYxMjM2NzE5NDI1Mjk2NjAvY29sbGVjdGlvbi9VNWFhMycsXG4gICAgICAgICAgICAgICAgcHJldmlldzogJ2h0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS8tV3VRUllDZW5QOHcvVmVsc3ZyR0wtZkkvQUFBQUFBQUFBcUkvcmo2SVQwZ1BKV00vdzY0MC1oNDgwLXAvRFNDTjMwMjguSlBHJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnMjAxMy0yMDE0JyxcbiAgICAgICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9wbHVzLmdvb2dsZS5jb20vYi8xMDM0MDYxMjM2NzE5NDI1Mjk2NjAvY29sbGVjdGlvbi9Fb05QMicsXG4gICAgICAgICAgICAgICAgcHJldmlldzogJ2h0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS8tWHVOYzh6Y0s2Y2cvVmVseWdXaGZLVUkvQUFBQUFBQUFBdlEvOEVaeldCRkJnZEEvdzc3Ny1oNTgzLW5vL0lNR18yNzg5LkpQRydcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdGFrZShudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgbnVtYmVyICYmIGkgPCBjb2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjb2xsZWN0aW9uc1tpXSk7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBub3Rvc3BvcnRhbC5tZWRpYVxuICogRkFDVE9SWTogTWFpbENoaW1wXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLm1lZGlhJylcbiAgICAgICAgLmZhY3RvcnkoJ01haWxDaGltcCcsIE1haWxDaGltcCk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBNYWlsQ2hpbXAoJGh0dHAsICRxKSB7XG4gICAgICAgIHZhciBjYW1wYWlnbnNfY2FjaGUgPSBudWxsO1xuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIGNhbXBhaWduczogY2FtcGFpZ25zLFxuICAgICAgICAgICAgbWVtYmVyQ291bnQ6IG1lbWJlckNvdW50XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGNhbXBhaWducyh0YWtlKSB7XG5cblxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9tYWlsY2hpbXAvY2FtcGFpZ25zJy8qLCB7cGFyYW1zOiB7dGFrZTogdGFrZX19IFRBS0UgQUxMIE5PVyBBUyBJVCBNVVNUIEJFIEZJTFRFUkVEKi8pXG4gICAgICAgICAgICAgICAgLnRoZW4oY2FtcGFpZ25zU3VjY2Vzcyk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbXBhaWduc1N1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmNhbXBhaWducywgZnVuY3Rpb24gKGNhbXBhaWduKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FtcGFpZ24ucmVjaXBpZW50cy5zZWdtZW50X29wdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaSB8fCBpIDwgdGFrZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNhbXBhaWduKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbWVtYmVyQ291bnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21haWxjaGltcC9tZW1iZXJfY291bnQnKVxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKG1lbWJlckNvdW50U3VjY2Vzcyk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIG1lbWJlckNvdW50U3VjY2VzcyhyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIFJPVVRFUzogbm90b3Nwb3J0YWwuaW5mb1xuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuaW5mbycpXG4gICAgICAgIC5ydW4oY29uZmlnUm91dGVzKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNvbmZpZ1JvdXRlcyhyb3V0ZWhlbHBlcikge1xuICAgICAgICByb3V0ZWhlbHBlci5jb25maWd1cmVTdGF0ZXMoZ2V0U3RhdGVzKCkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdtZWRpYScsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvbWVkaWEnLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ21haW5AJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9sYXlvdXQvbWFpbi5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2luIGJlZWxkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdtZWRpYS5waG90b3MnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvcGhvdG9zJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50QG1lZGlhJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9tZWRpYS9waG90b3MuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1Bob3RvQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnZm90b1xcJ3MnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH07XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwubWVkaWFcbiAqIENPTlRST0xMRVI6IFBob3RvQ29udHJvbGxlclxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwubWVkaWEnKVxuICAgICAgICAuY29udHJvbGxlcignUGhvdG9Db250cm9sbGVyJywgUGhvdG9Db250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFBob3RvQ29udHJvbGxlcihHUENvbGxlY3Rpb25zKSB7XG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICB2bS5jb2xsZWN0aW9ucyA9IFtdO1xuXG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICB2bS5jb2xsZWN0aW9ucyA9IEdQQ29sbGVjdGlvbnMuZ2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwud2lkZ2V0c1xuICogRElSRUNUSVZFOiBhcHBlYXJBbmltYXRpb25cbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLndpZGdldHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdhcHBlYXJBbmltYXRpb24nLCBhcHBlYXJBbmltYXRpb24pO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gYXBwZWFyQW5pbWF0aW9uKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5oYXNDbGFzcygnbm8tY3NzdHJhbnNpdGlvbnMnKSkge1xuICAgICAgICAgICAgICAgICQoZWxlbWVudCkuYmluZCgnYXBwZWFyJywgYXBwZWFyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFwcGVhcigpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBhdHRycy5hcHBlYXJBbmltYXRpb25EZWxheSB8fCAxO1xuICAgICAgICAgICAgICAgIGlmIChkZWxheSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50KS5jc3MoJ2FuaW1hdGlvbi1kZWxheScsIGRlbGF5ICsgJ21zJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQoZWxlbWVudCkuYWRkQ2xhc3MoJ2FuaW1hdGVkJykuYWRkQ2xhc3MoYXR0cnMuYXBwZWFyQW5pbWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG5cbiIsIi8qKlxuICogbm90b3Nwb3J0YWwud2lkZ2V0c1xuICogRElSRUNUSVZFOiBibHVyXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC53aWRnZXRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnYmx1cicsIGJsdXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gYmx1cigkdGltZW91dCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnZndiLWJnIGZ3Yi1ibHVyJyk7XG5cbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKSxcbiAgICAgICAgICAgICAgICAgICAgcHJlcGVuZEJveCA9ICc8ZGl2IGNsYXNzPVwiYmx1ci1ib3hcIi8+JztcblxuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudC5maW5kKCdjYW52YXMnKS5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMuaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBhdHRycy5pbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmNzcygnYmFja2dyb3VuZC1pbWFnZScpICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBlbGVtZW50LmNzcygnYmFja2dyb3VuZC1pbWFnZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3VybCgnLCAnJykucmVwbGFjZSgnKScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQaXhhc3RpYy5wcm9jZXNzKGltZywgJ2JsdXJmYXN0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogYXR0cnMuYW1vdW50IHx8IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLnByZXBlbmQocHJlcGVuZEJveClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuYmx1ci1ib3gnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnByZXBlbmQoaW1nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBlbGVtZW50LmZpbmQoJ2NhbnZhcycpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW52YXMud2lkdGgoKSA9PSBlbGVtZW50LndpZHRoKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAtKChjYW52YXMuaGVpZ2h0KCkgLSBlbGVtZW50LmhlaWdodCgpKSAvIDIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAtKChjYW52YXMud2lkdGgoKSAtIGVsZW1lbnQud2lkdGgoKSkgLyAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ2JsdXItbG9hZCcpO1xuICAgICAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9XG59KSgpO1xuXG4iLCIvKipcbiAqIG5vdG9zcG9ydGFsLndpZGdldHNcbiAqIERJUkVDVElWRTogZmFuY3lib3hcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLndpZGdldHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdmYW5jeWJveCcsIGZhbmN5Ym94KTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZhbmN5Ym94KCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgZWxlbWVudC5maW5kKCcuZ2FsbGVyeS1pbWFnZXMsIC5saWdodGJveCcpLmZhbmN5Ym94KHtcbiAgICAgICAgICAgICAgICBuZXh0RWZmZWN0OiAnZmFkZScsXG4gICAgICAgICAgICAgICAgcHJldkVmZmVjdDogJ2ZhZGUnLFxuICAgICAgICAgICAgICAgIG9wZW5FZmZlY3Q6ICdmYWRlJyxcbiAgICAgICAgICAgICAgICBjbG9zZUVmZmVjdDogJ2ZhZGUnLFxuICAgICAgICAgICAgICAgIGhlbHBlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9ja2VkOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ292ZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRwbDoge1xuICAgICAgICAgICAgICAgICAgICBjbG9zZUJ0bjogJzxhIHRpdGxlPVwiU2x1aXRlblwiIGNsYXNzPVwiZmFuY3lib3gtaXRlbSBmYW5jeWJveC1jbG9zZVwiIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj7DlzwvYT4nLFxuICAgICAgICAgICAgICAgICAgICBuZXh0OiAnPGEgdGl0bGU9XCJWb2xnZW5kZVwiIGNsYXNzPVwiZmFuY3lib3gtbmF2IGZhbmN5Ym94LW5leHRcIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+XFxuXFxcblx0XHRcdFx0XHRcdDxzcGFuPjxzdmcgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiOXB4XCIgaGVpZ2h0PVwiMTZweFwiIHZpZXdCb3g9XCIwIDAgOSAxNlwiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCA5IDE2XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj48cG9seWdvbiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGZpbGw9XCIjZmNmY2ZjXCIgcG9pbnRzPVwiMSwwLjAwMSAwLDEuMDAxIDcsOCAwLDE0Ljk5OSAxLDE1Ljk5OSA5LDggXCIvPjwvc3ZnPjwvc3Bhbj5cXG5cXFxuXHRcdFx0XHRcdDwvYT4nLFxuICAgICAgICAgICAgICAgICAgICBwcmV2OiAnPGEgdGl0bGU9XCJWb3JpZ2VcIiBjbGFzcz1cImZhbmN5Ym94LW5hdiBmYW5jeWJveC1wcmV2XCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiPlxcblxcXG5cdFx0XHRcdFx0XHQ8c3Bhbj48c3ZnIHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIjlweFwiIGhlaWdodD1cIjE2cHhcIiB2aWV3Qm94PVwiMCAwIDkgMTZcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgOSAxNlwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+PHBvbHlnb24gZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBmaWxsPVwiI2ZjZmNmY1wiIHBvaW50cz1cIjgsMTUuOTk5IDksMTQuOTk5IDIsOCA5LDEuMDAxIDgsMC4wMDEgMCw4IFwiLz48L3N2Zz48L3NwYW4+XFxuXFxcblx0XHRcdFx0XHQ8L2E+J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9XG59KSgpO1xuXG4iLCIvKipcbiAqIG5vdG9zcG9ydGFsLndpZGdldHNcbiAqIERJUkVDVElWRTogbGl2aWNvblxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwud2lkZ2V0cycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2xpdmljb24nLCBsaXZpY29uKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxpdmljb24oKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHNjb3BlOiBmYWxzZSxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdsaXZpY29uJyk7XG4gICAgICAgICAgICBlbGVtZW50LmFkZExpdmljb24oKTtcbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTtcblxuIiwiLyoqXG4gKiBub3Rvc3BvcnRhbC53aWRnZXRzXG4gKiBESVJFQ1RJVkU6IHBhcmFsYXhcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLndpZGdldHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdwYXJhbGF4JywgcGFyYWxheCk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwYXJhbGF4KCR0aW1lb3V0LCAkd2luZG93KSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogbGlua0Z1bmNcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnZndiLWJnIGZ3Yi1ibHVyJyk7XG4gICAgICAgICAgICAgICAgdmFyIHNwZWVkID0gYXR0cnMuc3BlZWQgfHwgMztcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGJnUG9zaXRpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkdGhpc1kgPSBlbGVtZW50Lm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3dZID0gJHdpbmRvdy5wYWdlWU9mZnNldDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJHRoaXNZID4gJHdpbmRvd1kpXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7YmFja2dyb3VuZFBvc2l0aW9uOiAnNTAlICcgKyAoKCR0aGlzWSAtICR3aW5kb3dZKSAvIHNwZWVkKSArICdweCd9KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3Moe2JhY2tncm91bmRQb3NpdGlvbjogJzUwJSAnICsgKC0oJHRoaXNZIC0gJHdpbmRvd1kpIC8gc3BlZWQpICsgJ3B4J30pO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgYmdQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoJ3Njcm9sbCcsIGJnUG9zaXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH1cbn0pKCk7XG5cbiIsIi8qKlxuICogbm90b3Nwb3J0YWwud2lkZ2V0c1xuICogRElSRUNUSVZFOiByc1NsaWRyXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC53aWRnZXRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgncnNTbGlkZXInLCByc1NsaWRlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiByc1NsaWRlcigkdGltZW91dCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vUmV2b2x1dGlvbiBTbGlkZXIgU3RhcnRcbiAgICAgICAgICAgICAgICB2YXIgcmV2b2x1dGlvblNsaWRlciA9IGVsZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAocmV2b2x1dGlvblNsaWRlci5jbG9zZXN0KCcucnMtc2xpZGVyJykuaGFzQ2xhc3MoJ2Z1bGwtd2lkdGgnKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBib2R5LndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BIZWlnaHQgPSAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVySGVpZ2h0ID0gMTA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmVsZW1lbnQoJyN0b3AtYm94JykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9keS5oYXNDbGFzcygnaGlkZGVuLXRvcCcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcEhlaWdodCA9IGFuZ3VsYXIuZWxlbWVudCgnI3RvcC1ib3gnKS5vdXRlckhlaWdodCgpIC0gMzI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoKGJvZHkud2lkdGgoKSkgPj0gMTIwMClcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGJvZHkuaGVpZ2h0KCkgLSAodG9wSGVpZ2h0ICsgaGVhZGVySGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gODAwO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldm9sdXRpb25TbGlkZXIucmV2b2x1dGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogNjAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0d2lkdGg6IDEyMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVRodW1iczogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uVHlwZTogJ2J1bGxldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uQXJyb3dzOiAnc29sbycsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25WQWxpZ246ICd0b3AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhPZmZzZXQ6IC01NDUsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uVk9mZnNldDogMzAsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlVGltZXJCYXI6ICdvbidcbiAgICAgICAgICAgICAgICAgICAgfSkucGFyZW50KCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2xvYWQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXZvbHV0aW9uU2xpZGVyLnJldm9sdXRpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXk6IDYwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydHdpZHRoOiAxMjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRoZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVUaHVtYnM6IDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvblR5cGU6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uSG92ZXJTdG9wOiAnb2ZmJ1xuICAgICAgICAgICAgICAgICAgICB9KS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnbG9hZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy9SZXZvbHV0aW9uIFNsaWRlciBFbmRcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG5cbiIsIi8vIEluY2x1ZGUgaW4gaW5kZXguaHRtbCBzbyB0aGF0IGFwcCBsZXZlbCBleGNlcHRpb25zIGFyZSBoYW5kbGVkLlxuLy8gRXhjbHVkZSBmcm9tIHRlc3RSdW5uZXIuaHRtbCB3aGljaCBzaG91bGQgcnVuIGV4YWN0bHkgd2hhdCBpdCB3YW50cyB0byBydW5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5leGNlcHRpb24nKVxuICAgICAgICAucHJvdmlkZXIoJ2V4Y2VwdGlvbkhhbmRsZXInLCBleGNlcHRpb25IYW5kbGVyUHJvdmlkZXIpXG4gICAgICAgIC5jb25maWcoY29uZmlnKTtcblxuICAgIC8qKlxuICAgICAqIE11c3QgY29uZmlndXJlIHRoZSBleGNlcHRpb24gaGFuZGxpbmdcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19XG4gICAgICovXG4gICAgZnVuY3Rpb24gZXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyKCkge1xuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICBhcHBFcnJvclByZWZpeDogdW5kZWZpbmVkXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jb25maWd1cmUgPSBmdW5jdGlvbiAoYXBwRXJyb3JQcmVmaXgpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmFwcEVycm9yUHJlZml4ID0gYXBwRXJyb3JQcmVmaXg7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge2NvbmZpZzogdGhpcy5jb25maWd9O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZSBieSBzZXR0aW5nIGFuIG9wdGlvbmFsIHN0cmluZyB2YWx1ZSBmb3IgYXBwRXJyb3JQcmVmaXguXG4gICAgICogQWNjZXNzaWJsZSB2aWEgY29uZmlnLmFwcEVycm9yUHJlZml4ICh2aWEgY29uZmlnIHZhbHVlKS5cbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19ICRwcm92aWRlXG4gICAgICogQHJldHVybiB7W3R5cGVdfVxuICAgICAqIEBuZ0luamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZpZygkcHJvdmlkZSkge1xuICAgICAgICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRleGNlcHRpb25IYW5kbGVyJywgZXh0ZW5kRXhjZXB0aW9uSGFuZGxlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0ZW5kIHRoZSAkZXhjZXB0aW9uSGFuZGxlciBzZXJ2aWNlIHRvIGFsc28gZGlzcGxheSBhIHRvYXN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gJGRlbGVnYXRlXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBleGNlcHRpb25IYW5kbGVyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBsb2dnZXJcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhlIGRlY29yYXRlZCAkZXhjZXB0aW9uSGFuZGxlciBzZXJ2aWNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXh0ZW5kRXhjZXB0aW9uSGFuZGxlcigkZGVsZWdhdGUsIGV4Y2VwdGlvbkhhbmRsZXIsIGxvZ2dlcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXhjZXB0aW9uLCBjYXVzZSkge1xuICAgICAgICAgICAgdmFyIGFwcEVycm9yUHJlZml4ID0gZXhjZXB0aW9uSGFuZGxlci5jb25maWcuYXBwRXJyb3JQcmVmaXggfHwgJyc7XG4gICAgICAgICAgICB2YXIgZXJyb3JEYXRhID0ge2V4Y2VwdGlvbjogZXhjZXB0aW9uLCBjYXVzZTogY2F1c2V9O1xuICAgICAgICAgICAgZXhjZXB0aW9uLm1lc3NhZ2UgPSBhcHBFcnJvclByZWZpeCArIGV4Y2VwdGlvbi5tZXNzYWdlO1xuICAgICAgICAgICAgJGRlbGVnYXRlKGV4Y2VwdGlvbiwgY2F1c2UpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb3VsZCBhZGQgdGhlIGVycm9yIHRvIGEgc2VydmljZSdzIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgKiBhZGQgZXJyb3JzIHRvICRyb290U2NvcGUsIGxvZyBlcnJvcnMgdG8gcmVtb3RlIHdlYiBzZXJ2ZXIsXG4gICAgICAgICAgICAgKiBvciBsb2cgbG9jYWxseS4gT3IgdGhyb3cgaGFyZC4gSXQgaXMgZW50aXJlbHkgdXAgdG8geW91LlxuICAgICAgICAgICAgICogdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAgICAgKiAgICAgdGhyb3cgeyBtZXNzYWdlOiAnZXJyb3IgbWVzc2FnZSB3ZSBhZGRlZCcgfTtcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGV4Y2VwdGlvbi5tZXNzYWdlLCBlcnJvckRhdGEpO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBibG9ja3MuZXhjZXB0aW9uXG4gKiBGQUNUT1JZOiBleGNlcHRpb25cbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYmxvY2tzLmV4Y2VwdGlvbicpXG4gICAgICAgIC5mYWN0b3J5KCdleGNlcHRpb24nLCBleGNlcHRpb24pO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZXhjZXB0aW9uKGxvZ2dlcikge1xuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIGNhdGNoZXI6IGNhdGNoZXJcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICAgICAgZnVuY3Rpb24gY2F0Y2hlcihtZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKG1lc3NhZ2UsIHJlYXNvbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIGJsb2Nrcy5sb2dnZXJcbiAqIEZBQ1RPUlk6IGxvZ2dlclxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdibG9ja3MubG9nZ2VyJylcbiAgICAgICAgLmZhY3RvcnkoJ2xvZ2dlcicsIGxvZ2dlcik7XG5cbiAgICBsb2dnZXIuJGluamVjdCA9IFsnJGxvZycsICd0b2FzdHInXTtcblxuICAgIGZ1bmN0aW9uIGxvZ2dlcigkbG9nLCB0b2FzdHIpIHtcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBzaG93VG9hc3RzOiB0cnVlLFxuXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICBpbmZvOiBpbmZvLFxuICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICAgIHdhcm5pbmc6IHdhcm5pbmcsXG5cbiAgICAgICAgICAgIHJlbW92ZWQ6IHJlbW92ZWQsXG4gICAgICAgICAgICBzYXZlZDogc2F2ZWQsXG5cbiAgICAgICAgICAgIC8vIHN0cmFpZ2h0IHRvIGNvbnNvbGU7IGJ5cGFzcyB0b2FzdHJcbiAgICAgICAgICAgIGxvZzogJGxvZy5sb2dcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgZGF0YSwgdGl0bGUpIHtcbiAgICAgICAgICAgIHRvYXN0ci5lcnJvcihtZXNzYWdlLCB0aXRsZSk7XG4gICAgICAgICAgICAkbG9nLmVycm9yKCdGb3V0OiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbmZvKG1lc3NhZ2UsIGRhdGEsIHRpdGxlKSB7XG4gICAgICAgICAgICB0b2FzdHIuaW5mbyhtZXNzYWdlLCB0aXRsZSk7XG4gICAgICAgICAgICAkbG9nLmluZm8oJ0luZm86ICcgKyBtZXNzYWdlLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MobWVzc2FnZSwgZGF0YSwgdGl0bGUpIHtcbiAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UsIHRpdGxlKTtcbiAgICAgICAgICAgICRsb2cuaW5mbygnU3VjY2VzOiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UsIGRhdGEsIHRpdGxlKSB7XG4gICAgICAgICAgICB0b2FzdHIud2FybmluZyhtZXNzYWdlLCB0aXRsZSk7XG4gICAgICAgICAgICAkbG9nLndhcm4oJ0xldCBvcDogJyArIG1lc3NhZ2UsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlZChtZXNzYWdlLCBkYXRhLCB0aXRsZSkge1xuICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcobWVzc2FnZSwgdGl0bGUpO1xuICAgICAgICAgICAgJGxvZy53YXJuKCdWZXJ3aWpkZXJkOiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzYXZlZChtZXNzYWdlLCBkYXRhLCB0aXRsZSkge1xuICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MobWVzc2FnZSwgdGl0bGUpO1xuICAgICAgICAgICAgJGxvZy5pbmZvKCdCZXdhYXJkOiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsIi8qKlxuICogbm90b3NwbHVzLnJvdXRlclxuICogRkFDVE9SWTogcm91dGVoZWxwZXJcbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYmxvY2tzLnJvdXRlcicpXG4gICAgICAgIC5wcm92aWRlcigncm91dGVoZWxwZXJDb25maWcnLCByb3V0ZWhlbHBlckNvbmZpZylcbiAgICAgICAgLmZhY3RvcnkoJ3JvdXRlaGVscGVyJywgcm91dGVoZWxwZXIpO1xuXG4gICAgcm91dGVoZWxwZXIuJGluamVjdCA9IFsncm91dGVoZWxwZXJDb25maWcnLCAnJHJvb3RTY29wZScsICckc3RhdGUnXTtcblxuICAgIGZ1bmN0aW9uIHJvdXRlaGVscGVyQ29uZmlnKCkge1xuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgICAgdGhpcy5jb25maWcgPSB7fTtcblxuICAgICAgICB0aGlzLiRnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvbmZpZzogdGhpcy5jb25maWdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm91dGVoZWxwZXIocm91dGVoZWxwZXJDb25maWcsICRyb290U2NvcGUsICRzdGF0ZSkge1xuICAgICAgICB2YXIgJHVybFJvdXRlclByb3ZpZGVyID0gcm91dGVoZWxwZXJDb25maWcuY29uZmlnLiR1cmxSb3V0ZXJQcm92aWRlcjtcbiAgICAgICAgdmFyICRzdGF0ZVByb3ZpZGVyID0gcm91dGVoZWxwZXJDb25maWcuY29uZmlnLiRzdGF0ZVByb3ZpZGVyO1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgY29uZmlndXJlU3RhdGVzOiBjb25maWd1cmVTdGF0ZXMsXG4gICAgICAgICAgICBzdGF0ZXM6IHN0YXRlcyxcbiAgICAgICAgICAgIGdldDogZ2V0XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5pdCgpO1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBjb25maWd1cmVTdGF0ZXMoc3RhdGVzKSB7XG4gICAgICAgICAgICBzdGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuY29uZmlnLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmNvbmZpZy5uY3lCcmVhZGNydW1iID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0YXRlLmNvbmZpZy50aXRsZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZShzdGF0ZS5zdGF0ZSwgc3RhdGUuY29uZmlnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3RhdGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nZXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldChwYXR0ZXJuKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHN0YXRlcygpLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLm5hbWUgPT09IHBhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cblxuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgdXBkYXRlRG9jVGl0bGUoKTtcbiAgICAgICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9pbmRleC9kYXNoYm9hcmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZURvY1RpdGxlKCkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChldmVudCwgY3VycmVudCwgcHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gcm91dGVoZWxwZXJDb25maWcuY29uZmlnLnRpdGxlICsgKGN1cnJlbnQudGl0bGUgPyAnIHwgJyArIGN1cnJlbnQudGl0bGUgOiAnJyk7XG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUudGl0bGUgPSB0aXRsZTsgLy8gZGF0YSBiaW5kIHRvIDx0aXRsZT5cbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kc3RhdGUgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgIH1cbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9