!function(){"use strict";angular.module("notosportal",["notosportal.core","notosportal.layout","notosportal.widgets","notosportal.data","notosportal.auth","notosportal.dashboard","notosportal.info","notosportal.media","notosportal.links"])}(),function(){"use strict";angular.module("notosportal.auth",[])}(),angular.module("notosportal.core",["ngAnimate","ngSanitize","ngResource","ui.bootstrap","ncy-angular-breadcrumb","restangular","angular-google-analytics","blocks.exception","blocks.logger","blocks.router"]),function(){"use strict";angular.module("notosportal.dashboard",[])}(),function(){"use strict";angular.module("notosportal.data",[])}(),function(){"use strict";angular.module("notosportal.info",[])}(),function(){"use strict";angular.module("notosportal.layout",[])}(),function(){"use strict";angular.module("notosportal.links",[])}(),function(){"use strict";angular.module("notosportal.media",[])}(),function(){"use strict";angular.module("notosportal.widgets",[])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router"])}(),function(){"use strict";function t(t,n,e,o,r){function a(o){function r(t){return l=t.data,f.setRealm(t.data.realm),t.data}return l&&!o?e.when(l):t.get("/api/user/profile").then(r)["catch"](function(t){n.catcher("Profiel van de huidige gebruiker opvragen, lukt niet.")(t)})}function i(){return u}function c(t){u=t}function s(o,r){function a(t){return l=t.data,f.setRealm(t.data),t.data}return l&&!r?e.when(l):t.get("/api/realm?ofDomain="+o).then(a)["catch"](function(t){n.catcher("Realm van "+o+" opvragen lukt niet.")(t)})}var l=null,u=null,f=(r.events,{current:a,realm:i,setRealm:c,realmOfDomain:s});return f}angular.module("notosportal.auth").factory("ProfileService",t),t.$inject=["$http","exception","$q","common","config"]}(),function(){"use strict";function t(){function t(t){var n,o,r,a,i,c="",s="",l="",u=0;do n=t.charCodeAt(u++),o=t.charCodeAt(u++),s=t.charCodeAt(u++),r=n>>2,a=(3&n)<<4|o>>4,i=(15&o)<<2|s>>6,l=63&s,isNaN(o)?i=l=64:isNaN(s)&&(l=64),c=c+e.charAt(r)+e.charAt(a)+e.charAt(i)+e.charAt(l),n=o=s="",r=a=i=l="";while(u<t.length);return c}function n(t){var n,o,r,a,i,c="",s="",l="",u=0,f=/[^A-Za-z0-9\+\/\=]/g;f.exec(t)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),i=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),n=r<<2|a>>4,o=(15&a)<<4|i>>2,s=(3&i)<<6|l,c+=String.fromCharCode(n),64!=i&&(c+=String.fromCharCode(o)),64!=l&&(c+=String.fromCharCode(s)),n=o=s="",r=a=i=l="";while(u<t.length);return c}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o={encode:t,decode:n};return o}angular.module("notosportal.core").factory("Base64",t)}(),function(){"use strict";function t(t,n,e,o){function r(){return n.$broadcast.apply(n,arguments)}function a(t){return/^[-]?\d+$/.test(t)}function i(t,n){return t&&-1!==t.toLowerCase().indexOf(n.toLowerCase())}var c={$broadcast:r,$q:t,$timeout:e,isNumber:a,logger:o,textContains:i};return c}angular.module("notosportal.core").factory("common",t),t.$inject=["$q","$rootScope","$timeout","logger"]}(),function(){"use strict";function t(t){t.options.timeOut=4e3,t.options.closeButton=!0,t.options.progressBar=!0,t.options.positionClass="toast-bottom-right"}function n(t,n,e,o,r,i){function c(){e.config.$urlRouterProvider=t,e.config.$stateProvider=n,e.config.title=a.appTitle}function s(){o.setOptions({prefixStateName:"index",template:"bootstrap3",includeAbstract:!0})}function l(){var t="/api";r.setBaseUrl(t)}function u(){i.setAccount("UA-20593426-1"),i.setPageEvent("$stateChangeSuccess")}c(),s(),l(),u()}function e(t){t.$on("$viewContentLoaded",function(){angular.element("html, body").animate({scrollTop:0},200)})}function o(t){t.$on("$stateChangeError",function(t){t.preventDefault(),$state.go("error.404")})}var r=angular.module("notosportal.core");r.config(t),t.$inject=["toastr"];var a={appErrorPrefix:"[Fout] ",appTitle:"VBS De Klimtoren",version:"1.0.0"};r.value("config",a),r.config(n),r.run(e),r.run(o),r.run(["Analytics",function(t){}]),n.$inject=["$urlRouterProvider","$stateProvider","routehelperConfigProvider","$breadcrumbProvider","RestangularProvider","AnalyticsProvider"],e.$inject=["$rootScope"],o.$inject=["$rootScope"]}(),function(){"use strict";angular.module("notosportal.core").constant("toastr",toastr).constant("moment",moment).constant("gapi",gapi)}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"error",config:{"abstract":!0,url:"/error",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"Fout"}},{state:"error.404",config:{url:"/404",views:{"content@error":{templateUrl:"js/modules/core/errors/404.html"}},title:"Pagina in opbouw"}}]}angular.module("notosportal.core").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t,n){function e(){FB.init({appId:"466280350201960",channelUrl:"js/modules/core/fb-channel.html",cookie:!0,xfbml:!0,version:"v2.3"})}t.fbAsyncInit=function(){e(),n.$broadcast("fb.init")},function(t){var n,e="facebook-jssdk",o=t.getElementsByTagName("script")[0];t.getElementById(e)||(n=t.createElement("script"),n.id=e,n.async=!0,n.src="//connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(n,o))}(document)}angular.module("notosportal.core").run(t),t.$inject=["$window","common"]}(),function(){"use strict";function t(t){function n(){t.getList().then(function(t){e.blogs=t,$(window).resize()})}var e=this;e.blogs=[],n()}angular.module("notosportal.dashboard").controller("BannersetController",t),t.$inject=["Blog"]}(),function(){"use strict";function t(t,n){function e(){o.collections=t.take(4),n.campaigns(3).then(function(t){o.campaigns=t})}var o=this;o.facebookurl="https://www.facebook.com/vbsdeklimtoren",o.collections=[],o.campaigns=[],e()}angular.module("notosportal.dashboard").controller("DashboardController",t),t.$inject=["GPCollections","MailChimp"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"index",config:{"abstract":!0,url:"/index",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"start"}},{state:"index.dashboard",config:{url:"/dashboard",views:{"content@index":{templateUrl:"js/modules/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm"},"slider@index":{templateUrl:"js/modules/dashboard/slider.html"},"banner-set@index":{templateUrl:"js/modules/dashboard/banner-set.html",controller:"BannersetController",controllerAs:"vm"}},title:"Dashboard"}}]}angular.module("notosportal.dashboard").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t,n){var e;return e=n("http"),t.withConfig(function(t){t.setDefaultHttpFields({cache:e}),t.setResponseInterceptor(function(t,n){return("put"===n||"post"===n||"delete"===n)&&e.removeAll(),t}),t.setOnElemRestangularized(function(t,n){return t.clearCache=function(){e.removeAll()},t})})}angular.module("notosportal.data").factory("HTTPCache",t),t.$inject=["Restangular","$cacheFactory"]}(),function(){"use strict";function t(t){function n(){function n(t){e.campaigns=t}t.campaigns().then(n),t.mailToSegments().then(function(t){console.log(t)})}var e=this;e.campaigns=[],n()}angular.module("notosportal.info").controller("CampaignsController",t),t.$inject=["MailChimp"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"info",config:{"abstract":!0,url:"/info",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"Info"}},{state:"info.contact",config:{url:"/contact",views:{"content@info":{templateUrl:"js/modules/info/contact.html"}},title:"Contact"}},{state:"info.about",config:{url:"/about",views:{"content@info":{templateUrl:"js/modules/info/about.html"}},title:"Over onze school"}},{state:"info.care",config:{url:"/care",views:{"content@info":{templateUrl:"js/modules/info/care.html"}},title:"Zorg op onze school"}},{state:"info.team",config:{url:"/team",views:{"content@info":{templateUrl:"js/modules/info/team.html"}},title:"Ons team"}},{state:"info.calendar",config:{url:"/calendar",views:{"content@info":{templateUrl:"js/modules/info/calendar.html"}},title:"Kalender"}},{state:"info.campaigns",config:{url:"/campaigns",views:{"content@info":{templateUrl:"js/modules/info/campaigns.html",controller:"CampaignsController",controllerAs:"vm"}},title:"Nieuwsbrieven"}}]}angular.module("notosportal.info").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t,n){function e(){t.memberCount().then(function(t){o.campaign_members=t.data.stats.member_count})}var o=this;o.campaign_members=0,e()}angular.module("notosportal.layout").controller("ShellController",t),t.$inject=["MailChimp","$state"]}(),function(){"use strict";function t(t,n,e){function o(){function t(t){return t}return n.realmOfDomain("klimtoren.be").then(t)}function r(){function n(n){t.service("organization/"+n.id+"/blogs").getList().then(function(t){return r.resolve(t)})}var r=e.defer();return o().then(n),r.promise}var a={getList:r};return a}angular.module("notosportal.links").factory("Blog",t),t.$inject=["HTTPCache","ProfileService","$q"]}(),function(){"use strict";function t(){function t(){return o}function n(t){for(var n=[],e=0;t>e&&e<o.length;)n.push(o[e]),e++;return n}var e={get:t,take:n},o=[{name:"2015-2016",href:"https://plus.google.com/b/103406123671942529660/collection/sYLa3",preview:"https://lh3.googleusercontent.com/-G-Qj-TTAW2M/VfbE9gxgSRI/AAAAAAAADZ0/NfJmsesxHIg/w738-h492-no/DSC_0026.JPG"},{name:"2014-2015",href:"https://plus.google.com/b/103406123671942529660/collection/U5aa3",preview:"https://lh3.googleusercontent.com/-WuQRYCenP8w/VelsvrGL-fI/AAAAAAAAAqI/rj6IT0gPJWM/w777-h583-no/DSCN3028.JPG"},{name:"2013-2014",href:"https://plus.google.com/b/103406123671942529660/collection/EoNP2",preview:"https://lh3.googleusercontent.com/-XuNc8zcK6cg/VelygWhfKUI/AAAAAAAAAvQ/8EZzWBFBgdA/w777-h583-no/IMG_2789.JPG"}];return e}angular.module("notosportal.media").factory("GPCollections",t)}(),function(){"use strict";function t(t,n){function e(n){function e(t){var e=[],o=0;return angular.forEach(t.data.campaigns,function(t){t.recipients.segment_opts||(!o||n>o)&&(e.push(t),o++)}),e}return t.get("/api/mailchimp/campaigns").then(e)}function o(){function n(t){var n=[];return angular.forEach(t.data.campaigns,function(t){t.recipients.segment_opts&&(console.log(t.recipients.segment_opts),n.push(t))}),n}return t.get("/api/mailchimp/campaigns").then(n)}function r(){function n(t){return t.data}return t.get("/api/mailchimp/member_count").success(n)}function a(){t.get("/api/mailchimp/lists/"+i+"/categories").then(function(t){console.log(t)})}var i=204325,c={campaigns:e,mailToSegments:o,memberCount:r,interests:a};return c}angular.module("notosportal.media").factory("MailChimp",t),t.$inject=["$http","$q"]}(),function(){"use strict";function t(t){t.configureStates(n())}function n(){return[{state:"media",config:{"abstract":!0,url:"/media",views:{"main@":{templateUrl:"js/modules/layout/main.html"}},title:"in beeld"}},{state:"media.photos",config:{url:"/photos",views:{"content@media":{templateUrl:"js/modules/media/photos.html",controller:"PhotoController",controllerAs:"vm"}},title:"foto's"}},{state:"media.videos",config:{url:"/videos",views:{"content@media":{templateUrl:"js/modules/media/videos.html",controller:"VideoController",controllerAs:"vm"}},title:"video's"}}]}angular.module("notosportal.info").run(t),t.$inject=["routehelper"]}(),function(){"use strict";function t(t){function n(){e.collections=t.get()}var e=this;e.collections=[],n()}angular.module("notosportal.media").controller("PhotoController",t),t.$inject=["GPCollections"]}(),function(){"use strict";function t(){function t(t,n,e){function o(){var t=e.appearAnimationDelay||1;t>1&&$(n).css("animation-delay",t+"ms"),$(n).addClass("animated").addClass(e.appearAnimation)}angular.element("body").hasClass("no-csstransitions")||$(n).bind("appear",o)}var n={restrict:"A",link:t};return n}angular.module("notosportal.widgets").directive("appearAnimation",t)}(),function(){"use strict";function t(t){function n(n,e,o){e.addClass("fwb-bg fwb-blur"),t(function(){var n=new Image,r='<div class="blur-box"/>';e.find("canvas").length||(o.image?n.src=o.image:"none"!==e.css("background-image")&&(n.src=e.css("background-image").replace("url(","").replace(")",""),e.css("background-image","none")),n.onload=function(){Pixastic.process(n,"blurfast",{amount:o.amount||2})},e.prepend(r).find(".blur-box").prepend(n)),t(function(){var t=e.find("canvas");t.width()==e.width()?t.css({marginLeft:0,marginTop:-((t.height()-e.height())/2)}):t.css({marginTop:0,marginLeft:-((t.width()-e.width())/2)}),$("body").addClass("blur-load")},50)})}var e={restrict:"A",link:n};return e}angular.module("notosportal.widgets").directive("blur",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(){function t(t,n,e){n.find(".gallery-images, .lightbox").fancybox({nextEffect:"fade",prevEffect:"fade",openEffect:"fade",closeEffect:"fade",helpers:{overlay:{locked:!1},title:{type:"over"}},tpl:{closeBtn:'<a title="Sluiten" class="fancybox-item fancybox-close" href="javascript:;">Ã—</a>',next:'<a title="Volgende" class="fancybox-nav fancybox-next" href="javascript:;">\n						<span><svg x="0" y="0" width="9px" height="16px" viewBox="0 0 9 16" enable-background="new 0 0 9 16" xml:space="preserve"><polygon fill-rule="evenodd" clip-rule="evenodd" fill="#fcfcfc" points="1,0.001 0,1.001 7,8 0,14.999 1,15.999 9,8 "/></svg></span>\n					</a>',prev:'<a title="Vorige" class="fancybox-nav fancybox-prev" href="javascript:;">\n						<span><svg x="0" y="0" width="9px" height="16px" viewBox="0 0 9 16" enable-background="new 0 0 9 16" xml:space="preserve"><polygon fill-rule="evenodd" clip-rule="evenodd" fill="#fcfcfc" points="8,15.999 9,14.999 2,8 9,1.001 8,0.001 0,8 "/></svg></span>\n					</a>'}})}var n={restrict:"A",link:t};return n}angular.module("notosportal.widgets").directive("fancybox",t)}(),function(){"use strict";function t(){function t(t,n){n.addClass("livicon"),n.addLivicon()}var n={restrict:"A",replace:!0,scope:!1,link:t};return n}angular.module("notosportal.widgets").directive("livicon",t)}(),function(){"use strict";function t(t,n){function e(e,o,r){t(function(){function t(){var t=o.offset().top,r=n.pageYOffset;t>r?o.css({backgroundPosition:"50% "+(t-r)/e+"px"}):o.css({backgroundPosition:"50% "+-(t-r)/e+"px"})}o.addClass("fwb-bg fwb-blur");var e=r.speed||3;t(),angular.element(n).bind("scroll",t)})}var o={restrict:"A",link:e};return o}angular.module("notosportal.widgets").directive("paralax",t),t.$inject=["$timeout","$window"]}(),function(){"use strict";function t(t){function n(n,e,o){t(function(){var t=e;if(t.closest(".rs-slider").hasClass("full-width")){var n,o=angular.element("body"),r=(o.width(),0),a=104;angular.element("#top-box").length&&o.hasClass("hidden-top")&&(r=angular.element("#top-box").outerHeight()-32),n=o.width()>=1200?o.height()-(r+a):800,t.revolution({delay:6e3,startwidth:1200,startheight:n,hideThumbs:10,navigationType:"bullet",navigationArrows:"solo",navigationHAlign:"center",navigationVAlign:"top",navigationHOffset:-545,navigationVOffset:30,hideTimerBar:"on"}).parent().parent().removeClass("load")}else t.revolution({delay:6e3,startwidth:1200,startheight:500,hideThumbs:10,navigationType:"none",onHoverStop:"off"}).parent().parent().removeClass("load")})}var e={restrict:"A",link:n};return e}angular.module("notosportal.widgets").directive("rsSlider",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(){this.config={appErrorPrefix:void 0},this.configure=function(t){this.config.appErrorPrefix=t},this.$get=function(){return{config:this.config}}}function n(t){t.decorator("$exceptionHandler",e)}function e(t,n,e){return function(o,r){var a=n.config.appErrorPrefix||"",i={exception:o,cause:r};o.message=a+o.message,t(o,r),e.error(o.message,i)}}angular.module("blocks.exception").provider("exceptionHandler",t).config(n),n.$inject=["$provide"],e.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function t(t){function n(n){return function(e){t.error(n,e)}}var e={catcher:n};return e}angular.module("blocks.exception").factory("exception",t),t.$inject=["logger"]}(),function(){"use strict";function t(t,n){function e(e,o,r){n.error(e,r),t.error("Fout: "+e,o)}function o(e,o,r){n.info(e,r),t.info("Info: "+e,o)}function r(e,o,r){n.success(e,r),t.info("Succes: "+e,o)}function a(e,o,r){n.warning(e,r),t.warn("Let op: "+e,o)}function i(e,o,r){n.warning(e,r),t.warn("Verwijderd: "+e,o)}function c(e,o,r){n.success(e,r),t.info("Bewaard: "+e,o)}var s={showToasts:!0,error:e,info:o,success:r,warning:a,removed:i,saved:c,log:t.log};return s}angular.module("blocks.logger").factory("logger",t),t.$inject=["$log","toastr"]}(),function(){"use strict";function t(){this.config={},this.$get=function(){return{config:this.config}}}function n(t,n,e){function o(t){t.forEach(function(t){t.config.title&&(t.config.ncyBreadcrumb={label:t.config.title.toLowerCase()}),l.state(t.state,t.config)})}function r(){return e.get()}function a(t){var n=null;return r().forEach(function(e){e.name===t&&(n=e)}),n}function i(){c(),s.otherwise("/error/404")}function c(){n.$on("$stateChangeSuccess",function(e,o,r){var a=t.config.title+(o.title?" | "+o.title:"");n.title=a,n.$state=o})}var s=t.config.$urlRouterProvider,l=t.config.$stateProvider,u={configureStates:o,states:r,get:a};return i(),u}angular.module("blocks.router").provider("routehelperConfig",t).factory("routehelper",n),n.$inject=["routehelperConfig","$rootScope","$state"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdG9zcG9ydGFsLm1vZHVsZS5qcyIsImF1dGgvYXV0aC5tb2R1bGUuanMiLCJjb3JlL2NvcmUubW9kdWxlLmpzIiwiZGFzaGJvYXJkL2Rhc2hib2FyZC5tb2R1bGUuanMiLCJkYXRhL2RhdGEubW9kdWxlLmpzIiwiaW5mby9pbmZvLm1vZHVsZS5qcyIsImxheW91dC9sYXlvdXQubW9kdWxlLmpzIiwibGlua3MvbGlua3MubW9kdWxlLmpzIiwibWVkaWEvbWVkaWEubW9kdWxlLmpzIiwid2lkZ2V0cy93aWRnZXRzLm1vZHVsZS5qcyIsImJsb2Nrcy9leGNlcHRpb24vZXhjZXB0aW9uLm1vZHVsZS5qcyIsImJsb2Nrcy9sb2dnZXIvbG9nZ2VyLm1vZHVsZS5qcyIsImJsb2Nrcy9yb3V0ZXIvcm91dGVyLm1vZHVsZS5qcyIsImF1dGgvcHJvZmlsZS5qcyIsImFwcC5taW4uanMiLCJjb3JlL2Jhc2U2NC5qcyIsImNvcmUvY29tbW9uLmpzIiwiY29yZS9jb25maWcuanMiLCJjb3JlL2NvbnN0YW50cy5qcyIsImNvcmUvZXJyb3Iucm91dGVzLmpzIiwiY29yZS9zb2NpYWwuanMiLCJkYXNoYm9hcmQvYmFubmVyLXNldC5jb250cm9sbGVyLmpzIiwiZGFzaGJvYXJkL2Rhc2hib2FyZC5jb250cm9sbGVyLmpzIiwiZGFzaGJvYXJkL2Rhc2hib2FyZC5yb3V0ZXMuanMiLCJkYXRhL3Jlc3Rhbmd1bGFyLmNhY2hlLmpzIiwiaW5mby9jYW1wYWlnbnMuY29udHJvbGxlci5qcyIsImluZm8vaW5mby5yb3V0ZXMuanMiLCJsYXlvdXQvc2hlbGwuY29udHJvbGxlci5qcyIsImxpbmtzL2Jsb2cuanMiLCJtZWRpYS9nb29nbGUucGx1cy5jb2xsZWN0aW9ucy5qcyIsIm1lZGlhL21haWxjaGltcC5qcyIsIm1lZGlhL21lZGlhLnJvdXRlcy5qcyIsIm1lZGlhL3Bob3RvLmNvbnRyb2xsZXIuanMiLCJ3aWRnZXRzL2FwcGVhci5kaXJlY3RpdmUuanMiLCJ3aWRnZXRzL2JsdXIuZGlyZWN0aXZlLmpzIiwid2lkZ2V0cy9mYW5jeWJveC5kaXJlY3RpdmUuanMiLCJ3aWRnZXRzL2xpdmljb24uZGlyZWN0aXZlLmpzIiwid2lkZ2V0cy9wYXJhbGF4LmRpcmVjdGl2ZS5qcyIsIndpZGdldHMvcnNzbGlkZXIuZGlyZWN0aXZlLmpzIiwiYmxvY2tzL2V4Y2VwdGlvbi9leGNlcHRpb24taGFuZGxlci5wcm92aWRlci5qcyIsImJsb2Nrcy9leGNlcHRpb24vZXhjZXB0aW9uLmpzIiwiYmxvY2tzL2xvZ2dlci9sb2dnZXIuanMiLCJibG9ja3Mvcm91dGVyL3JvdXRlaGVscGVyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJQcm9maWxlU2VydmljZSIsIiRodHRwIiwiZXhjZXB0aW9uIiwiJHEiLCJjb21tb24iLCJjb25maWciLCJjdXJyZW50IiwiZm9yY2VSZWZyZXNoIiwiZ2V0Q3VycmVudENvbXBsZXRlIiwicmVzcG9uc2UiLCJjYWNoZSIsImRhdGEiLCJzZXJ2aWNlIiwic2V0UmVhbG0iLCJyZWFsbSIsIndoZW4iLCJnZXQiLCJ0aGVuIiwibWVzc2FnZSIsImNhdGNoZXIiLCJfcmVhbG0iLCJyZWFsbU9mRG9tYWluIiwiZG9tYWluIiwiZ2V0T2ZEb21haW5Db21wbGV0ZSIsImV2ZW50cyIsImZhY3RvcnkiLCIkaW5qZWN0IiwiQmFzZTY0IiwiZW5jb2RlIiwiaW5wdXQiLCJjaHIxIiwiY2hyMiIsImVuYzEiLCJlbmMyIiwiZW5jMyIsIm91dHB1dCIsImNocjMiLCJlbmM0IiwiaSIsImNoYXJDb2RlQXQiLCJpc05hTiIsImtleVN0ciIsImNoYXJBdCIsImxlbmd0aCIsImRlY29kZSIsImJhc2U2NHRlc3QiLCJleGVjIiwid2luZG93IiwiYWxlcnQiLCJyZXBsYWNlIiwiaW5kZXhPZiIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsIiRyb290U2NvcGUiLCIkdGltZW91dCIsImxvZ2dlciIsIiRicm9hZGNhc3QiLCJhcHBseSIsImFyZ3VtZW50cyIsImlzTnVtYmVyIiwidmFsIiwidGVzdCIsInRleHRDb250YWlucyIsInRleHQiLCJzZWFyY2hUZXh0IiwidG9Mb3dlckNhc2UiLCJ0b2FzdHJDb25maWciLCJ0b2FzdHIiLCJvcHRpb25zIiwidGltZU91dCIsImNsb3NlQnV0dG9uIiwicHJvZ3Jlc3NCYXIiLCJwb3NpdGlvbkNsYXNzIiwiY29uZmlndXJlIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJHN0YXRlUHJvdmlkZXIiLCJyb3V0ZWhlbHBlckNvbmZpZ1Byb3ZpZGVyIiwiJGJyZWFkY3J1bWJQcm92aWRlciIsIlJlc3Rhbmd1bGFyUHJvdmlkZXIiLCJBbmFseXRpY3NQcm92aWRlciIsImNvbmZpZ3VyZVJvdXRpbmciLCJ0aXRsZSIsImFwcFRpdGxlIiwiY29uZmlndXJlQnJlYWRjcnVtYiIsInNldE9wdGlvbnMiLCJwcmVmaXhTdGF0ZU5hbWUiLCJ0ZW1wbGF0ZSIsImluY2x1ZGVBYnN0cmFjdCIsImNvbmZpZ3VyZVJlc3Rhbmd1bGFyIiwiYmFzZVVybCIsInNldEJhc2VVcmwiLCJjb25maWd1cmVHb29nbGVBbmFseXRpY3MiLCJzZXRBY2NvdW50Iiwic2V0UGFnZUV2ZW50IiwiYWZ0ZXJWaWV3Q29udGVudExvYWRlZCIsIiRvbiIsImVsZW1lbnQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwic2V0NDA0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIiRzdGF0ZSIsImdvIiwiY29yZSIsImFwcEVycm9yUHJlZml4IiwidmVyc2lvbiIsInZhbHVlIiwicnVuIiwiQW5hbHl0aWNzIiwiY29uc3RhbnQiLCJtb21lbnQiLCJnYXBpIiwiY29uZmlnUm91dGVzIiwicm91dGVoZWxwZXIiLCJjb25maWd1cmVTdGF0ZXMiLCJnZXRTdGF0ZXMiLCJzdGF0ZSIsImFic3RyYWN0IiwidXJsIiwidmlld3MiLCJtYWluQCIsInRlbXBsYXRlVXJsIiwiY29udGVudEBlcnJvciIsImZhY2Vib29rSW5pdCIsIiR3aW5kb3ciLCJpbml0RmFjZWJvb2siLCJGQiIsImluaXQiLCJhcHBJZCIsImNoYW5uZWxVcmwiLCJjb29raWUiLCJ4ZmJtbCIsImZiQXN5bmNJbml0IiwiZCIsImpzIiwiaWQiLCJyZWYiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlRWxlbWVudCIsImFzeW5jIiwic3JjIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImRvY3VtZW50IiwiQmFubmVyc2V0Q29udHJvbGxlciIsIkJsb2ciLCJhY3RpdmF0ZSIsImdldExpc3QiLCJ2bSIsImJsb2dzIiwiJCIsInJlc2l6ZSIsInRoaXMiLCJjb250cm9sbGVyIiwiRGFzaGJvYXJkQ29udHJvbGxlciIsIkdQQ29sbGVjdGlvbnMiLCJNYWlsQ2hpbXAiLCJjb2xsZWN0aW9ucyIsInRha2UiLCJjYW1wYWlnbnMiLCJmYWNlYm9va3VybCIsImNvbnRlbnRAaW5kZXgiLCJjb250cm9sbGVyQXMiLCJzbGlkZXJAaW5kZXgiLCJiYW5uZXItc2V0QGluZGV4IiwiSFRUUENhY2hlIiwiUmVzdGFuZ3VsYXIiLCIkY2FjaGVGYWN0b3J5Iiwid2l0aENvbmZpZyIsIlJlc3Rhbmd1bGFyQ29uZmlndXJlciIsInNldERlZmF1bHRIdHRwRmllbGRzIiwic2V0UmVzcG9uc2VJbnRlcmNlcHRvciIsIm9wZXJhdGlvbiIsInJlbW92ZUFsbCIsInNldE9uRWxlbVJlc3Rhbmd1bGFyaXplZCIsImVsZW0iLCJpc0NvbGxlY3Rpb24iLCJjbGVhckNhY2hlIiwiQ2FtcGFpZ25zQ29udHJvbGxlciIsImNhbXBhaWduc1N1Y2Nlc3MiLCJtYWlsVG9TZWdtZW50cyIsImNvbnNvbGUiLCJsb2ciLCJjb250ZW50QGluZm8iLCJTaGVsbENvbnRyb2xsZXIiLCJtZW1iZXJDb3VudCIsImNhbXBhaWduX21lbWJlcnMiLCJzdGF0cyIsIm1lbWJlcl9jb3VudCIsImdldFJlYWxtIiwiZ2V0UHJvZmlsZUNvbXBsZXRlIiwiZ2V0UmVhbG1Db21wbGV0ZSIsImRlZmVycmVkIiwicmVzb2x2ZSIsImRlZmVyIiwicHJvbWlzZSIsIm51bWJlciIsInJlc3VsdCIsInB1c2giLCJuYW1lIiwiaHJlZiIsInByZXZpZXciLCJmb3JFYWNoIiwiY2FtcGFpZ24iLCJyZWNpcGllbnRzIiwic2VnbWVudF9vcHRzIiwibWVtYmVyQ291bnRTdWNjZXNzIiwic3VjY2VzcyIsImludGVyZXN0cyIsIm5ld3NsZXR0ZXJfaWQiLCJjb250ZW50QG1lZGlhIiwiUGhvdG9Db250cm9sbGVyIiwiYXBwZWFyQW5pbWF0aW9uIiwibGlua0Z1bmMiLCJzY29wZSIsImF0dHJzIiwiYXBwZWFyIiwiZGVsYXkiLCJhcHBlYXJBbmltYXRpb25EZWxheSIsImNzcyIsImFkZENsYXNzIiwiaGFzQ2xhc3MiLCJiaW5kIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJsaW5rIiwiYmx1ciIsImltZyIsIkltYWdlIiwicHJlcGVuZEJveCIsImZpbmQiLCJpbWFnZSIsIm9ubG9hZCIsIlBpeGFzdGljIiwicHJvY2VzcyIsImFtb3VudCIsInByZXBlbmQiLCJjYW52YXMiLCJ3aWR0aCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Ub3AiLCJoZWlnaHQiLCJmYW5jeWJveCIsIm5leHRFZmZlY3QiLCJwcmV2RWZmZWN0Iiwib3BlbkVmZmVjdCIsImNsb3NlRWZmZWN0IiwiaGVscGVycyIsIm92ZXJsYXkiLCJsb2NrZWQiLCJ0eXBlIiwidHBsIiwiY2xvc2VCdG4iLCJuZXh0IiwicHJldiIsImxpdmljb24iLCJhZGRMaXZpY29uIiwicGFyYWxheCIsImJnUG9zaXRpb24iLCIkdGhpc1kiLCJvZmZzZXQiLCJ0b3AiLCIkd2luZG93WSIsInBhZ2VZT2Zmc2V0IiwiYmFja2dyb3VuZFBvc2l0aW9uIiwic3BlZWQiLCJyc1NsaWRlciIsInJldm9sdXRpb25TbGlkZXIiLCJjbG9zZXN0IiwiYm9keSIsInRvcEhlaWdodCIsImhlYWRlckhlaWdodCIsIm91dGVySGVpZ2h0IiwicmV2b2x1dGlvbiIsInN0YXJ0d2lkdGgiLCJzdGFydGhlaWdodCIsImhpZGVUaHVtYnMiLCJuYXZpZ2F0aW9uVHlwZSIsIm5hdmlnYXRpb25BcnJvd3MiLCJuYXZpZ2F0aW9uSEFsaWduIiwibmF2aWdhdGlvblZBbGlnbiIsIm5hdmlnYXRpb25IT2Zmc2V0IiwibmF2aWdhdGlvblZPZmZzZXQiLCJoaWRlVGltZXJCYXIiLCJwYXJlbnQiLCJyZW1vdmVDbGFzcyIsIm9uSG92ZXJTdG9wIiwiZXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyIiwidW5kZWZpbmVkIiwiJGdldCIsIiRwcm92aWRlIiwiZGVjb3JhdG9yIiwiZXh0ZW5kRXhjZXB0aW9uSGFuZGxlciIsIiRkZWxlZ2F0ZSIsImV4Y2VwdGlvbkhhbmRsZXIiLCJjYXVzZSIsImVycm9yRGF0YSIsImVycm9yIiwicHJvdmlkZXIiLCJyZWFzb24iLCIkbG9nIiwiaW5mbyIsIndhcm5pbmciLCJ3YXJuIiwicmVtb3ZlZCIsInNhdmVkIiwic2hvd1RvYXN0cyIsInJvdXRlaGVscGVyQ29uZmlnIiwic3RhdGVzIiwibmN5QnJlYWRjcnVtYiIsImxhYmVsIiwicGF0dGVybiIsInVwZGF0ZURvY1RpdGxlIiwib3RoZXJ3aXNlIiwicHJldmlvdXMiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsWUFFQUEsU0FDQUMsT0FBQSxlQUVBLG1CQUNBLHFCQUNBLHNCQUNBLG1CQUNBLG1CQUdBLHdCQUNBLG1CQUNBLG9CQUNBLHlCQ2hCQSxXQUNBLFlBRUFELFNBQ0FDLE9BQUEsMEJDSkFELFFBQ0FDLE9BQUEsb0JBRUEsWUFBQSxhQUFBLGFBR0EsZUFDQSx5QkFDQSxjQUNBLDJCQUdBLG1CQUNBLGdCQUNBLGtCQ2RBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSwrQkNKQSxXQUNBLFlBRUFELFNBQ0FDLE9BQUEsMEJDSkEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLDBCQ0pBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSw0QkNKQSxXQUNBLFlBRUFELFNBQ0FDLE9BQUEsMkJDSkEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLDJCQ0pBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSw2QkNKQSxXQUNBLFlBRUFELFNBQ0FDLE9B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Q0FDLE9BQUEsaUJBQ0E2UyxTQUFBLG9CQUFBUyxHQUNBNVIsUUFBQSxjQUFBeUYsR0FFQUEsRUFBQXhGLFNBQUEsb0JBQUEsYUFBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsJywgW1xuICAgICAgICAgICAgLy9zaGFyZWQgbW9kdWxlc1xuICAgICAgICAgICAgJ25vdG9zcG9ydGFsLmNvcmUnLFxuICAgICAgICAgICAgJ25vdG9zcG9ydGFsLmxheW91dCcsXG4gICAgICAgICAgICAnbm90b3Nwb3J0YWwud2lkZ2V0cycsXG4gICAgICAgICAgICAnbm90b3Nwb3J0YWwuZGF0YScsXG4gICAgICAgICAgICAnbm90b3Nwb3J0YWwuYXV0aCcsXG5cbiAgICAgICAgICAgIC8vYXBwIG1vZHVsZXNcbiAgICAgICAgICAgICdub3Rvc3BvcnRhbC5kYXNoYm9hcmQnLFxuICAgICAgICAgICAgJ25vdG9zcG9ydGFsLmluZm8nLFxuICAgICAgICAgICAgJ25vdG9zcG9ydGFsLm1lZGlhJyxcbiAgICAgICAgICAgICdub3Rvc3BvcnRhbC5saW5rcydcbiAgICAgICAgXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5hdXRoJywgW10pO1xufSkoKTsiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuY29yZScsIFtcbiAgICAgICAgLy9Bbmd1bGFyXG4gICAgICAgICduZ0FuaW1hdGUnLCAnbmdTYW5pdGl6ZScsICduZ1Jlc291cmNlJyxcblxuICAgICAgICAvLzNyZCBwYXJ0eVxuICAgICAgICAndWkuYm9vdHN0cmFwJyxcbiAgICAgICAgJ25jeS1hbmd1bGFyLWJyZWFkY3J1bWInLFxuICAgICAgICAncmVzdGFuZ3VsYXInLFxuICAgICAgICAnYW5ndWxhci1nb29nbGUtYW5hbHl0aWNzJyxcblxuICAgICAgICAvL2Nyb3NzIGFwcCBtb2R1bGVzXG4gICAgICAgICdibG9ja3MuZXhjZXB0aW9uJyxcbiAgICAgICAgJ2Jsb2Nrcy5sb2dnZXInLFxuICAgICAgICAnYmxvY2tzLnJvdXRlcidcbiAgICBdKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuZGFzaGJvYXJkJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuZGF0YScsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmluZm8nLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5sYXlvdXQnLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5saW5rcycsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLm1lZGlhJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwud2lkZ2V0cycsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5leGNlcHRpb24nLCBbJ2Jsb2Nrcy5sb2dnZXInXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdibG9ja3MubG9nZ2VyJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYmxvY2tzLnJvdXRlcicsIFtcbiAgICAgICAgICAgICd1aS5yb3V0ZXInXG4gICAgICAgIF0pO1xufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLmF1dGhcbiAqIEZBQ1RPUlk6IFByb2ZpbGVcbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuYXV0aCcpXG4gICAgICAgIC5mYWN0b3J5KCdQcm9maWxlU2VydmljZScsIFByb2ZpbGVTZXJ2aWNlKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFByb2ZpbGVTZXJ2aWNlKCRodHRwLCBleGNlcHRpb24sICRxLCBjb21tb24sIGNvbmZpZykge1xuICAgICAgICB2YXIgY2FjaGUgPSBudWxsO1xuICAgICAgICB2YXIgX3JlYWxtID0gbnVsbDtcbiAgICAgICAgdmFyIGV2ZW50cyA9IGNvbmZpZy5ldmVudHM7XG5cbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBjdXJyZW50OiBjdXJyZW50LFxuICAgICAgICAgICAgcmVhbG06IHJlYWxtLFxuICAgICAgICAgICAgc2V0UmVhbG06IHNldFJlYWxtLFxuICAgICAgICAgICAgcmVhbG1PZkRvbWFpbjogcmVhbG1PZkRvbWFpblxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGN1cnJlbnQoZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgICBpZiAoY2FjaGUgJiYgIWZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgICAgICAgIC8vc2hvdWxkIHJldHVybiBwcm9taXNlXG4gICAgICAgICAgICAgICAgcmV0dXJuICRxLndoZW4oY2FjaGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXIvcHJvZmlsZScpXG4gICAgICAgICAgICAgICAgLnRoZW4oZ2V0Q3VycmVudENvbXBsZXRlKVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBleGNlcHRpb24uY2F0Y2hlcignUHJvZmllbCB2YW4gZGUgaHVpZGlnZSBnZWJydWlrZXIgb3B2cmFnZW4sIGx1a3QgbmlldC4nKShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRDdXJyZW50Q29tcGxldGUocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjYWNoZSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgc2VydmljZS5zZXRSZWFsbShyZXNwb25zZS5kYXRhLnJlYWxtKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVhbG0oKSB7XG4gICAgICAgICAgICByZXR1cm4gX3JlYWxtOyAvL3N5bmNocm9ub3VzLCBhcyBhc3luYyBkYXRhIHdhcyBoZXJlIGF0IGluaXRpYWxpemF0aW9uXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZXRSZWFsbShyZWFsbSkge1xuICAgICAgICAgICAgLy9yZWFsbS5kb21haW5fbmFtZT0gcmVhbG0uZG9tYWluX25hbWUucmVwbGFjZSgvXFwuL2csICdfJyk7XG4gICAgICAgICAgICBfcmVhbG0gPSByZWFsbTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVhbG1PZkRvbWFpbihkb21haW4sIGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgICAgaWYgKGNhY2hlICYmICFmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHEud2hlbihjYWNoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3JlYWxtP29mRG9tYWluPScgKyBkb21haW4pXG4gICAgICAgICAgICAgICAgLnRoZW4oZ2V0T2ZEb21haW5Db21wbGV0ZSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhjZXB0aW9uLmNhdGNoZXIoJ1JlYWxtIHZhbiAnICsgZG9tYWluICsgJyBvcHZyYWdlbiBsdWt0IG5pZXQuJykobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldE9mRG9tYWluQ29tcGxldGUocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjYWNoZSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgc2VydmljZS5zZXRSZWFsbShyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pXG4oKTsiLG51bGwsIi8qKlxuICogbm90b3Nwb3J0YWwuY29yZVxuICogRkFDVE9SWTogQmFzZTY0XG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmNvcmUnKVxuICAgICAgICAuZmFjdG9yeSgnQmFzZTY0JywgQmFzZTY0KTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEJhc2U2NCgpIHtcbiAgICAgICAgdmFyIGtleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgICAgICAgICBkZWNvZGU6IGRlY29kZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGNocjEsIGNocjIsIGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGVuYzEsIGVuYzIsIGVuYzMsIGVuYzQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgY2hyMSA9IGlucHV0LmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgICAgICAgICBjaHIyID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuICAgICAgICAgICAgICAgIGNocjMgPSBpbnB1dC5jaGFyQ29kZUF0KGkrKyk7XG5cbiAgICAgICAgICAgICAgICBlbmMxID0gY2hyMSA+PiAyO1xuICAgICAgICAgICAgICAgIGVuYzIgPSAoKGNocjEgJiAzKSA8PCA0KSB8IChjaHIyID4+IDQpO1xuICAgICAgICAgICAgICAgIGVuYzMgPSAoKGNocjIgJiAxNSkgPDwgMikgfCAoY2hyMyA+PiA2KTtcbiAgICAgICAgICAgICAgICBlbmM0ID0gY2hyMyAmIDYzO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGNocjIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuYzMgPSBlbmM0ID0gNjQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc05hTihjaHIzKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmM0ID0gNjQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICtcbiAgICAgICAgICAgICAgICAgICAga2V5U3RyLmNoYXJBdChlbmMxKSArXG4gICAgICAgICAgICAgICAgICAgIGtleVN0ci5jaGFyQXQoZW5jMikgK1xuICAgICAgICAgICAgICAgICAgICBrZXlTdHIuY2hhckF0KGVuYzMpICtcbiAgICAgICAgICAgICAgICAgICAga2V5U3RyLmNoYXJBdChlbmM0KTtcbiAgICAgICAgICAgICAgICBjaHIxID0gY2hyMiA9IGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGVuYzEgPSBlbmMyID0gZW5jMyA9IGVuYzQgPSBcIlwiO1xuICAgICAgICAgICAgfSB3aGlsZSAoaSA8IGlucHV0Lmxlbmd0aCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGNocjEsIGNocjIsIGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGVuYzEsIGVuYzIsIGVuYzMsIGVuYzQgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgYWxsIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IEEtWiwgYS16LCAwLTksICssIC8sIG9yID1cbiAgICAgICAgICAgIHZhciBiYXNlNjR0ZXN0ID0gL1teQS1aYS16MC05XFwrXFwvXFw9XS9nO1xuICAgICAgICAgICAgaWYgKGJhc2U2NHRlc3QuZXhlYyhpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoXCJUaGVyZSB3ZXJlIGludmFsaWQgYmFzZTY0IGNoYXJhY3RlcnMgaW4gdGhlIGlucHV0IHRleHQuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIlZhbGlkIGJhc2U2NCBjaGFyYWN0ZXJzIGFyZSBBLVosIGEteiwgMC05LCAnKycsICcvJyxhbmQgJz0nXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdCBlcnJvcnMgaW4gZGVjb2RpbmcuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL1xcPV0vZywgXCJcIik7XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBlbmMxID0ga2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpO1xuICAgICAgICAgICAgICAgIGVuYzIgPSBrZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG4gICAgICAgICAgICAgICAgZW5jMyA9IGtleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcbiAgICAgICAgICAgICAgICBlbmM0ID0ga2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpO1xuXG4gICAgICAgICAgICAgICAgY2hyMSA9IChlbmMxIDw8IDIpIHwgKGVuYzIgPj4gNCk7XG4gICAgICAgICAgICAgICAgY2hyMiA9ICgoZW5jMiAmIDE1KSA8PCA0KSB8IChlbmMzID4+IDIpO1xuICAgICAgICAgICAgICAgIGNocjMgPSAoKGVuYzMgJiAzKSA8PCA2KSB8IGVuYzQ7XG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGNocjEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVuYzMgIT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaHIyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVuYzQgIT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaHIzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjaHIxID0gY2hyMiA9IGNocjMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGVuYzEgPSBlbmMyID0gZW5jMyA9IGVuYzQgPSBcIlwiO1xuXG4gICAgICAgICAgICB9IHdoaWxlIChpIDwgaW5wdXQubGVuZ3RoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH07XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwuY29yZVxuICogRkFDVE9SWTogY29tbW9uXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmNvcmUnKVxuICAgICAgICAuZmFjdG9yeSgnY29tbW9uJywgY29tbW9uKTtcblxuICAgIGZ1bmN0aW9uIGNvbW1vbigkcSwgJHJvb3RTY29wZSwgJHRpbWVvdXQsIGxvZ2dlcikge1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgLy8gY29tbW9uIGFuZ3VsYXIgZGVwZW5kZW5jaWVzXG4gICAgICAgICAgICAkYnJvYWRjYXN0OiAkYnJvYWRjYXN0LFxuICAgICAgICAgICAgJHE6ICRxLFxuICAgICAgICAgICAgJHRpbWVvdXQ6ICR0aW1lb3V0LFxuICAgICAgICAgICAgLy8gZ2VuZXJpY1xuICAgICAgICAgICAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICAgICAgICAgICAgbG9nZ2VyOiBsb2dnZXIsXG4gICAgICAgICAgICB0ZXh0Q29udGFpbnM6IHRleHRDb250YWluc1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbiAgICAgICAgZnVuY3Rpb24gJGJyb2FkY2FzdCgpIHtcbiAgICAgICAgICAgIHJldHVybiAkcm9vdFNjb3BlLiRicm9hZGNhc3QuYXBwbHkoJHJvb3RTY29wZSwgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gICAgICAgICAgICAvLyBuZWdhdGl2ZSBvciBwb3NpdGl2ZVxuICAgICAgICAgICAgcmV0dXJuICgvXlstXT9cXGQrJC8pLnRlc3QodmFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHRleHRDb250YWlucyh0ZXh0LCBzZWFyY2hUZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dCAmJiAtMSAhPT0gdGV4dC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc2VhcmNoVGV4dC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY29yZSA9IGFuZ3VsYXIubW9kdWxlKCdub3Rvc3BvcnRhbC5jb3JlJyk7XG5cbiAgICBjb3JlLmNvbmZpZyh0b2FzdHJDb25maWcpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gdG9hc3RyQ29uZmlnKHRvYXN0cikge1xuICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gNDAwMDtcbiAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xuICAgICAgICB0b2FzdHIub3B0aW9ucy5wcm9ncmVzc0JhciA9IHRydWU7XG4gICAgICAgIHRvYXN0ci5vcHRpb25zLnBvc2l0aW9uQ2xhc3MgPSAndG9hc3QtYm90dG9tLXJpZ2h0JztcbiAgICB9XG5cbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICBhcHBFcnJvclByZWZpeDogJ1tGb3V0XSAnLFxuICAgICAgICBhcHBUaXRsZTogJ1ZCUyBEZSBLbGltdG9yZW4nLFxuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnXG4gICAgfTtcblxuICAgIGNvcmUudmFsdWUoJ2NvbmZpZycsIGNvbmZpZyk7XG5cbiAgICBjb3JlLmNvbmZpZyhjb25maWd1cmUpO1xuXG4gICAgY29yZS5ydW4oYWZ0ZXJWaWV3Q29udGVudExvYWRlZCk7XG5cbiAgICBjb3JlLnJ1bihzZXQ0MDQpO1xuXG4gICAgY29yZS5ydW4oZnVuY3Rpb24oQW5hbHl0aWNzKSB7fSk7IC8vSW5qZWN0IG9uY2UgZm9yIGF1dG9tYXRpYyBwYWdlLXRyYWNraW5nXG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb25maWd1cmUoJHVybFJvdXRlclByb3ZpZGVyLCAkc3RhdGVQcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgcm91dGVoZWxwZXJDb25maWdQcm92aWRlciwgJGJyZWFkY3J1bWJQcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgUmVzdGFuZ3VsYXJQcm92aWRlciwgQW5hbHl0aWNzUHJvdmlkZXIpIHtcblxuICAgICAgICBjb25maWd1cmVSb3V0aW5nKCk7XG4gICAgICAgIGNvbmZpZ3VyZUJyZWFkY3J1bWIoKTtcblxuICAgICAgICBjb25maWd1cmVSZXN0YW5ndWxhcigpO1xuICAgICAgICBjb25maWd1cmVHb29nbGVBbmFseXRpY3MoKTtcblxuICAgICAgICBmdW5jdGlvbiBjb25maWd1cmVSb3V0aW5nKCkge1xuICAgICAgICAgICAgcm91dGVoZWxwZXJDb25maWdQcm92aWRlci5jb25maWcuJHVybFJvdXRlclByb3ZpZGVyID0gJHVybFJvdXRlclByb3ZpZGVyO1xuICAgICAgICAgICAgcm91dGVoZWxwZXJDb25maWdQcm92aWRlci5jb25maWcuJHN0YXRlUHJvdmlkZXIgPSAkc3RhdGVQcm92aWRlcjtcblxuICAgICAgICAgICAgcm91dGVoZWxwZXJDb25maWdQcm92aWRlci5jb25maWcudGl0bGUgPSBjb25maWcuYXBwVGl0bGU7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb25maWd1cmVCcmVhZGNydW1iKCkge1xuICAgICAgICAgICAgJGJyZWFkY3J1bWJQcm92aWRlci5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgICAgICBwcmVmaXhTdGF0ZU5hbWU6ICdpbmRleCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdib290c3RyYXAzJyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlQWJzdHJhY3Q6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29uZmlndXJlUmVzdGFuZ3VsYXIoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVVybCA9ICcvYXBpJztcblxuICAgICAgICAgICAgUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRCYXNlVXJsKGJhc2VVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29uZmlndXJlR29vZ2xlQW5hbHl0aWNzKCkge1xuICAgICAgICAgICAgLy8gU2V0IGEgc2luZ2xlIGFjY291bnRcbiAgICAgICAgICAgIEFuYWx5dGljc1Byb3ZpZGVyLnNldEFjY291bnQoJ1VBLTIwNTkzNDI2LTEnKTtcbiAgICAgICAgICAgIEFuYWx5dGljc1Byb3ZpZGVyLnNldFBhZ2VFdmVudCgnJHN0YXRlQ2hhbmdlU3VjY2VzcycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gYWZ0ZXJWaWV3Q29udGVudExvYWRlZCgkcm9vdFNjb3BlKSB7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCckdmlld0NvbnRlbnRMb2FkZWQnLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sIDIwMCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2V0NDA0KCRyb290U2NvcGUpIHtcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2Vycm9yLjQwNCcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbn0pKCk7IiwiLyogZ2xvYmFsIHRvYXN0cjpmYWxzZSwgbW9tZW50OmZhbHNlICovXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5jb3JlJylcbiAgICAgICAgLmNvbnN0YW50KCd0b2FzdHInLCB0b2FzdHIpXG4gICAgICAgIC5jb25zdGFudCgnbW9tZW50JywgbW9tZW50KVxuICAgICAgICAuY29uc3RhbnQoJ2dhcGknLCBnYXBpKTtcbn0pKCk7IiwiLyoqXG4gKiBST1VURVM6IG5vdG9zcG9ydGFsLmNvcmVcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmNvcmUnKVxuICAgICAgICAucnVuKGNvbmZpZ1JvdXRlcyk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb25maWdSb3V0ZXMocm91dGVoZWxwZXIpIHtcbiAgICAgICAgcm91dGVoZWxwZXIuY29uZmlndXJlU3RhdGVzKGdldFN0YXRlcygpKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0U3RhdGVzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYWluQCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvbGF5b3V0L21haW4uaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdGb3V0J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdlcnJvci40MDQnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvNDA0JyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50QGVycm9yJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9jb3JlL2Vycm9ycy80MDQuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUGFnaW5hIGluIG9wYm91dydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnbm90b3Nwb3J0YWwuY29yZScpXG4gICAgICAgIC5ydW4oZmFjZWJvb2tJbml0KTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZhY2Vib29rSW5pdCgkd2luZG93LCBjb21tb24pIHtcbiAgICAgICAgLy93aGVuIGZhY2Vib29rIGlzIGluaXRpYWxpemVkXG4gICAgICAgIC8vd2UgY2FuIHJlbmRlciBHb29nbGUrIHRvb1xuICAgICAgICAkd2luZG93LmZiQXN5bmNJbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5pdEZhY2Vib29rKCk7XG4gICAgICAgICAgICBjb21tb24uJGJyb2FkY2FzdCgnZmIuaW5pdCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRGYWNlYm9vaygpIHtcbiAgICAgICAgICAgIEZCLmluaXQoe1xuICAgICAgICAgICAgICAgIGFwcElkOiAnNDY2MjgwMzUwMjAxOTYwJyxcbiAgICAgICAgICAgICAgICBjaGFubmVsVXJsOiAnanMvbW9kdWxlcy9jb3JlL2ZiLWNoYW5uZWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29va2llOiB0cnVlLFxuICAgICAgICAgICAgICAgIHhmYm1sOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZlcnNpb246ICd2Mi4zJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIC8vIGxvYWQgdGhlIEZhY2Vib29rIGphdmFzY3JpcHQgU0RLXG5cbiAgICAgICAgICAgIHZhciBqcyxcbiAgICAgICAgICAgICAgICBpZCA9ICdmYWNlYm9vay1qc3NkaycsXG4gICAgICAgICAgICAgICAgcmVmID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG5cbiAgICAgICAgICAgIGlmIChkLmdldEVsZW1lbnRCeUlkKGlkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAganMgPSBkLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAganMuaWQgPSBpZDtcbiAgICAgICAgICAgIGpzLmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgIGpzLnNyYyA9IFwiLy9jb25uZWN0LmZhY2Vib29rLm5ldC9lbl9VUy9zZGsuanNcIjtcblxuICAgICAgICAgICAgcmVmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGpzLCByZWYpO1xuXG4gICAgICAgIH0oZG9jdW1lbnQpKTtcbiAgICB9XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwuZGFzaGJvYXJkXG4gKiBDT05UUk9MTEVSOiBCYW5uZXJzZXRDb250cm9sbGVyXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5kYXNoYm9hcmQnKVxuICAgICAgICAuY29udHJvbGxlcignQmFubmVyc2V0Q29udHJvbGxlcicsIEJhbm5lcnNldENvbnRyb2xsZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gQmFubmVyc2V0Q29udHJvbGxlcihCbG9nKSB7XG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLmJsb2dzID0gW107XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcbiAgICAgICAgLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblxuICAgICAgICAgICAgQmxvZy5nZXRMaXN0KCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZtLmJsb2dzID0gZGF0YTtcbiAgICAgICAgICAgICAgICAkKHdpbmRvdykucmVzaXplKCk7IC8vdHJpZ2dlciByZXNpemUgdG8gY2FsbCBiYW5uZXJTZXQgSW5pdGlhbGl6YXRpb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLmRhc2hib2FyZFxuICogQ09OVFJPTExFUjogRGFzaGJvYXJkQ29udHJvbGxlclxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuZGFzaGJvYXJkJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0Rhc2hib2FyZENvbnRyb2xsZXInLCBEYXNoYm9hcmRDb250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIERhc2hib2FyZENvbnRyb2xsZXIoR1BDb2xsZWN0aW9ucywgTWFpbENoaW1wKSB7XG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICB2bS5mYWNlYm9va3VybCA9ICdodHRwczovL3d3dy5mYWNlYm9vay5jb20vdmJzZGVrbGltdG9yZW4nO1xuICAgICAgICB2bS5jb2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICB2bS5jYW1wYWlnbnMgPSBbXTtcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuICAgICAgICAvLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgdm0uY29sbGVjdGlvbnMgPSBHUENvbGxlY3Rpb25zLnRha2UoNCk7XG5cbiAgICAgICAgICAgIE1haWxDaGltcC5jYW1wYWlnbnMoMykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZtLmNhbXBhaWducyA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIFJPVVRFUzogbm90b3Nwb3J0YWwuZGFzaGJvYXJkXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5kYXNoYm9hcmQnKVxuICAgICAgICAucnVuKGNvbmZpZ1JvdXRlcyk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb25maWdSb3V0ZXMocm91dGVoZWxwZXIpIHtcbiAgICAgICAgcm91dGVoZWxwZXIuY29uZmlndXJlU3RhdGVzKGdldFN0YXRlcygpKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0U3RhdGVzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5kZXgnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2luZGV4JyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYWluQCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvbGF5b3V0L21haW4uaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdzdGFydCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5kZXguZGFzaGJvYXJkJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2Rhc2hib2FyZCcsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudEBpbmRleCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnRGFzaGJvYXJkQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NsaWRlckBpbmRleCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvZGFzaGJvYXJkL3NsaWRlci5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdiYW5uZXItc2V0QGluZGV4Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9kYXNoYm9hcmQvYmFubmVyLXNldC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQmFubmVyc2V0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRGFzaGJvYXJkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLmRhdGFcbiAqIEZBQ1RPUlk6IEhUVFBDYWNoZVxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5kYXRhJylcbiAgICAgICAgLmZhY3RvcnkoJ0hUVFBDYWNoZScsIEhUVFBDYWNoZSk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBIVFRQQ2FjaGUoUmVzdGFuZ3VsYXIsICRjYWNoZUZhY3RvcnkpIHtcbiAgICAgICAgdmFyIGNhY2hlO1xuICAgICAgICBjYWNoZSA9ICRjYWNoZUZhY3RvcnkoJ2h0dHAnKTtcblxuICAgICAgICByZXR1cm4gUmVzdGFuZ3VsYXIud2l0aENvbmZpZyhmdW5jdGlvbiAoUmVzdGFuZ3VsYXJDb25maWd1cmVyKSB7XG4gICAgICAgICAgICBSZXN0YW5ndWxhckNvbmZpZ3VyZXIuc2V0RGVmYXVsdEh0dHBGaWVsZHMoe2NhY2hlOiBjYWNoZX0pO1xuICAgICAgICAgICAgUmVzdGFuZ3VsYXJDb25maWd1cmVyLnNldFJlc3BvbnNlSW50ZXJjZXB0b3IoZnVuY3Rpb24gKHJlc3BvbnNlLCBvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAob3BlcmF0aW9uID09PSAncHV0JyB8fCBvcGVyYXRpb24gPT09ICdwb3N0JyB8fCBvcGVyYXRpb24gPT09ICdkZWxldGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gQ3VzdG9tIEdsb2JhbCBNZXRob2QocykgZm9yIFJlc3Rhbmd1bGFyaXplZCBFbGVtZW50cy5cbiAgICAgICAgICAgIFJlc3Rhbmd1bGFyQ29uZmlndXJlci5zZXRPbkVsZW1SZXN0YW5ndWxhcml6ZWQoZnVuY3Rpb24oZWxlbSwgaXNDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgZWxlbS5jbGVhckNhY2hlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwuaW5mb1xuICogQ09OVFJPTExFUjogQ2FtcGFpZ25zQ29udHJvbGxlclxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuaW5mbycpXG4gICAgICAgIC5jb250cm9sbGVyKCdDYW1wYWlnbnNDb250cm9sbGVyJywgQ2FtcGFpZ25zQ29udHJvbGxlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBDYW1wYWlnbnNDb250cm9sbGVyKE1haWxDaGltcCkge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0uY2FtcGFpZ25zID0gW107XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcbiAgICAgICAgLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICBNYWlsQ2hpbXAuY2FtcGFpZ25zKCkudGhlbihjYW1wYWlnbnNTdWNjZXNzKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gY2FtcGFpZ25zU3VjY2VzcyhyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZtLmNhbXBhaWducyA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBNYWlsQ2hpbXAubWFpbFRvU2VnbWVudHMoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSkoKTsiLCIvKipcbiAqIFJPVVRFUzogbm90b3Nwb3J0YWwuaW5mb1xuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuaW5mbycpXG4gICAgICAgIC5ydW4oY29uZmlnUm91dGVzKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNvbmZpZ1JvdXRlcyhyb3V0ZWhlbHBlcikge1xuICAgICAgICByb3V0ZWhlbHBlci5jb25maWd1cmVTdGF0ZXMoZ2V0U3RhdGVzKCkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdpbmZvJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9pbmZvJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYWluQCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL21vZHVsZXMvbGF5b3V0L21haW4uaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdJbmZvJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdpbmZvLmNvbnRhY3QnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvY29udGFjdCcsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudEBpbmZvJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9pbmZvL2NvbnRhY3QuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDb250YWN0J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdpbmZvLmFib3V0JyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2Fib3V0JyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50QGluZm8nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL2luZm8vYWJvdXQuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPdmVyIG9uemUgc2Nob29sJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdpbmZvLmNhcmUnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvY2FyZScsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudEBpbmZvJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9pbmZvL2NhcmUuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdab3JnIG9wIG9uemUgc2Nob29sJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdpbmZvLnRlYW0nLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvdGVhbScsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudEBpbmZvJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9pbmZvL3RlYW0uaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPbnMgdGVhbSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5mby5jYWxlbmRhcicsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9jYWxlbmRhcicsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudEBpbmZvJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9pbmZvL2NhbGVuZGFyLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnS2FsZW5kZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ2luZm8uY2FtcGFpZ25zJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2NhbXBhaWducycsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudEBpbmZvJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9pbmZvL2NhbXBhaWducy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ2FtcGFpZ25zQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTmlldXdzYnJpZXZlbidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfTtcbn0pKCk7IiwiLyoqXG4gKiBub3Rvc3BvcnRhbC5sYXlvdXRcbiAqIENPTlRST0xMRVI6IFNoZWxsQ29udHJvbGxlclxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwubGF5b3V0JylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1NoZWxsQ29udHJvbGxlcicsIFNoZWxsQ29udHJvbGxlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBTaGVsbENvbnRyb2xsZXIoTWFpbENoaW1wLCAkc3RhdGUpIHtcbiAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgdm0uY2FtcGFpZ25fbWVtYmVycyA9IDA7XG4gICAgICAgLy8gdm0uaGlkZUJyZWFkY3J1bWIgPSAkc3RhdGUuYztcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuICAgICAgICAvLy8vLy8vLy8vLy8vXG5cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAgIE1haWxDaGltcC5tZW1iZXJDb3VudCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2bS5jYW1wYWlnbl9tZW1iZXJzID0gcmVzcG9uc2UuZGF0YS5zdGF0cy5tZW1iZXJfY291bnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG5cblxufSkoKTsiLCIvKipcbiAqIG5vdG9zcG9ydGFsLmxpbmtzXG4gKiBGQUNUT1JZOiBCbG9nXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLmxpbmtzJylcbiAgICAgICAgLmZhY3RvcnkoJ0Jsb2cnLCBCbG9nKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEJsb2coSFRUUENhY2hlLCBQcm9maWxlU2VydmljZSwgJHEpIHtcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBnZXRMaXN0OiBnZXRMaXN0XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0UmVhbG0oKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvZmlsZVNlcnZpY2UucmVhbG1PZkRvbWFpbigna2xpbXRvcmVuLmJlJylcbiAgICAgICAgICAgICAgICAudGhlbihnZXRQcm9maWxlQ29tcGxldGUpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRQcm9maWxlQ29tcGxldGUocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRMaXN0KCkge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgZ2V0UmVhbG0oKS50aGVuKGdldFJlYWxtQ29tcGxldGUpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRSZWFsbUNvbXBsZXRlKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgSFRUUENhY2hlLnNlcnZpY2UoJ29yZ2FuaXphdGlvbi8nICsgcmVzcG9uc2UuaWQgKyAnL2Jsb2dzJykuZ2V0TGlzdCgpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBub3Rvc3BvcnRhbC5tZWRpYVxuICogRkFDVE9SWTogR1BDb2xsZWN0aW9uc1xuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC5tZWRpYScpXG4gICAgICAgIC5mYWN0b3J5KCdHUENvbGxlY3Rpb25zJywgR1BDb2xsZWN0aW9ucyk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBHUENvbGxlY3Rpb25zKCkge1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgZ2V0OiBnZXQsXG4gICAgICAgICAgICB0YWtlOiB0YWtlXG4gICAgICAgIH1cblxuICAgICAgICAvKnZhciBjb2xsZWN0aW9ucyA9IFtcbiAgICAgICAgICdodHRwczovL3BsdXMuZ29vZ2xlLmNvbS8rVkJTREVLbGltdG9yZW5KYWJiZWtlL3Bvc3RzLzJOVlppUHdRd3VrJyxcbiAgICAgICAgICdodHRwczovL3BsdXMuZ29vZ2xlLmNvbS8rVkJTREVLbGltdG9yZW5KYWJiZWtlL3Bvc3RzL1JZQ0xpalJWNm9ZJyxcbiAgICAgICAgICdodHRwczovL3BsdXMuZ29vZ2xlLmNvbS8rVkJTREVLbGltdG9yZW5KYWJiZWtlL3Bvc3RzLzlLMW5VRFRmUVJMJ1xuICAgICAgICAgXTsqL1xuICAgICAgICB2YXIgY29sbGVjdGlvbnMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJzIwMTUtMjAxNicsXG4gICAgICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tL2IvMTAzNDA2MTIzNjcxOTQyNTI5NjYwL2NvbGxlY3Rpb24vc1lMYTMnLFxuICAgICAgICAgICAgICAgIHByZXZpZXc6ICdodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vLUctUWotVFRBVzJNL1ZmYkU5Z3hnU1JJL0FBQUFBQUFBRFowL05mSm1zZXN4SElnL3c3MzgtaDQ5Mi1uby9EU0NfMDAyNi5KUEcnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICcyMDE0LTIwMTUnLFxuICAgICAgICAgICAgICAgIGhyZWY6ICdodHRwczovL3BsdXMuZ29vZ2xlLmNvbS9iLzEwMzQwNjEyMzY3MTk0MjUyOTY2MC9jb2xsZWN0aW9uL1U1YWEzJyxcbiAgICAgICAgICAgICAgICBwcmV2aWV3OiAnaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tLy1XdVFSWUNlblA4dy9WZWxzdnJHTC1mSS9BQUFBQUFBQUFxSS9yajZJVDBnUEpXTS93Nzc3LWg1ODMtbm8vRFNDTjMwMjguSlBHJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnMjAxMy0yMDE0JyxcbiAgICAgICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9wbHVzLmdvb2dsZS5jb20vYi8xMDM0MDYxMjM2NzE5NDI1Mjk2NjAvY29sbGVjdGlvbi9Fb05QMicsXG4gICAgICAgICAgICAgICAgcHJldmlldzogJ2h0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS8tWHVOYzh6Y0s2Y2cvVmVseWdXaGZLVUkvQUFBQUFBQUFBdlEvOEVaeldCRkJnZEEvdzc3Ny1oNTgzLW5vL0lNR18yNzg5LkpQRydcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdGFrZShudW1iZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgbnVtYmVyICYmIGkgPCBjb2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjb2xsZWN0aW9uc1tpXSk7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBub3Rvc3BvcnRhbC5tZWRpYVxuICogRkFDVE9SWTogTWFpbENoaW1wXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLm1lZGlhJylcbiAgICAgICAgLmZhY3RvcnkoJ01haWxDaGltcCcsIE1haWxDaGltcCk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBNYWlsQ2hpbXAoJGh0dHAsICRxKSB7XG5cbiAgICAgICAgdmFyIGNhdGVnb3JpZXNfY2FjaGUgPSBudWxsO1xuICAgICAgICB2YXIgaW50ZXJlc3RfY2FjaGUgPSBudWxsO1xuXG4gICAgICAgIHZhciBuZXdzbGV0dGVyX2lkID0gMjA0MzI1O1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgY2FtcGFpZ25zOiBjYW1wYWlnbnMsXG4gICAgICAgICAgICBtYWlsVG9TZWdtZW50czogbWFpbFRvU2VnbWVudHMsXG4gICAgICAgICAgICBtZW1iZXJDb3VudDogbWVtYmVyQ291bnQsXG4gICAgICAgICAgICBpbnRlcmVzdHM6IGludGVyZXN0c1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGNhbXBhaWducyh0YWtlKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21haWxjaGltcC9jYW1wYWlnbnMnLyosIHtwYXJhbXM6IHt0YWtlOiB0YWtlfX0gVEFLRSBBTEwgTk9XIEFTIElUIE1VU1QgQkUgRklMVEVSRUQqLylcbiAgICAgICAgICAgICAgICAudGhlbihjYW1wYWlnbnNTdWNjZXNzKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gY2FtcGFpZ25zU3VjY2VzcyhyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuY2FtcGFpZ25zLCBmdW5jdGlvbiAoY2FtcGFpZ24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW1wYWlnbi5yZWNpcGllbnRzLnNlZ21lbnRfb3B0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpIHx8IGkgPCB0YWtlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2FtcGFpZ24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBtYWlsVG9TZWdtZW50cygpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWFpbGNoaW1wL2NhbXBhaWducycvKiwge3BhcmFtczoge3Rha2U6IHRha2V9fSBUQUtFIEFMTCBOT1cgQVMgSVQgTVVTVCBCRSBGSUxURVJFRCovKVxuICAgICAgICAgICAgICAgIC50aGVuKGNhbXBhaWduc1N1Y2Nlc3MpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBjYW1wYWlnbnNTdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmNhbXBhaWducywgZnVuY3Rpb24gKGNhbXBhaWduKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW1wYWlnbi5yZWNpcGllbnRzLnNlZ21lbnRfb3B0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2FtcGFpZ24ucmVjaXBpZW50cy5zZWdtZW50X29wdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2FtcGFpZ24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1lbWJlckNvdW50KCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9tYWlsY2hpbXAvbWVtYmVyX2NvdW50JylcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhtZW1iZXJDb3VudFN1Y2Nlc3MpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBtZW1iZXJDb3VudFN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGludGVyZXN0cygpIHtcbiAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS9tYWlsY2hpbXAvbGlzdHMvJyArIG5ld3NsZXR0ZXJfaWQgKyAnL2NhdGVnb3JpZXMnKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIC9saXN0cy97bGlzdF9pZH0vaW50ZXJlc3QtY2F0ZWdvcmllcy97Y2F0ZWdvcnlfaWR9L2ludGVyZXN0c1xuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIFJPVVRFUzogbm90b3Nwb3J0YWwuaW5mb1xuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwuaW5mbycpXG4gICAgICAgIC5ydW4oY29uZmlnUm91dGVzKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNvbmZpZ1JvdXRlcyhyb3V0ZWhlbHBlcikge1xuICAgICAgICByb3V0ZWhlbHBlci5jb25maWd1cmVTdGF0ZXMoZ2V0U3RhdGVzKCkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdtZWRpYScsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvbWVkaWEnLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ21haW5AJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9sYXlvdXQvbWFpbi5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2luIGJlZWxkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdtZWRpYS5waG90b3MnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvcGhvdG9zJyxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50QG1lZGlhJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvbW9kdWxlcy9tZWRpYS9waG90b3MuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1Bob3RvQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnZm90b1xcJ3MnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ21lZGlhLnZpZGVvcycsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy92aWRlb3MnLFxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAbWVkaWEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9tb2R1bGVzL21lZGlhL3ZpZGVvcy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVmlkZW9Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICd2aWRlb1xcJ3MnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH07XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwubWVkaWFcbiAqIENPTlRST0xMRVI6IFBob3RvQ29udHJvbGxlclxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwubWVkaWEnKVxuICAgICAgICAuY29udHJvbGxlcignUGhvdG9Db250cm9sbGVyJywgUGhvdG9Db250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFBob3RvQ29udHJvbGxlcihHUENvbGxlY3Rpb25zKSB7XG4gICAgICAgIC8qanNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICB2bS5jb2xsZWN0aW9ucyA9IFtdO1xuXG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICB2bS5jb2xsZWN0aW9ucyA9IEdQQ29sbGVjdGlvbnMuZ2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsIi8qKlxuICogbm90b3Nwb3J0YWwud2lkZ2V0c1xuICogRElSRUNUSVZFOiBhcHBlYXJBbmltYXRpb25cbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLndpZGdldHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdhcHBlYXJBbmltYXRpb24nLCBhcHBlYXJBbmltYXRpb24pO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gYXBwZWFyQW5pbWF0aW9uKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5oYXNDbGFzcygnbm8tY3NzdHJhbnNpdGlvbnMnKSkge1xuICAgICAgICAgICAgICAgICQoZWxlbWVudCkuYmluZCgnYXBwZWFyJywgYXBwZWFyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFwcGVhcigpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBhdHRycy5hcHBlYXJBbmltYXRpb25EZWxheSB8fCAxO1xuICAgICAgICAgICAgICAgIGlmIChkZWxheSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50KS5jc3MoJ2FuaW1hdGlvbi1kZWxheScsIGRlbGF5ICsgJ21zJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQoZWxlbWVudCkuYWRkQ2xhc3MoJ2FuaW1hdGVkJykuYWRkQ2xhc3MoYXR0cnMuYXBwZWFyQW5pbWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG5cbiIsIi8qKlxuICogbm90b3Nwb3J0YWwud2lkZ2V0c1xuICogRElSRUNUSVZFOiBibHVyXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC53aWRnZXRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnYmx1cicsIGJsdXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gYmx1cigkdGltZW91dCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnZndiLWJnIGZ3Yi1ibHVyJyk7XG5cbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKSxcbiAgICAgICAgICAgICAgICAgICAgcHJlcGVuZEJveCA9ICc8ZGl2IGNsYXNzPVwiYmx1ci1ib3hcIi8+JztcblxuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudC5maW5kKCdjYW52YXMnKS5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMuaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBhdHRycy5pbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmNzcygnYmFja2dyb3VuZC1pbWFnZScpICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBlbGVtZW50LmNzcygnYmFja2dyb3VuZC1pbWFnZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3VybCgnLCAnJykucmVwbGFjZSgnKScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQaXhhc3RpYy5wcm9jZXNzKGltZywgJ2JsdXJmYXN0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogYXR0cnMuYW1vdW50IHx8IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLnByZXBlbmQocHJlcGVuZEJveClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuYmx1ci1ib3gnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnByZXBlbmQoaW1nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBlbGVtZW50LmZpbmQoJ2NhbnZhcycpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW52YXMud2lkdGgoKSA9PSBlbGVtZW50LndpZHRoKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAtKChjYW52YXMuaGVpZ2h0KCkgLSBlbGVtZW50LmhlaWdodCgpKSAvIDIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAtKChjYW52YXMud2lkdGgoKSAtIGVsZW1lbnQud2lkdGgoKSkgLyAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ2JsdXItbG9hZCcpO1xuICAgICAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9XG59KSgpO1xuXG4iLCIvKipcbiAqIG5vdG9zcG9ydGFsLndpZGdldHNcbiAqIERJUkVDVElWRTogZmFuY3lib3hcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLndpZGdldHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdmYW5jeWJveCcsIGZhbmN5Ym94KTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZhbmN5Ym94KCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgZWxlbWVudC5maW5kKCcuZ2FsbGVyeS1pbWFnZXMsIC5saWdodGJveCcpLmZhbmN5Ym94KHtcbiAgICAgICAgICAgICAgICBuZXh0RWZmZWN0OiAnZmFkZScsXG4gICAgICAgICAgICAgICAgcHJldkVmZmVjdDogJ2ZhZGUnLFxuICAgICAgICAgICAgICAgIG9wZW5FZmZlY3Q6ICdmYWRlJyxcbiAgICAgICAgICAgICAgICBjbG9zZUVmZmVjdDogJ2ZhZGUnLFxuICAgICAgICAgICAgICAgIGhlbHBlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9ja2VkOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ292ZXInXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRwbDoge1xuICAgICAgICAgICAgICAgICAgICBjbG9zZUJ0bjogJzxhIHRpdGxlPVwiU2x1aXRlblwiIGNsYXNzPVwiZmFuY3lib3gtaXRlbSBmYW5jeWJveC1jbG9zZVwiIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj7DlzwvYT4nLFxuICAgICAgICAgICAgICAgICAgICBuZXh0OiAnPGEgdGl0bGU9XCJWb2xnZW5kZVwiIGNsYXNzPVwiZmFuY3lib3gtbmF2IGZhbmN5Ym94LW5leHRcIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+XFxuXFxcblx0XHRcdFx0XHRcdDxzcGFuPjxzdmcgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiOXB4XCIgaGVpZ2h0PVwiMTZweFwiIHZpZXdCb3g9XCIwIDAgOSAxNlwiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCA5IDE2XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj48cG9seWdvbiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGZpbGw9XCIjZmNmY2ZjXCIgcG9pbnRzPVwiMSwwLjAwMSAwLDEuMDAxIDcsOCAwLDE0Ljk5OSAxLDE1Ljk5OSA5LDggXCIvPjwvc3ZnPjwvc3Bhbj5cXG5cXFxuXHRcdFx0XHRcdDwvYT4nLFxuICAgICAgICAgICAgICAgICAgICBwcmV2OiAnPGEgdGl0bGU9XCJWb3JpZ2VcIiBjbGFzcz1cImZhbmN5Ym94LW5hdiBmYW5jeWJveC1wcmV2XCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiPlxcblxcXG5cdFx0XHRcdFx0XHQ8c3Bhbj48c3ZnIHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIjlweFwiIGhlaWdodD1cIjE2cHhcIiB2aWV3Qm94PVwiMCAwIDkgMTZcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgOSAxNlwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+PHBvbHlnb24gZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBmaWxsPVwiI2ZjZmNmY1wiIHBvaW50cz1cIjgsMTUuOTk5IDksMTQuOTk5IDIsOCA5LDEuMDAxIDgsMC4wMDEgMCw4IFwiLz48L3N2Zz48L3NwYW4+XFxuXFxcblx0XHRcdFx0XHQ8L2E+J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9XG59KSgpO1xuXG4iLCIvKipcbiAqIG5vdG9zcG9ydGFsLndpZGdldHNcbiAqIERJUkVDVElWRTogbGl2aWNvblxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbm90b3Nwb3J0YWwud2lkZ2V0cycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2xpdmljb24nLCBsaXZpY29uKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxpdmljb24oKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHNjb3BlOiBmYWxzZSxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdsaXZpY29uJyk7XG4gICAgICAgICAgICBlbGVtZW50LmFkZExpdmljb24oKTtcbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTtcblxuIiwiLyoqXG4gKiBub3Rvc3BvcnRhbC53aWRnZXRzXG4gKiBESVJFQ1RJVkU6IHBhcmFsYXhcbiAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ25vdG9zcG9ydGFsLndpZGdldHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdwYXJhbGF4JywgcGFyYWxheCk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwYXJhbGF4KCR0aW1lb3V0LCAkd2luZG93KSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogbGlua0Z1bmNcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnZndiLWJnIGZ3Yi1ibHVyJyk7XG4gICAgICAgICAgICAgICAgdmFyIHNwZWVkID0gYXR0cnMuc3BlZWQgfHwgMztcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGJnUG9zaXRpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkdGhpc1kgPSBlbGVtZW50Lm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3dZID0gJHdpbmRvdy5wYWdlWU9mZnNldDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJHRoaXNZID4gJHdpbmRvd1kpXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7YmFja2dyb3VuZFBvc2l0aW9uOiAnNTAlICcgKyAoKCR0aGlzWSAtICR3aW5kb3dZKSAvIHNwZWVkKSArICdweCd9KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3Moe2JhY2tncm91bmRQb3NpdGlvbjogJzUwJSAnICsgKC0oJHRoaXNZIC0gJHdpbmRvd1kpIC8gc3BlZWQpICsgJ3B4J30pO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgYmdQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoJ3Njcm9sbCcsIGJnUG9zaXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH1cbn0pKCk7XG5cbiIsIi8qKlxuICogbm90b3Nwb3J0YWwud2lkZ2V0c1xuICogRElSRUNUSVZFOiByc1NsaWRyXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdub3Rvc3BvcnRhbC53aWRnZXRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgncnNTbGlkZXInLCByc1NsaWRlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiByc1NsaWRlcigkdGltZW91dCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vUmV2b2x1dGlvbiBTbGlkZXIgU3RhcnRcbiAgICAgICAgICAgICAgICB2YXIgcmV2b2x1dGlvblNsaWRlciA9IGVsZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAocmV2b2x1dGlvblNsaWRlci5jbG9zZXN0KCcucnMtc2xpZGVyJykuaGFzQ2xhc3MoJ2Z1bGwtd2lkdGgnKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBib2R5LndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BIZWlnaHQgPSAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVySGVpZ2h0ID0gMTA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmVsZW1lbnQoJyN0b3AtYm94JykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9keS5oYXNDbGFzcygnaGlkZGVuLXRvcCcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcEhlaWdodCA9IGFuZ3VsYXIuZWxlbWVudCgnI3RvcC1ib3gnKS5vdXRlckhlaWdodCgpIC0gMzI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoKGJvZHkud2lkdGgoKSkgPj0gMTIwMClcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGJvZHkuaGVpZ2h0KCkgLSAodG9wSGVpZ2h0ICsgaGVhZGVySGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gODAwO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldm9sdXRpb25TbGlkZXIucmV2b2x1dGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogNjAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0d2lkdGg6IDEyMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVRodW1iczogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uVHlwZTogJ2J1bGxldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uQXJyb3dzOiAnc29sbycsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25WQWxpZ246ICd0b3AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhPZmZzZXQ6IC01NDUsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uVk9mZnNldDogMzAsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlVGltZXJCYXI6ICdvbidcbiAgICAgICAgICAgICAgICAgICAgfSkucGFyZW50KCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2xvYWQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXZvbHV0aW9uU2xpZGVyLnJldm9sdXRpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXk6IDYwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydHdpZHRoOiAxMjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRoZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVUaHVtYnM6IDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvblR5cGU6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uSG92ZXJTdG9wOiAnb2ZmJ1xuICAgICAgICAgICAgICAgICAgICB9KS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnbG9hZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy9SZXZvbHV0aW9uIFNsaWRlciBFbmRcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG5cbiIsIi8vIEluY2x1ZGUgaW4gaW5kZXguaHRtbCBzbyB0aGF0IGFwcCBsZXZlbCBleGNlcHRpb25zIGFyZSBoYW5kbGVkLlxuLy8gRXhjbHVkZSBmcm9tIHRlc3RSdW5uZXIuaHRtbCB3aGljaCBzaG91bGQgcnVuIGV4YWN0bHkgd2hhdCBpdCB3YW50cyB0byBydW5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2Jsb2Nrcy5leGNlcHRpb24nKVxuICAgICAgICAucHJvdmlkZXIoJ2V4Y2VwdGlvbkhhbmRsZXInLCBleGNlcHRpb25IYW5kbGVyUHJvdmlkZXIpXG4gICAgICAgIC5jb25maWcoY29uZmlnKTtcblxuICAgIC8qKlxuICAgICAqIE11c3QgY29uZmlndXJlIHRoZSBleGNlcHRpb24gaGFuZGxpbmdcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19XG4gICAgICovXG4gICAgZnVuY3Rpb24gZXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyKCkge1xuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICBhcHBFcnJvclByZWZpeDogdW5kZWZpbmVkXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jb25maWd1cmUgPSBmdW5jdGlvbiAoYXBwRXJyb3JQcmVmaXgpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmFwcEVycm9yUHJlZml4ID0gYXBwRXJyb3JQcmVmaXg7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge2NvbmZpZzogdGhpcy5jb25maWd9O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZSBieSBzZXR0aW5nIGFuIG9wdGlvbmFsIHN0cmluZyB2YWx1ZSBmb3IgYXBwRXJyb3JQcmVmaXguXG4gICAgICogQWNjZXNzaWJsZSB2aWEgY29uZmlnLmFwcEVycm9yUHJlZml4ICh2aWEgY29uZmlnIHZhbHVlKS5cbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19ICRwcm92aWRlXG4gICAgICogQHJldHVybiB7W3R5cGVdfVxuICAgICAqIEBuZ0luamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZpZygkcHJvdmlkZSkge1xuICAgICAgICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRleGNlcHRpb25IYW5kbGVyJywgZXh0ZW5kRXhjZXB0aW9uSGFuZGxlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0ZW5kIHRoZSAkZXhjZXB0aW9uSGFuZGxlciBzZXJ2aWNlIHRvIGFsc28gZGlzcGxheSBhIHRvYXN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gJGRlbGVnYXRlXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBleGNlcHRpb25IYW5kbGVyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBsb2dnZXJcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhlIGRlY29yYXRlZCAkZXhjZXB0aW9uSGFuZGxlciBzZXJ2aWNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXh0ZW5kRXhjZXB0aW9uSGFuZGxlcigkZGVsZWdhdGUsIGV4Y2VwdGlvbkhhbmRsZXIsIGxvZ2dlcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXhjZXB0aW9uLCBjYXVzZSkge1xuICAgICAgICAgICAgdmFyIGFwcEVycm9yUHJlZml4ID0gZXhjZXB0aW9uSGFuZGxlci5jb25maWcuYXBwRXJyb3JQcmVmaXggfHwgJyc7XG4gICAgICAgICAgICB2YXIgZXJyb3JEYXRhID0ge2V4Y2VwdGlvbjogZXhjZXB0aW9uLCBjYXVzZTogY2F1c2V9O1xuICAgICAgICAgICAgZXhjZXB0aW9uLm1lc3NhZ2UgPSBhcHBFcnJvclByZWZpeCArIGV4Y2VwdGlvbi5tZXNzYWdlO1xuICAgICAgICAgICAgJGRlbGVnYXRlKGV4Y2VwdGlvbiwgY2F1c2UpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb3VsZCBhZGQgdGhlIGVycm9yIHRvIGEgc2VydmljZSdzIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgKiBhZGQgZXJyb3JzIHRvICRyb290U2NvcGUsIGxvZyBlcnJvcnMgdG8gcmVtb3RlIHdlYiBzZXJ2ZXIsXG4gICAgICAgICAgICAgKiBvciBsb2cgbG9jYWxseS4gT3IgdGhyb3cgaGFyZC4gSXQgaXMgZW50aXJlbHkgdXAgdG8geW91LlxuICAgICAgICAgICAgICogdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAgICAgKiAgICAgdGhyb3cgeyBtZXNzYWdlOiAnZXJyb3IgbWVzc2FnZSB3ZSBhZGRlZCcgfTtcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGV4Y2VwdGlvbi5tZXNzYWdlLCBlcnJvckRhdGEpO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7IiwiLyoqXG4gKiBibG9ja3MuZXhjZXB0aW9uXG4gKiBGQUNUT1JZOiBleGNlcHRpb25cbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYmxvY2tzLmV4Y2VwdGlvbicpXG4gICAgICAgIC5mYWN0b3J5KCdleGNlcHRpb24nLCBleGNlcHRpb24pO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZXhjZXB0aW9uKGxvZ2dlcikge1xuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIGNhdGNoZXI6IGNhdGNoZXJcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICAgICAgZnVuY3Rpb24gY2F0Y2hlcihtZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKG1lc3NhZ2UsIHJlYXNvbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIGJsb2Nrcy5sb2dnZXJcbiAqIEZBQ1RPUlk6IGxvZ2dlclxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdibG9ja3MubG9nZ2VyJylcbiAgICAgICAgLmZhY3RvcnkoJ2xvZ2dlcicsIGxvZ2dlcik7XG5cbiAgICBsb2dnZXIuJGluamVjdCA9IFsnJGxvZycsICd0b2FzdHInXTtcblxuICAgIGZ1bmN0aW9uIGxvZ2dlcigkbG9nLCB0b2FzdHIpIHtcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICAgICBzaG93VG9hc3RzOiB0cnVlLFxuXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICBpbmZvOiBpbmZvLFxuICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICAgIHdhcm5pbmc6IHdhcm5pbmcsXG5cbiAgICAgICAgICAgIHJlbW92ZWQ6IHJlbW92ZWQsXG4gICAgICAgICAgICBzYXZlZDogc2F2ZWQsXG5cbiAgICAgICAgICAgIC8vIHN0cmFpZ2h0IHRvIGNvbnNvbGU7IGJ5cGFzcyB0b2FzdHJcbiAgICAgICAgICAgIGxvZzogJGxvZy5sb2dcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgZGF0YSwgdGl0bGUpIHtcbiAgICAgICAgICAgIHRvYXN0ci5lcnJvcihtZXNzYWdlLCB0aXRsZSk7XG4gICAgICAgICAgICAkbG9nLmVycm9yKCdGb3V0OiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbmZvKG1lc3NhZ2UsIGRhdGEsIHRpdGxlKSB7XG4gICAgICAgICAgICB0b2FzdHIuaW5mbyhtZXNzYWdlLCB0aXRsZSk7XG4gICAgICAgICAgICAkbG9nLmluZm8oJ0luZm86ICcgKyBtZXNzYWdlLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MobWVzc2FnZSwgZGF0YSwgdGl0bGUpIHtcbiAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UsIHRpdGxlKTtcbiAgICAgICAgICAgICRsb2cuaW5mbygnU3VjY2VzOiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UsIGRhdGEsIHRpdGxlKSB7XG4gICAgICAgICAgICB0b2FzdHIud2FybmluZyhtZXNzYWdlLCB0aXRsZSk7XG4gICAgICAgICAgICAkbG9nLndhcm4oJ0xldCBvcDogJyArIG1lc3NhZ2UsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlZChtZXNzYWdlLCBkYXRhLCB0aXRsZSkge1xuICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcobWVzc2FnZSwgdGl0bGUpO1xuICAgICAgICAgICAgJGxvZy53YXJuKCdWZXJ3aWpkZXJkOiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzYXZlZChtZXNzYWdlLCBkYXRhLCB0aXRsZSkge1xuICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MobWVzc2FnZSwgdGl0bGUpO1xuICAgICAgICAgICAgJGxvZy5pbmZvKCdCZXdhYXJkOiAnICsgbWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsIi8qKlxuICogbm90b3NwbHVzLnJvdXRlclxuICogRkFDVE9SWTogcm91dGVoZWxwZXJcbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYmxvY2tzLnJvdXRlcicpXG4gICAgICAgIC5wcm92aWRlcigncm91dGVoZWxwZXJDb25maWcnLCByb3V0ZWhlbHBlckNvbmZpZylcbiAgICAgICAgLmZhY3RvcnkoJ3JvdXRlaGVscGVyJywgcm91dGVoZWxwZXIpO1xuXG4gICAgcm91dGVoZWxwZXIuJGluamVjdCA9IFsncm91dGVoZWxwZXJDb25maWcnLCAnJHJvb3RTY29wZScsICckc3RhdGUnXTtcblxuICAgIGZ1bmN0aW9uIHJvdXRlaGVscGVyQ29uZmlnKCkge1xuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgICAgdGhpcy5jb25maWcgPSB7fTtcblxuICAgICAgICB0aGlzLiRnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvbmZpZzogdGhpcy5jb25maWdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm91dGVoZWxwZXIocm91dGVoZWxwZXJDb25maWcsICRyb290U2NvcGUsICRzdGF0ZSkge1xuICAgICAgICB2YXIgJHVybFJvdXRlclByb3ZpZGVyID0gcm91dGVoZWxwZXJDb25maWcuY29uZmlnLiR1cmxSb3V0ZXJQcm92aWRlcjtcbiAgICAgICAgdmFyICRzdGF0ZVByb3ZpZGVyID0gcm91dGVoZWxwZXJDb25maWcuY29uZmlnLiRzdGF0ZVByb3ZpZGVyO1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgY29uZmlndXJlU3RhdGVzOiBjb25maWd1cmVTdGF0ZXMsXG4gICAgICAgICAgICBzdGF0ZXM6IHN0YXRlcyxcbiAgICAgICAgICAgIGdldDogZ2V0XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5pdCgpO1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBjb25maWd1cmVTdGF0ZXMoc3RhdGVzKSB7XG4gICAgICAgICAgICBzdGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuY29uZmlnLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmNvbmZpZy5uY3lCcmVhZGNydW1iID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0YXRlLmNvbmZpZy50aXRsZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZShzdGF0ZS5zdGF0ZSwgc3RhdGUuY29uZmlnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3RhdGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nZXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldChwYXR0ZXJuKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHN0YXRlcygpLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLm5hbWUgPT09IHBhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgIHVwZGF0ZURvY1RpdGxlKCk7XG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvZXJyb3IvNDA0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVEb2NUaXRsZSgpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJyxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXZlbnQsIGN1cnJlbnQsIHByZXZpb3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IHJvdXRlaGVscGVyQ29uZmlnLmNvbmZpZy50aXRsZSArIChjdXJyZW50LnRpdGxlID8gJyB8ICcgKyBjdXJyZW50LnRpdGxlIDogJycpO1xuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRpdGxlID0gdGl0bGU7IC8vIGRhdGEgYmluZCB0byA8dGl0bGU+XG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJHN0YXRlID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICB9XG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==